!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3"),require("jQuery")):"function"==typeof define&&define.amd?define("d3_article_timeline",["d3","jQuery"],e):"object"==typeof exports?exports.d3_article_timeline=e(require("d3"),require("jQuery")):t.d3_article_timeline=e(t.d3,t.jQuery)}("undefined"!=typeof self?self:this,(function(t,e){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"TimelineVis",{enumerable:!0,get:function(){return a.default}});var n,a=(n=r(1))&&n.__esModule?n:{default:n}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!==n(t)&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var l=a?Object.getOwnPropertyDescriptor(t,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=t[i]}r.default=t,e&&e.set(t,r);return r}(r(2));function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=((a=r(3))&&a.__esModule?a:{default:a}).default,u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,t);var r={el:null,data:null,width:960,color:i.scale.ordinal(i.schemeCategory10),forceStrength:-2};Object.assign(this,r,e),this._data=this.data,this.data=this.updateData,void 0===this.height&&(this.height=.625*this.width),this.init=!1,console.log(this._data),null!==this.el&&null!==this._data&&(this.draw(this.el),this.init=!0)}var e,r,n;return e=t,(r=[{key:"updateData",value:function(t){return arguments.length?(this._data=t,!1===this.init?(this.draw(this.el),this.init=!0):console.log("UPDATING DATA NOT YET IMPLEMENTED"),this):this._data}},{key:"draw",value:function(t){var e=this.width,r=this.height,n=this._data;return t.each((function(){function t(t,e){return"translate("+t+","+e+")"}var a,o=i.textwrap().method("tspans");i.select(window).on("resize",yt),(a=n).forEach((function(t){t.authors=t.authors,t.eigenfactor=t.eigenfactor_score,t.venue=t.journal,t.year=t.year,t.url="http://labs.jstor.org"+t.stable_url})),(n=a).forEach((function(t){t.lane=0,null===t.eigenfactor&&(t.eigenfactor=0)}));var l=getParameterByName("m");"icon"!=l&&"circle"!=l&&(l="circle");var s=i.nest().key((function(t){return t.year})).sortValues((function(t,e){return i.ascending(t.title,e.title)})).entries(n);s.forEach((function(t){t.firstTitle=t.values[0].id,t.sum_eigenfactor=i.sum(t.values,(function(t){return t.eigenfactor})),t.lane=0,t.year=+t.key}));var u=i.max(s,(function(t){return t.values.length})),f=["Climate change"],d=f.length,p=+i.min(s,(function(t){return t.year}))-1,y=+i.max(s,(function(t){return t.year}))+1,h=[20,15,15,150];e=e-h[1]-h[3];var m,g,x=12*d+30,v=(r=r-h[0]-h[2])-x-50,b={opacity:.2},w={opacity:1},_=i.scale.linear().domain([p,y]).range([0,e]),k=i.scale.linear().range([0,e]),M=i.scale.linear().domain([0,d]).range([0,v]),j=i.scale.linear().domain([0,d]).range([0,x]),A=i.extent(n,(function(t){return t.eigenfactor})),I=i.scale.linear().domain(A).range([5,10]),z=i.scale.linear().domain(A).range([8,18]),P=i.scale.linear().domain(i.extent(s,(function(t){return t.sum_eigenfactor}))).range([8,18]),O=e+h[1]+h[3],T=r+h[0]+h[2],E=i.select("#timeline").append("svg").attr("data-maximizedHeight",T).attr("data-currHeight",T).attr("viewBox","0 0 "+O+" "+T).attr("preserveAspectRatio","xMidYMid meet").attr("class","chart");E.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",e).attr("height",v);for(var S=E.append("g").attr("transform","translate(0,"+h[0]+")").attr("width",O).attr("height",v).attr("class","mainContainer"),L=S.append("g").attr("transform","translate("+h[3]+",0)").attr("width",e).attr("height",v).attr("class","main"),D=E.append("g").attr("transform","translate(0,"+(v+h[0])+")").attr("width",O).attr("height",v).attr("class","miniContainer"),F=D.append("g").attr("transform","translate("+h[3]+",0)").attr("width",e).attr("height",x).attr("class","mini"),B=L.append("g"),C=0,V=f.length;C<V;C++)B.append("line").attr("x1",h[1]).attr("y1",(function(){return j(C)})).attr("x2",e).attr("y2",(function(){return j(C)})).attr("class","laneLine").attr("stroke","lightgray");var N=S.append("g").attr("transform","translate(0,"+h[0]+")"),q=N.append("text").text("Number of influential articles in the year").style("font-size","14px").attr("class","laneText").attr("id","mainLabel");o.bounds({height:v,width:.9*h[3]}),q.call(o);var Q=c("#mainLabel").height(),Y=N.append("text").attr("transform","translate(0,"+Q+")").text("Size of circles indicates level of influence").style("font-size","11px").attr("class","laneText").attr("id","mainLabelSub");o.bounds({height:v-Q,width:.9*h[3]}),Y.call(o);var H=F.append("g");for(C=0,V=f.length;C<V;C++)H.append("line").attr("x1",h[1]).attr("y1",(function(){return j(C)})).attr("x2",e).attr("y2",(function(){return j(C)})).attr("class","laneLine").attr("stroke","lightgray");var R=D.append("g").attr("transform","translate(0,"+h[0]+")").append("text").text("Select date range to focus on:").style("font-size","14px").attr("class","laneText");o.bounds({height:x,width:.9*h[3]}),R.call(o);var W=i.svg.axis().orient("bottom").scale(_).tickFormat(i.format("d"));F.append("g").attr("class","xaxis").attr("transform","translate(0,"+x+")").call(W);var X=i.svg.axis().orient("top").scale(k).tickFormat(i.format("d")),G=L.append("g").attr("class","xaxis").call(X),U=L.append("g").attr("class","mainClipPath").attr("clip-path","url(#clip)"),J=F.append("g").selectAll(".miniItem").data(n).enter().append("g").attr("class","miniItem").attr("transform",(function(t){return t.x=_(t.year),t.y=x/2,t.radius=1+I(t.eigenfactor),"translate("+t.x+","+t.y+")"})),K=Math.max(1/u,.3);switch(J.append("circle").attr("class","miniMark").attr("r",(function(t){return t.radius})).style("opacity",K),l){case"circle":var Z=(tt=U.append("g").selectAll(".yearItem").data(s).enter().append("g").attr("class","yearItem").attr("transform",(function(t){return t.x=0,t.y=0,t.radius=P(t.sum_eigenfactor),"translate("+t.x+","+t.y+")"}))).append("circle").attr("class","yearMark").on("mouseover",(function(t){vt(),xt(et.filter((function(e){return e.year===t.year})),i.select(this))})).style(w);tt.append("text").attr("text-anchor","middle").attr("y",".3em").attr("class","numIndicator").text((function(t){return t.values.length}));var $=(et=tt.append("g").selectAll(".paperItem").data((function(t){return t.values})).enter().append("g").attr("class","paperItem").attr("data-year",(function(t){return t.year})).attr("transform",(function(t,e){return t.x=0,t.y=0,t.idx=e,t.radius=z(t.eigenfactor),"translate("+t.x+","+t.y+")"})).attr("title",(function(t){var e=c("<span>");return e.append(c('<p class="tooltip title">').text(t.title)),e.append(c('<p class="tooltip authors">').text(t.authors.join(", "))),e.append(c('<p class="tooltip journal">').text(t.venue)),e.append(c('<p class="tooltip year">').text(t.year)),e.html()})).on("mouseover",(function(t){})).on("click",(function(t){t.url}))).append("circle").attr("r",0).attr("class","paperMark");break;case"icon":var tt,et=(tt=U.append("g").selectAll(".yearItem").data(s).enter().append("g").attr("class","yearItem").attr("transform",(function(t){return t.x=0,t.y=0,t.radius=P(t.sum_eigenfactor),"translate("+t.x+","+t.y+")"}))).append("g").selectAll(".paperItem").data((function(t){return t.values})).enter().append("g").attr("class","paperItem").attr("transform",(function(t,e){return t.x=0,t.y=0,t.idx=e,t.radius=z(t.eigenfactor),"translate("+t.x+","+t.y+")"})),rt=($=et.append("text").attr("class","paperMark").style("font-family","FontAwesome").text("").attr("text-anchor","middle").on("mouseover",(function(t){vt(),xt(et.filter((function(e){return e.year===t.year})))}))).node().getBBox();et.insert("rect",".paperMark").attr("x",rt.x).attr("y",rt.y).attr("width",rt.width).attr("height",rt.height).style("fill","white")}et.append("text").attr("text-anchor","end").attr("class","paperLabel").style("display","none").attr("transform","translate(-15,0)").html((function(t){return'<a target="_blank" href="'+t.url+'">'+t.title+"</a>"}));var nt=i.svg.brush().x(_).on("brush",yt);F.append("g").attr("class","x brush").call(nt).selectAll("rect").attr("y",1).attr("height",x-1);var at=[];for(C=0;C<2;C++)at.push(E.append("line").attr("class","extentLine"));function it(t,r){nt.empty()?at.forEach((function(t){t.style("display","none")})):(at.forEach((function(t){t.style("display","")})),at[0].attr("x1",h[3]).attr("y1",h[0]).attr("x2",t+h[3]).attr("y2",v+h[0]),at[1].attr("x1",e+h[3]).attr("y1",h[0]).attr("x2",r+h[3]).attr("y2",v+h[0]))}function ot(t){if(nt.empty())dt(m=(y+p)/2,g=(y+p)/2+1,0);else switch(t){case"left":dt(Math.round(m-1),Math.round(g-1),150,"linear");break;case"right":dt(Math.round(m+1),Math.round(g+1),150,"linear");break;case"zoomIn":dt(Math.round(m+1),Math.round(g-1),150,"linear");break;case"zoomOut":dt(Math.round(m-1),Math.round(g+1),150,"linear")}}var lt=U.append("g").attr("class","scrollItems").attr("transform","translate(0,"+.7*v+")");lt.append("text").attr("class","leftArrow").style("font-family","FontAwesome").text("").attr("x",0).on("click",(function(){ot("left")})),lt.append("text").attr("class","rightArrow").style("font-family","FontAwesome").text("").attr("text-anchor","end").attr("x",e).on("click",(function(){ot("right")}));var st=lt.append("g").attr("class","zoomItems").attr("transform","translate("+(e-h[1]-10)+",30)").style("opacity",.01).on("mouseover",(function(){c(".zoomItems").stop().fadeTo(400,1)})).on("mouseout",(function(){c(".zoomItems").stop().fadeTo(400,.01)}));st.append("text").attr("class","zoomIn").style("font-family","FontAwesome").text("").on("click",(function(){ot("zoomIn")})),st.append("text").attr("class","zoomOut").style("font-family","FontAwesome").text("").attr("y",20).on("click",(function(){ot("zoomOut")}));var ct=F.append("text").attr("class","clearBrushIcon").style("font-family","FontAwesome").style("font-size","1em").attr("text-anchor","end").attr("title","Clear the timeline in order to draw a new region").text("");E.on("wheel.zoom",(function(){i.event.wheelDeltaY>0?ot("zoomIn"):i.event.wheelDeltaY<0&&ot("zoomOut"),i.event.wheelDeltaX>0?ot("left"):i.event.wheelDeltaX<0&&ot("right")}));var ut=(y+p)/2,ft=[ut,ut];function dt(t,e,r,n,a){void 0===r&&(r=1e3),void 0===n&&(n="cubic-in-out"),void 0===a&&(a=0),t<p&&(t=p),e>y&&(e=y),nt.event(F.select(".brush").transition().delay(a).duration(r).ease(n).call(nt.extent([t,e])))}function pt(){var t=(nt.extent()[1]+nt.extent()[0])/2;dt(t,t,0)}function yt(){var e=F.select(".brush").select(".extent"),r=+e.attr("x"),n=r+ +e.attr("width");m=_.invert(r),g=_.invert(n),m<=p?i.select(".leftArrow").style("display","none"):i.select(".leftArrow").style("display",""),g>=y?i.select(".rightArrow").style("display","none"):i.select(".rightArrow").style("display",""),g-m<=2?i.select(".zoomIn").classed("hidden",!0):i.select(".zoomIn").classed("hidden",!1),nt.empty()?(ct.style("display","none"),i.select(".leftArrow").style("display","none"),i.select(".rightArrow").style("display","none")):(ct.style("display","").style("opacity",0).attr("transform",t(n-2,15)).transition().duration(300).style("opacity",.4),ct.on("click",(function(){pt(),vt()}))),nt.empty()?(ht(p,y),it()):(ht(m,g),it(r,n))}function ht(t,e){switch(l){case"circle":var r=tt.filter((function(r){return r.year<e&&r.year>t})),n=tt.filter((function(r){return r.year>=e||r.year<=t}));r.style("display",""),n.style("display","none"),k.domain([t,e]),J.style(w),J.filter((function(e){console.log(t);var n=!1;return r.forEach((function(t){e.id==t.firstTitle&&(n=!0)})),n})).style(w),r.attr("transform",(function(t){return t.x=k(t.year),t.y=M(t.lane)+8,"translate("+t.x+","+t.y+")"})),Z.attr("r",(function(t){return t.radius}));break;case"icon":r=tt.filter((function(r){return r.year<e&&r.year>t})),n=tt.filter((function(r){return r.year>=e||r.year<=t})),r.style("display",""),n.style("display","none"),k.domain([t,e]),J.style(b),J.filter((function(t){var e=!1;return r.forEach((function(r){t.id==r.firstTitle&&(e=!0)})),e})).style(w),r.attr("transform",(function(t){return t.x=k(t.year),t.y=M(t.lane)+20,"translate("+t.x+","+t.y+")"})),$.attr("transform",(function(t){return"translate("+t.idx/2+","+3*t.idx+")"})).style("fill","black").style("opacity",1).style("font-size","1.5em"),et.each((function(t){var e=i.select(this),r=e.select(".paperMark"),n=r.node().getBBox();e.select("rect").attr("x",n.x).attr("y",n.y).attr("width",n.width).attr("height",n.height).attr("transform",r.attr("transform")).style("fill","white")}))}G.call(X),i.selectAll(".paperItem.expanded").each((function(t){function e(t,e){return'<a target="_blank" href="'+t+'">'+e+"</a>"}var r=i.select(this).select(".paperLabel");r.html(e(t.url,t.title));for(var n=t.title.split(" "),a=0,o=c("#timeline svg").position().left+h[3];!(++a>20)&&c(this).position().left<o;){var l=n.length,s=(n=n.slice(0,l-2)).join(" ")+"...";r.html(e(t.url,s))}}))}F.select(".brush").call(nt.extent(ft)),yt(),c(document).trigger("timelineVis:initComplete"),i.max(n,(function(t){return t.eigenfactor}));var mt=function(t,e){return e*e*3},gt=function(t,e){return 16.8*e+24};function xt(t,e){var r=t.attr("data-year"),n=tt.filter((function(t){return t.year==r})),a={"pointer-events":"auto",cursor:"pointer"},o=i.svg.line().x((function(t){return t[0]})).y((function(t){return t[1]})),l=[];l.push([0,0]),t.style({"pointer-events":"none",cursor:"default"}).transition().duration(500).attr("transform",(function(t,e){return l.push([mt(0,e),gt(0,e)]),"translate("+mt(0,e)+","+gt(0,e)+")"})).each("start",(function(){i.select(this).classed("expanded",!0)})).each("end",(function(){i.select(this).style(a)})),t.selectAll(".paperMark").transition().duration(500).styleTween("font-size",(function(t){return i.interpolate(this.style.getPropertyValue("font-size"),t.radius/10+"em")})).attr("r",(function(t){return t.radius})),t.selectAll(".paperLabel").style("display","").style("opacity",0).transition().delay((function(t){return 250+75*t.idx})).duration(500).style("opacity",1),i.transition().duration(500).each("end",(function(){n.append("path").datum(l).attr("class","joinLine").attr("d",o),yt()}))}function vt(){i.selectAll(".joinLine").remove();var t=i.selectAll(".expanded");t.transition().duration(500).attr("transform","translate(0,0)").each("end",(function(){i.select(this).classed("expanded",!1).style("pointer-events","")})),t.selectAll(".paperMark").transition().duration(750).styleTween("font-size",(function(t){return i.interpolate(this.style.getPropertyValue("font-size"),"1.5em")})).attr("r",0),t.selectAll(".paperLabel").style("display","none")}i.select(".clickForDemo").on("click",(function(){E.classed("demoInProgress",!0),pt(),vt(),i.select("#timeline svg").style("pointer-events","none"),F.on("mousedown",(function(){E.classed("demoInProgress",!1),n.transition(0).remove()}));var r=[750,1e3,2e3,200,2e3,3e3],n=E.append("text").attr("class","cursorIcon").style("font-family","FontAwesome").style("font-size","1em").text("").attr("transform","translate("+e+","+v+")"),a=F.select(".brush").select(".extent"),o=y-p;if(o<6)var l=[p,y];else l=[p+Math.floor(.3*o),y-Math.floor(.2*o)];dt(l[0],l[0],0);var s=_(nt.extent()[1])+h[3],c=tt.filter((function(t){return t.year<l[1]&&t.year>l[0]})),u=c.size();if(0!==u){if(1===u)var f=0;else f=Math.ceil(.55*u);var d=c.filter((function(t,e){return e===f}));E.classed("demoInProgress")&&n.transition().delay(r[0]).duration(r[1]).attr("transform",t(s,v+h[0]+x/2)).each("end",(function(){E.classed("demoInProgress")?(dt(l[0],l[1],r[2]),a.attr("x"),a.attr("width"),k.domain(nt.extent()),n.transition().duration(r[2]).attr("transform",(function(){return t(_(nt.extent()[1])+h[3],v+h[0]+x/2)})).each("end",(function(){E.classed("demoInProgress")?function(){var e=d.select(".yearMark"),a=function(t){t=t.replace("(","").replace(")","");var e=new RegExp(/translate([\d\.]+),([\d\.]+)/).exec(t);return{x:+e[1],y:+e[2]}}(d.attr("transform"));a.x=a.x+h[3],a.y=a.y+h[0]+ +e.attr("r");var i=t(a.x,a.y);n.transition("demoExpand").delay(r[3]).duration(r[4]).attr("transform",i).each("end",(function(){E.classed("demoInProgress")?(xt(et.filter((function(t){return t.year==d[0][0].__data__.year}))),m(r[5])):m(0)}))}():m(0)}))):m(0)}))}function m(t){n.transition("demoEnd").delay(t).duration(0).remove().each("end",(function(){vt(),i.select("#timeline svg").style("pointer-events",null)}))}})),c(document).on("timelineVis:contract",(function(){vt()})),c(document).on("timelineVis:display",(function(){yt()})),c(document).on("timelineVis:clearBrush",(function(){pt()}))})),this}}])&&s(e.prototype,r),n&&s(e,n),t}();e.default=u,t.exports=e.default},function(e,r){e.exports=t},function(t,r){t.exports=e}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kM19hcnRpY2xlX3RpbWVsaW5lL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9kM19hcnRpY2xlX3RpbWVsaW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2QzX2FydGljbGVfdGltZWxpbmUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZDNfYXJ0aWNsZV90aW1lbGluZS8uL3NyYy90aW1lbGluZVZpc19NYWluLmpzIiwid2VicGFjazovL2QzX2FydGljbGVfdGltZWxpbmUvZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovL2QzX2FydGljbGVfdGltZWxpbmUvZXh0ZXJuYWwgXCJqUXVlcnlcIiJdLCJuYW1lcyI6WyJyb290IiwiZmFjdG9yeSIsImV4cG9ydHMiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwic2VsZiIsInRoaXMiLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18yX18iLCJfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18zX18iLCJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiJCIsIm9wdHMiLCJkZWZhdWx0cyIsImVsIiwiZGF0YSIsIndpZHRoIiwiY29sb3IiLCJkMyIsInNjYWxlIiwib3JkaW5hbCIsInNjaGVtZUNhdGVnb3J5MTAiLCJmb3JjZVN0cmVuZ3RoIiwiYXNzaWduIiwiX2RhdGEiLCJ1cGRhdGVEYXRhIiwiaGVpZ2h0IiwiaW5pdCIsImNvbnNvbGUiLCJsb2ciLCJkcmF3IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic2VsZWN0aW9uIiwidyIsImgiLCJkYXRhX3RvdGFsIiwiZWFjaCIsImNvbnN0cnVjdFRyYW5zbGF0ZSIsIngiLCJ5Iiwid3JhcCIsInRleHR3cmFwIiwibWV0aG9kIiwic2VsZWN0Iiwid2luZG93Iiwib24iLCJkaXNwbGF5IiwiZm9yRWFjaCIsImF1dGhvcnMiLCJlaWdlbmZhY3RvciIsInZlbnVlIiwieWVhciIsInVybCIsImxhbmUiLCJtYXJrVHlwZSIsImdldFBhcmFtZXRlckJ5TmFtZSIsImRhdGFCeVllYXIiLCJuZXN0Iiwic29ydFZhbHVlcyIsImEiLCJiIiwiYXNjZW5kaW5nIiwidGl0bGUiLCJlbnRyaWVzIiwiZmlyc3RUaXRsZSIsInZhbHVlcyIsImlkIiwic3VtX2VpZ2VuZmFjdG9yIiwic3VtIiwiZGQiLCJtYXhEYXRhQnlZZWFyIiwibWF4IiwibGFuZXMiLCJsYW5lTGVuZ3RoIiwidGltZUJlZ2luIiwibWluIiwidGltZUVuZCIsIm1pbkV4dGVudCIsIm1heEV4dGVudCIsIm1pbmlIZWlnaHQiLCJtYWluSGVpZ2h0Iiwic3R5bGVzQmFzZSIsInN0eWxlc1Zpc2libGUiLCJsaW5lYXIiLCJkb21haW4iLCJyYW5nZSIsIngxIiwieTEiLCJ5MiIsImVmRXh0ZW50IiwiZXh0ZW50IiwiZWZTY2FsZU1pbmkiLCJlZlNjYWxlTWFpbiIsImVmU3VtU2NhbGUiLCJjaGFydFdpZHRoIiwiY2hhcnRIZWlnaHQiLCJjaGFydCIsImFwcGVuZCIsImF0dHIiLCJtYWluQ29udGFpbmVyIiwibWFpbiIsIm1pbmlDb250YWluZXIiLCJtaW5pIiwibWFpbkxhbmVMaW5lc0ciLCJsZW4iLCJtYWluTGFiZWxHIiwibWFpbkxhYmVsIiwidGV4dCIsInN0eWxlIiwiYm91bmRzIiwic3ViT2Zmc2V0IiwibWFpbkxhYmVsU3ViIiwibWluaUxhbmVMaW5lc0ciLCJtaW5pTGFiZWwiLCJ4QXhpc01pbmkiLCJzdmciLCJheGlzIiwib3JpZW50IiwidGlja0Zvcm1hdCIsImZvcm1hdCIsInhBeGlzTWFpbiIsInhBeGlzTWFpbk9iaiIsIm1haW5DbGlwUGF0aCIsIm1pbmlJdGVtcyIsInNlbGVjdEFsbCIsImVudGVyIiwicmFkaXVzIiwibWluaU1hcmtPcGFjaXR5IiwiTWF0aCIsInllYXJNYXJrcyIsInllYXJJdGVtcyIsImNvbnRyYWN0IiwiZXhwYW5kIiwicGFwZXJJdGVtcyIsImZpbHRlciIsInBhcGVyTWFya3MiLCJpZHgiLCJzcGFuIiwiam9pbiIsImh0bWwiLCJiYm94Iiwibm9kZSIsImdldEJCb3giLCJpbnNlcnQiLCJicnVzaCIsImV4dGVudExpbmVzIiwicHVzaCIsInVwZGF0ZUV4dGVudExpbmVzIiwibGVmdCIsInJpZ2h0IiwiZW1wdHkiLCJzZWwiLCJtb3ZlQnJ1c2giLCJkaXJlY3Rpb24iLCJjaGFuZ2VFeHRlbnQiLCJyb3VuZCIsInNjcm9sbEl0ZW1zIiwiem9vbUl0ZW1zIiwic3RvcCIsImZhZGVUbyIsImNsZWFyQnJ1c2hJY29uIiwiZXZlbnQiLCJ3aGVlbERlbHRhWSIsIndoZWVsRGVsdGFYIiwibWlkcG9pbnRZZWFyIiwiYnJ1c2hJbml0IiwieWVhcjEiLCJ5ZWFyMiIsImR1cmF0aW9uIiwiZWFzZSIsImRlbGF5IiwidW5kZWZpbmVkIiwidHJhbnNpdGlvbiIsImNsZWFyQnJ1c2giLCJtaWQiLCJleHRlbnRTZWxlY3QiLCJtaW5FeHRlbnRTY3JlZW4iLCJtYXhFeHRlbnRTY3JlZW4iLCJpbnZlcnQiLCJjbGFzc2VkIiwidXBkYXRlTWFpbiIsInZpc0l0ZW1zIiwibm90VmlzSXRlbXMiLCJtYXRjaCIsIml0ZW0iLCJ3cmFwSW5BbmNob3IiLCJzdGFibGVfdXJsIiwidGhpc0xhYmVsIiwid29yZHMiLCJzcGxpdCIsInZpZXdMZWZ0RWRnZSIsInBvc2l0aW9uIiwibnVtV29yZHMiLCJzaG9ydGVuZWRUaXRsZSIsInNsaWNlIiwiZG9jdW1lbnQiLCJ0cmlnZ2VyIiwiYWZ0ZXJUcmFuc2l0aW9uWCIsImFmdGVyVHJhbnNpdGlvblkiLCJ5ZWFySXRlbSIsInRoaXNZZWFyIiwidGhpc1llYXJJdGVtIiwidHJhbnNpdGlvbkVuZFN0eWxlIiwibGluZSIsImxpbmVkYXRhIiwic3R5bGVUd2VlbiIsImludGVycG9sYXRlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImR1ciIsImRhdHVtIiwicmVtb3ZlIiwiY3Vyc29ySWNvbiIsInRyYW5zaXRpb25UaW1lcyIsInllYXJSYW5nZSIsImluaXRCcnVzaFJhbmdlIiwiZmxvb3IiLCJpbml0QnJ1c2hQb3NpdGlvbiIsIm51bVZpc0l0ZW1zIiwic2l6ZSIsInNlbEluZGV4IiwiY2VpbCIsImRlbW9ZZWFySXRlbSIsImRlbW9ZZWFyTWFyayIsInRyYW5zbGF0ZUNvb3JkIiwidHJhbnNsYXRlU3RyaW5nIiwicmVwbGFjZSIsIlJlZ0V4cCIsImV4ZWMiLCJkZWNvbnN0cnVjdFRyYW5zbGF0ZSIsInRyYW5zbGF0ZSIsIl9fZGF0YV9fIiwiZGVtb0VuZCIsImRlbW9FeHBhbmQiXSwibWFwcGluZ3MiOiJDQUFBLFNBQTJDQSxFQUFNQyxHQUMxQixpQkFBWkMsU0FBMEMsaUJBQVhDLE9BQ3hDQSxPQUFPRCxRQUFVRCxFQUFRRyxRQUFRLE1BQU9BLFFBQVEsV0FDdkIsbUJBQVhDLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxzQkFBdUIsQ0FBQyxLQUFNLFVBQVdKLEdBQ3RCLGlCQUFaQyxRQUNkQSxRQUE2QixvQkFBSUQsRUFBUUcsUUFBUSxNQUFPQSxRQUFRLFdBRWhFSixFQUEwQixvQkFBSUMsRUFBUUQsRUFBUyxHQUFHQSxFQUFhLFFBUmpFLENBU21CLG9CQUFUTyxLQUF1QkEsS0FBT0MsTUFBTSxTQUFTQyxFQUFnQ0MsR0FDdkYsTyxZQ1RFLElBQUlDLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVYLFFBR25DLElBQUlDLEVBQVNR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QW9ESGxILEVBQUcwQixPQUFPLGlCQUFpQmlFLE1BQU0saUJBQWtCLGFBR3BEbEcsRUFBR3lMLFVBQVd0SixHQUFHLHdCQUF3QixXQUN4Q3NGLFFBR0R6SCxFQUFHeUwsVUFBV3RKLEdBQUcsdUJBQXVCLFdBQ3ZDQyxRQUdEcEMsRUFBR3lMLFVBQVd0SixHQUFHLDBCQUEwQixXQUMxQ2dJLFdBSUl6TSxVLCtFQzMrQ1JMLEVBQU9ELFFBQVVPLEcsY0NBakJOLEVBQU9ELFFBQVVRIiwiZmlsZSI6ImQzX2FydGljbGVfdGltZWxpbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwiZDNcIiksIHJlcXVpcmUoXCJqUXVlcnlcIikpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJkM19hcnRpY2xlX3RpbWVsaW5lXCIsIFtcImQzXCIsIFwialF1ZXJ5XCJdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImQzX2FydGljbGVfdGltZWxpbmVcIl0gPSBmYWN0b3J5KHJlcXVpcmUoXCJkM1wiKSwgcmVxdWlyZShcImpRdWVyeVwiKSk7XG5cdGVsc2Vcblx0XHRyb290W1wiZDNfYXJ0aWNsZV90aW1lbGluZVwiXSA9IGZhY3Rvcnkocm9vdFtcImQzXCJdLCByb290W1wialF1ZXJ5XCJdKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbihfX1dFQlBBQ0tfRVhURVJOQUxfTU9EVUxFX18yX18sIF9fV0VCUEFDS19FWFRFUk5BTF9NT0RVTEVfXzNfXykge1xucmV0dXJuICIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImltcG9ydCBUaW1lbGluZVZpcyBmcm9tICcuL3RpbWVsaW5lVmlzX01haW4uanMnO1xuZXhwb3J0IHsgVGltZWxpbmVWaXMgfTtcblxuIiwiLy8gYnVpbGRpbmcgb2ZmIGh0dHA6Ly9ibC5vY2tzLm9yZy9idW5rYXQvMjMzODAzNFxuLy9cbi8vXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgalF1ZXJ5IGZyb20gJ2pxdWVyeSc7XG5jb25zdCAkID0galF1ZXJ5O1xuXG4vLyByZXVzYWJsZSBjaGFydCBwYXR0ZXJuIGluc3BpcmVkIGJ5OlxuLy8gaHR0cHM6Ly9ib3N0Lm9ja3Mub3JnL21pa2UvY2hhcnQvXG4vLyBhbmRcbi8vIGh0dHBzOi8vd3d3LnRvcHRhbC5jb20vZDMtanMvdG93YXJkcy1yZXVzYWJsZS1kMy1qcy1jaGFydHNcbmNsYXNzIFRpbWVsaW5lVmlzIHtcblx0Y29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG5cdFx0Y29uc3QgZGVmYXVsdHMgPSB7XG5cdFx0XHRlbDogbnVsbCxcblx0XHRcdGRhdGE6IG51bGwsXG5cdFx0XHR3aWR0aDogOTYwLFxuXHRcdFx0Y29sb3I6IGQzLnNjYWxlLm9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCksXG5cdFx0XHRmb3JjZVN0cmVuZ3RoOiAtMixcblx0XHR9O1xuXHRcdE9iamVjdC5hc3NpZ24odGhpcywgZGVmYXVsdHMsIG9wdHMpOyAgLy8gb3B0cyB3aWxsIG92ZXJ3cml0ZSBkZWZhdWx0c1xuXHRcdHRoaXMuX2RhdGEgPSB0aGlzLmRhdGE7XG5cdFx0dGhpcy5kYXRhID0gdGhpcy51cGRhdGVEYXRhO1xuXHRcdGlmICh0eXBlb2YgdGhpcy5oZWlnaHQgPT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHR0aGlzLmhlaWdodCA9IC42MjUgKiB0aGlzLndpZHRoO1xuXHRcdH1cblx0XHQvLyB0aGlzLm1hbnlCb2R5ID0gZDMuZm9yY2VNYW55Qm9keSgpXG5cdFx0Ly8gXHRcdFx0XHRcdC5zdHJlbmd0aCh0aGlzLmZvcmNlU3RyZW5ndGgpO1xuXHRcdHRoaXMuaW5pdCA9IGZhbHNlO1xuXHRcdGNvbnNvbGUubG9nKHRoaXMuX2RhdGEpO1xuXHRcdGlmICh0aGlzLmVsICE9PSBudWxsICYmIHRoaXMuX2RhdGEgIT09IG51bGwpIHtcblx0XHRcdHRoaXMuZHJhdyh0aGlzLmVsKTtcblx0XHRcdHRoaXMuaW5pdCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlRGF0YSh2YWx1ZSkge1xuXHRcdGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHRoaXMuX2RhdGE7XG5cdFx0dGhpcy5fZGF0YSA9IHZhbHVlO1xuXHRcdGlmICh0aGlzLmluaXQgPT09IGZhbHNlKSB7XG5cdFx0XHR0aGlzLmRyYXcodGhpcy5lbCk7XG5cdFx0XHR0aGlzLmluaXQgPSB0cnVlO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyB0aGlzLnVwZGF0ZURhdGEoKTtcblx0XHRcdC8vIE5PVCBJTVBMRU1FTlRFRFxuXHRcdFx0Y29uc29sZS5sb2coXCJVUERBVElORyBEQVRBIE5PVCBZRVQgSU1QTEVNRU5URURcIik7XG5cdFx0fVxuXHRcdC8vIGNvbnNvbGUubG9nKHR5cGVvZiB1cGRhdGVEYXRhKTtcblx0XHQvLyBpZiAodHlwZW9mIHVwZGF0ZURhdGEgPT09ICdmdW5jdGlvbicpIHVwZGF0ZURhdGEoKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHRkcmF3KHNlbGVjdGlvbikge1xuXHRcdHZhciBvYmogPSB0aGlzO1xuXHRcdHZhciB3ID0gdGhpcy53aWR0aDtcblx0XHR2YXIgaCA9IHRoaXMuaGVpZ2h0O1xuXHRcdHZhciBkYXRhX3RvdGFsID0gdGhpcy5fZGF0YTtcblx0XHRzZWxlY3Rpb24uZWFjaChmdW5jdGlvbigpIHtcblx0XHRcdGZ1bmN0aW9uIGRlY29uc3RydWN0VHJhbnNsYXRlKHRyYW5zbGF0ZVN0cmluZykge1xuXHRcdFx0XHQvLyB0YWtlcyBhIHN0cmluZyBsaWtlIFwidHJhbnNsYXRlKDEwMCwyMDApXCIgYW5kIHJldHVybnMgdGhlIG51bWJlcnMgWzEwMCwgMjAwXVxuXHRcdFx0XHR0cmFuc2xhdGVTdHJpbmcgPSB0cmFuc2xhdGVTdHJpbmcucmVwbGFjZShcIihcIiwgXCJcIikucmVwbGFjZShcIilcIiwgXCJcIik7XG5cdFx0XHRcdHZhciByZWdleCA9IG5ldyBSZWdFeHAoL3RyYW5zbGF0ZShbXFxkXFwuXSspLChbXFxkXFwuXSspLyk7XG5cdFx0XHRcdHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWModHJhbnNsYXRlU3RyaW5nKTtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR4OiArbWF0Y2hbMV0sXG5cdFx0XHRcdFx0eTogK21hdGNoWzJdXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGNvbnN0cnVjdFRyYW5zbGF0ZSh4LCB5KSB7XG5cdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIHggKyBcIixcIiArIHkgKyBcIilcIjtcblx0XHRcdH1cblxuXG5cdFx0XHR2YXIgd3JhcCA9IGQzLnRleHR3cmFwKCkubWV0aG9kKFwidHNwYW5zXCIpO1xuXG5cdFx0XHRmdW5jdGlvbiBwYXJzZURhdGEoZGF0YSkge1xuXHRcdFx0XHRkYXRhLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdGQuYXV0aG9ycyA9IGRbXCJhdXRob3JzXCJdOyAgLy8gbGlzdCBvZiBhdXRob3IgbmFtZXNcblx0XHRcdFx0XHRkLmVpZ2VuZmFjdG9yID0gZFtcImVpZ2VuZmFjdG9yX3Njb3JlXCJdO1xuXHRcdFx0XHRcdGQudmVudWUgPSBkW1wiam91cm5hbFwiXTtcblx0XHRcdFx0XHRkLnllYXIgPSBkW1wieWVhclwiXTtcblx0XHRcdFx0XHRkLnVybCA9IFwiaHR0cDovL2xhYnMuanN0b3Iub3JnXCIgKyBkW1wic3RhYmxlX3VybFwiXTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHJldHVybiBkYXRhO1xuXHRcdFx0fVxuXG5cblx0XHRcdGQzLnNlbGVjdCh3aW5kb3cpLm9uKFwicmVzaXplXCIsIGRpc3BsYXkpXG5cdFx0XHRkYXRhX3RvdGFsID0gcGFyc2VEYXRhKGRhdGFfdG90YWwpO1xuXHRcdFx0ZGF0YV90b3RhbC5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0ZC5sYW5lID0gMDtcblx0XHRcdFx0aWYgKGQuZWlnZW5mYWN0b3IgPT09IG51bGwpIHtcblx0XHRcdFx0XHRkLmVpZ2VuZmFjdG9yID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgbWFya1R5cGUgPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ20nKTtcblx0XHRcdGlmICggKG1hcmtUeXBlICE9ICdpY29uJykgJiYgKG1hcmtUeXBlICE9ICdjaXJjbGUnKSApIHtcblx0XHRcdFx0bWFya1R5cGUgPSAnY2lyY2xlJyAgLy8gZGVmYXVsdFxuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZGF0YUJ5WWVhciA9IGQzLm5lc3QoKVxuXHRcdFx0XHRcdFx0XHRcdC5rZXkoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI7fSlcblx0XHRcdFx0XHRcdFx0XHQuc29ydFZhbHVlcyhmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gZDMuZGVzY2VuZGluZyhhLmVpZ2VuZmFjdG9yX3Njb3JlLCBiLmVpZ2VuZmFjdG9yX3Njb3JlKTtcblx0XHRcdFx0XHRcdFx0XHRcdC8vIHJldHVybiBkMy5hc2NlbmRpbmcoYS5wdWJkYXRlLCBiLnB1YmRhdGUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGQzLmFzY2VuZGluZyhhLnRpdGxlLCBiLnRpdGxlKTtcblx0XHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHRcdC8vIC5tYXAoZGF0YV90b3RhbCwgZDMubWFwKTtcblx0XHRcdFx0XHRcdFx0XHQuZW50cmllcyhkYXRhX3RvdGFsKTtcblx0XHRcdGRhdGFCeVllYXIuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdGQuZmlyc3RUaXRsZSA9IGQudmFsdWVzWzBdLmlkO1xuXHRcdFx0XHRkLnN1bV9laWdlbmZhY3RvciA9IGQzLnN1bShkLnZhbHVlcywgZnVuY3Rpb24oZGQpIHtyZXR1cm4gZGQuZWlnZW5mYWN0b3I7fSk7XG5cdFx0XHRcdGQubGFuZSA9IDA7XG5cdFx0XHRcdGQueWVhciA9ICtkLmtleTtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIG1heERhdGFCeVllYXIgPSBkMy5tYXgoZGF0YUJ5WWVhciwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC52YWx1ZXMubGVuZ3RoOyB9KTtcblxuXHRcdFx0dmFyIGxhbmVzID0gW1wiQ2xpbWF0ZSBjaGFuZ2VcIl0sXG5cdFx0XHRcdFx0XHRsYW5lTGVuZ3RoID0gbGFuZXMubGVuZ3RoLFxuXHRcdFx0XHRcdC8vIHRpbWVCZWdpbiA9IG5ldyBEYXRlKFN0cmluZyhtaW5ZZWFyLTEpKSxcblx0XHRcdFx0XHR0aW1lQmVnaW4gPSArZDMubWluKGRhdGFCeVllYXIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQueWVhcjsgfSkgLSAxLFxuXHRcdFx0XHRcdHRpbWVFbmQgPSArZDMubWF4KGRhdGFCeVllYXIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQueWVhcjsgfSkgKyAxO1xuXG5cdFx0XHR2YXIgbSA9IFsyMCwgMTUsIDE1LCAxNTBdOyAvL3RvcCByaWdodCBib3R0b20gbGVmdFxuXHRcdFx0XHQvLyB3ID0gOTYwIC0gbVsxXSAtIG1bM10sXG5cdFx0XHRcdC8vIGggPSAzNTAgLSBtWzBdIC0gbVsyXSxcblx0XHRcdHcgPSB3IC0gbVsxXSAtIG1bM107XG5cdFx0XHRoID0gaCAtIG1bMF0gLSBtWzJdO1xuXHRcdFx0dmFyIG1pbmlIZWlnaHQgPSBsYW5lTGVuZ3RoICogMTIgKyAzMCxcblx0XHRcdFx0bWFpbkhlaWdodCA9IGggLSBtaW5pSGVpZ2h0IC0gNTA7XG5cblx0XHRcdHZhciBtYWluTWluUmFkID0gOCxcblx0XHRcdFx0bWFpbk1heFJhZCA9IDE4LFxuXHRcdFx0XHRtaW5pTWluUmFkID0gNSxcblx0XHRcdFx0bWluaU1heFJhZCA9IDEwO1xuXG5cdFx0XHR2YXIgbWluRXh0ZW50LCBtYXhFeHRlbnQ7ICAvLyB0aGVzZSB3aWxsIGJlIHRoZSBsb3dlciBhbmQgdXBwZXIgeWVhcnMgZGlzcGxheWVkIGluIG1haW5cblxuXHRcdFx0dmFyIHN0eWxlc0Jhc2UgPSB7XG5cdFx0XHRcdCdvcGFjaXR5JzogLjJcblx0XHRcdH07XG5cdFx0XHR2YXIgc3R5bGVzVmlzaWJsZSA9IHtcblx0XHRcdFx0J29wYWNpdHknOiAxXG5cdFx0XHR9O1xuXG5cdFx0XHQvL3NjYWxlc1xuXHRcdFx0dmFyIHggPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHRcdC5kb21haW4oW3RpbWVCZWdpbiwgdGltZUVuZF0pXG5cdFx0XHRcdFx0LnJhbmdlKFswLCB3XSk7XG5cdFx0XHR2YXIgeDEgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHRcdC5yYW5nZShbMCwgd10pO1xuXHRcdFx0dmFyIHkxID0gZDMuc2NhbGUubGluZWFyKClcblx0XHRcdFx0XHQuZG9tYWluKFswLCBsYW5lTGVuZ3RoXSlcblx0XHRcdFx0XHQucmFuZ2UoWzAsIG1haW5IZWlnaHRdKTtcblx0XHRcdHZhciB5MiA9IGQzLnNjYWxlLmxpbmVhcigpXG5cdFx0XHRcdFx0LmRvbWFpbihbMCwgbGFuZUxlbmd0aF0pXG5cdFx0XHRcdFx0LnJhbmdlKFswLCBtaW5pSGVpZ2h0XSk7XG5cdFx0XHR2YXIgZWZFeHRlbnQgPSBkMy5leHRlbnQoZGF0YV90b3RhbCwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5laWdlbmZhY3RvcjsgfSk7XG5cdFx0XHR2YXIgZWZTY2FsZU1pbmkgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHRcdC5kb21haW4oZWZFeHRlbnQpXG5cdFx0XHRcdFx0Ly8gLnJhbmdlKFswLCA1XSk7XG5cdFx0XHRcdFx0LnJhbmdlKFttaW5pTWluUmFkLCBtaW5pTWF4UmFkXSk7XG5cdFx0XHR2YXIgZWZTY2FsZU1haW4gPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHRcdC5kb21haW4oZWZFeHRlbnQpXG5cdFx0XHRcdFx0Ly8gLnJhbmdlKFswLCA1XSk7XG5cdFx0XHRcdFx0LnJhbmdlKFttYWluTWluUmFkLCBtYWluTWF4UmFkXSk7XG5cdFx0XHR2YXIgZWZTdW1TY2FsZSA9IGQzLnNjYWxlLmxpbmVhcigpXG5cdFx0XHRcdFx0LmRvbWFpbihkMy5leHRlbnQoZGF0YUJ5WWVhciwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zdW1fZWlnZW5mYWN0b3I7IH0pKVxuXHRcdFx0XHRcdC8vIC5yYW5nZShbMCwgNV0pO1xuXHRcdFx0XHRcdC5yYW5nZShbbWFpbk1pblJhZCwgbWFpbk1heFJhZF0pO1xuXG5cblx0XHRcdHZhciBjaGFydFdpZHRoID0gdyArIG1bMV0gKyBtWzNdLFxuXHRcdFx0XHRjaGFydEhlaWdodCA9IGggKyBtWzBdICsgbVsyXTtcblxuXHRcdFx0dmFyIGNoYXJ0ID0gZDMuc2VsZWN0KFwiI3RpbWVsaW5lXCIpXG5cdFx0XHRcdFx0XHQuYXBwZW5kKFwic3ZnXCIpXG5cdFx0XHRcdFx0XHQvLyAuYXR0cihcIndpZHRoXCIsIGNoYXJ0V2lkdGgpXG5cdFx0XHRcdFx0XHQvLyAuYXR0cihcImhlaWdodFwiLCBjaGFydEhlaWdodClcblx0XHRcdFx0XHRcdC5hdHRyKFwiZGF0YS1tYXhpbWl6ZWRIZWlnaHRcIiwgY2hhcnRIZWlnaHQpXG5cdFx0XHRcdFx0XHQuYXR0cihcImRhdGEtY3VyckhlaWdodFwiLCBjaGFydEhlaWdodClcblx0XHRcdFx0XHRcdC5hdHRyKFwidmlld0JveFwiLCBcIjAgMCBcIiArIGNoYXJ0V2lkdGggKyBcIiBcIiArIGNoYXJ0SGVpZ2h0KVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwieE1pZFlNaWQgbWVldFwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImNoYXJ0XCIpO1xuXHRcdFx0XG5cdFx0XHRjaGFydC5hcHBlbmQoXCJkZWZzXCIpLmFwcGVuZChcImNsaXBQYXRoXCIpXG5cdFx0XHRcdC5hdHRyKFwiaWRcIiwgXCJjbGlwXCIpXG5cdFx0XHRcdC5hcHBlbmQoXCJyZWN0XCIpXG5cdFx0XHRcdC5hdHRyKFwid2lkdGhcIiwgdylcblx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodCk7XG5cblx0XHRcdHZhciBtYWluQ29udGFpbmVyID0gY2hhcnQuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIG1bMF0gKyBcIilcIilcblx0XHRcdFx0XHRcdC5hdHRyKFwid2lkdGhcIiwgY2hhcnRXaWR0aClcblx0XHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG1haW5IZWlnaHQpXG5cdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibWFpbkNvbnRhaW5lclwiKTtcblxuXHRcdFx0Ly8gdmFyIG1haW4gPSBjaGFydC5hcHBlbmQoXCJnXCIpXG5cdFx0XHR2YXIgbWFpbiA9IG1haW5Db250YWluZXIuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdFx0Ly8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyBtWzBdICsgXCIpXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1bM10gKyBcIiwwKVwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCB3KVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodClcblx0XHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJtYWluXCIpO1xuXG5cdFx0XHR2YXIgbWluaUNvbnRhaW5lciA9IGNoYXJ0LmFwcGVuZChcImdcIilcblx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyAobWFpbkhlaWdodCArIG1bMF0pICsgXCIpXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcIndpZHRoXCIsIGNoYXJ0V2lkdGgpXG5cdFx0XHRcdFx0XHQuYXR0cihcImhlaWdodFwiLCBtYWluSGVpZ2h0KVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcIm1pbmlDb250YWluZXJcIik7XG5cblx0XHRcdC8vIHZhciBtaW5pID0gY2hhcnQuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0dmFyIG1pbmkgPSBtaW5pQ29udGFpbmVyLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHRcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbVszXSArIFwiLFwiICsgKG1haW5IZWlnaHQgKyBtWzBdKSArIFwiKVwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsMClcIilcblx0XHRcdFx0XHRcdC5hdHRyKFwid2lkdGhcIiwgdylcblx0XHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG1pbmlIZWlnaHQpXG5cdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibWluaVwiKTtcblx0XHRcdFxuXHRcdFx0Ly9tYWluIGxhbmVzIGFuZCB0ZXh0c1xuXHRcdFx0dmFyIG1haW5MYW5lTGluZXNHID0gbWFpbi5hcHBlbmQoXCJnXCIpO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdG1haW5MYW5lTGluZXNHLmFwcGVuZChcImxpbmVcIilcblx0XHRcdFx0XHQuYXR0cihcIngxXCIsIG1bMV0pXG5cdFx0XHRcdFx0LmF0dHIoXCJ5MVwiLCBmdW5jdGlvbigpIHtyZXR1cm4geTIoaSk7fSlcblx0XHRcdFx0XHQuYXR0cihcIngyXCIsIHcpXG5cdFx0XHRcdFx0LmF0dHIoXCJ5MlwiLCBmdW5jdGlvbigpIHtyZXR1cm4geTIoaSk7fSlcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibGFuZUxpbmVcIilcblx0XHRcdFx0XHQuYXR0cihcInN0cm9rZVwiLCBcImxpZ2h0Z3JheVwiKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIG1haW5MYWJlbEcgPSBtYWluQ29udGFpbmVyLmFwcGVuZChcImdcIilcblx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIisobVswXSkrXCIpXCIpO1xuXHRcdFx0dmFyIG1haW5MYWJlbCA9IG1haW5MYWJlbEcuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQudGV4dChcIk51bWJlciBvZiBpbmZsdWVudGlhbCBhcnRpY2xlcyBpbiB0aGUgeWVhclwiKVxuXHRcdFx0XHQvLyAuYXR0cihcInhcIiwgLW1bMV0pXG5cdFx0XHRcdC8vIC5hdHRyKFwieFwiLCAwKVxuXHRcdFx0XHQvLyAuYXR0cihcInlcIiwgMTApXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcblx0XHRcdFx0Ly8gLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibGFuZVRleHRcIilcblx0XHRcdFx0LmF0dHIoXCJpZFwiLCBcIm1haW5MYWJlbFwiKTtcblx0XHRcblx0XHRcdC8vIHdyYXAuYm91bmRzKHtoZWlnaHQ6IG1haW5IZWlnaHQsIHdpZHRoOiBtWzNdfSkubWV0aG9kKFwidHNwYW5zXCIpO1xuXHRcdFx0d3JhcC5ib3VuZHMoe2hlaWdodDogbWFpbkhlaWdodCwgd2lkdGg6IChtWzNdICogLjkpfSk7XG5cdFx0XHQvLyBkMy5zZWxlY3QoXCIubGFuZVRleHRcIikuY2FsbCh3cmFwKTtcblx0XHRcdG1haW5MYWJlbC5jYWxsKHdyYXApO1xuXG5cdFx0XHR2YXIgc3ViT2Zmc2V0ID0gJCggJyNtYWluTGFiZWwnICkuaGVpZ2h0KCk7ICAvLyB5IG9mZnNldCBmb3IgdGhlIHN1YiBsYWJlbFxuXHRcdFx0dmFyIG1haW5MYWJlbFN1YiA9IG1haW5MYWJlbEcuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgc3ViT2Zmc2V0ICsgXCIpXCIpXG5cdFx0XHRcdC50ZXh0KFwiU2l6ZSBvZiBjaXJjbGVzIGluZGljYXRlcyBsZXZlbCBvZiBpbmZsdWVuY2VcIilcblx0XHRcdFx0LnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMTFweFwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibGFuZVRleHRcIilcblx0XHRcdFx0LmF0dHIoXCJpZFwiLCBcIm1haW5MYWJlbFN1YlwiKTtcblxuXHRcdFx0d3JhcC5ib3VuZHMoe2hlaWdodDogbWFpbkhlaWdodCAtIHN1Yk9mZnNldCwgd2lkdGg6IChtWzNdICogLjkpfSk7XG5cdFx0XHRtYWluTGFiZWxTdWIuY2FsbCh3cmFwKTtcblx0XHRcdFxuXHRcdFx0XG5cdFx0XHQvL21pbmkgbGFuZXMgYW5kIHRleHRzXG5cdFx0XHR2YXIgbWluaUxhbmVMaW5lc0cgPSBtaW5pLmFwcGVuZChcImdcIik7XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGFuZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0bWluaUxhbmVMaW5lc0cuYXBwZW5kKFwibGluZVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwieDFcIiwgbVsxXSlcblx0XHRcdFx0XHQuYXR0cihcInkxXCIsIGZ1bmN0aW9uKCkge3JldHVybiB5MihpKTt9KVxuXHRcdFx0XHRcdC5hdHRyKFwieDJcIiwgdylcblx0XHRcdFx0XHQuYXR0cihcInkyXCIsIGZ1bmN0aW9uKCkge3JldHVybiB5MihpKTt9KVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsYW5lTGluZVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwic3Ryb2tlXCIsIFwibGlnaHRncmF5XCIpO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgbWluaUxhYmVsID0gbWluaUNvbnRhaW5lci5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIrIG1bMF0gK1wiKVwiKVxuXHRcdFx0XHQuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQudGV4dChcIlNlbGVjdCBkYXRlIHJhbmdlIHRvIGZvY3VzIG9uOlwiKVxuXHRcdFx0XHQvLyAuYXR0cihcInhcIiwgLW1bMV0pXG5cdFx0XHRcdC8vIC5hdHRyKFwieFwiLCAwKVxuXHRcdFx0XHQvLyAuYXR0cihcInlcIiwgMTApXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcblx0XHRcdFx0Ly8gLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibGFuZVRleHRcIik7XG5cblx0XHRcdHdyYXAuYm91bmRzKHtoZWlnaHQ6IG1pbmlIZWlnaHQsIHdpZHRoOiAobVszXSAqIC45KX0pO1xuXHRcdFx0Ly8gZDMuc2VsZWN0KFwiLmxhbmVUZXh0XCIpLmNhbGwod3JhcCk7XG5cdFx0XHRtaW5pTGFiZWwuY2FsbCh3cmFwKTtcblxuXHRcdFx0Ly8gbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5sYW5lVGV4dFwiKVxuXHRcdFx0Ly8gXHQuZGF0YShsYW5lcylcblx0XHRcdC8vIFx0LmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0Ly8gXHQudGV4dChmdW5jdGlvbihkKSB7cmV0dXJuIGQ7fSlcblx0XHRcdC8vIFx0LmF0dHIoXCJ4XCIsIC1tWzFdKVxuXHRcdFx0Ly8gXHQuYXR0cihcInlcIiwgZnVuY3Rpb24oZCwgaSkge3JldHVybiB5MihpICsgLjUpO30pXG5cdFx0XHQvLyBcdC5hdHRyKFwiZHlcIiwgXCIuNWV4XCIpXG5cdFx0XHQvLyBcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcImxhbmVUZXh0XCIpO1xuXG5cdFx0XHQvLyBBeGVzXG5cdFx0XHR2YXIgeEF4aXNNaW5pID0gZDMuc3ZnLmF4aXMoKVxuXHRcdFx0XHQub3JpZW50KFwiYm90dG9tXCIpXG5cdFx0XHRcdC8vIC50aWNrcyg1KVxuXHRcdFx0XHQuc2NhbGUoeClcblx0XHRcdFx0LnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiZFwiKSk7XG5cblx0XHRcdG1pbmkuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwieGF4aXNcIilcblx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIChtaW5pSGVpZ2h0KSArIFwiKVwiKVxuXHRcdFx0XHQuY2FsbCh4QXhpc01pbmkpO1xuXG5cdFx0XHR2YXIgeEF4aXNNYWluID0gZDMuc3ZnLmF4aXMoKVxuXHRcdFx0XHQub3JpZW50KFwidG9wXCIpXG5cdFx0XHRcdC5zY2FsZSh4MSlcblx0XHRcdFx0LnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiZFwiKSk7XG5cblx0XHRcdHZhciB4QXhpc01haW5PYmogPSBtYWluLmFwcGVuZChcImdcIilcblx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInhheGlzXCIpXG5cdFx0XHRcdC5jYWxsKHhBeGlzTWFpbik7XG5cblx0XHRcdHZhciBtYWluQ2xpcFBhdGggPSBtYWluLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibWFpbkNsaXBQYXRoXCIpXG5cdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJjbGlwLXBhdGhcIiwgXCJ1cmwoI2NsaXApXCIpO1xuXG5cdFx0XHRcblx0XHRcdC8vbWluaSBpdGVtc1xuXHRcdFx0Ly8gbm90ZTogbW91c2VvdmVyIGV2ZW50cyB3aWxsIG5vdCBwbGF5IHdlbGwgd2l0aCB0aGUgYnJ1c2hcblx0XHRcdHZhciBtaW5pSXRlbXMgPSBtaW5pLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLm1pbmlJdGVtXCIpXG5cdFx0XHRcdC5kYXRhKGRhdGFfdG90YWwpXG5cdFx0XHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcblx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcIm1pbmlJdGVtXCIpXG5cdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRkLnggPSB4KGQueWVhcik7XG5cdFx0XHRcdFx0Ly8gZC55ID0gMDsgIC8vIGZvciBub3dcblx0XHRcdFx0XHRkLnkgPSBtaW5pSGVpZ2h0IC8gMjtcblx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IDUgKyBlZlNjYWxlKGQuZWlnZW5mYWN0b3Jfc2NvcmUpO1xuXHRcdFx0XHRcdGQucmFkaXVzID0gMSArICggZWZTY2FsZU1pbmkoZC5laWdlbmZhY3RvcikgKTtcblx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0Ly8gbm90IGN1cnJlbnRseSB1c2luZyB0aGlzXG5cdFx0XHRmdW5jdGlvbiBzdGFja0l0ZW1zKGl0ZW1zLCBzY2FsZSkge1xuXHRcdFx0XHR2YXIgeWVhcnNMaXN0ID0gW107XG5cdFx0XHRcdGl0ZW1zLmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdGlmICggIShkLnllYXIgaW4geWVhcnNMaXN0KSApIHtcblx0XHRcdFx0XHRcdHllYXJzTGlzdC5wdXNoKGQueWVhcik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0dmFyIG1heFJhZCA9IGQzLm1heChpdGVtc1swXSwgZnVuY3Rpb24oZCkge3JldHVybiBkLl9fZGF0YV9fLnJhZGl1c30pO1xuXHRcdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0geWVhcnNMaXN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0dGhpc1llYXJNaW5pID0gaXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyPT15ZWFyc0xpc3RbaV19KTtcblx0XHRcdFx0XHR2YXIgeSA9IDA7XG5cdFx0XHRcdFx0dGhpc1llYXJNaW5pLmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0aWYgKHkgPT0gMCkge1xuXHRcdFx0XHRcdFx0XHR5ID0gc2NhbGUoZC5sYW5lKSArIG1heFJhZDtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdHkgPSB5ICsgMipkLnJhZGl1cztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGQueSA9IHk7XG5cdFx0XHRcdFx0XHRkMy5zZWxlY3QodGhpcykuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Ly8gc3RhY2tJdGVtcyhtaW5pSXRlbXMsIHkyKTtcblxuXHRcdFx0dmFyIG1pbmlNYXJrT3BhY2l0eSA9IE1hdGgubWF4KCAoMS9tYXhEYXRhQnlZZWFyKSwgMC4zICk7XG5cdFx0XHR2YXIgbWluaU1hcmtzID0gbWluaUl0ZW1zLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibWluaU1hcmtcIilcblx0XHRcdFx0LmF0dHIoXCJyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5yYWRpdXM7fSlcblx0XHRcdFx0Ly8gLnN0eWxlKHN0eWxlc0Jhc2UpO1xuXHRcdFx0XHQuc3R5bGUoXCJvcGFjaXR5XCIsIG1pbmlNYXJrT3BhY2l0eSk7XG5cblxuXHRcdFx0c3dpdGNoIChtYXJrVHlwZSkge1xuXHRcdFx0XHRjYXNlICdjaXJjbGUnOlxuXHRcdFx0XHRcdC8vbWFpbiBpdGVtc1xuXHRcdFx0XHRcdHZhciB5ZWFySXRlbXMgPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIueWVhckl0ZW1cIilcblx0XHRcdFx0XHRcdC5kYXRhKGRhdGFCeVllYXIpXG5cdFx0XHRcdFx0XHQuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwieWVhckl0ZW1cIilcblx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdFx0ZC54ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdFx0XHRkLnkgPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRcdC8vIGQucmFkaXVzID0gbWFpbk1pblJhZCArICgyICogZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3RvcikpO1xuXHRcdFx0XHRcdFx0XHRkLnJhZGl1cyA9IGVmU3VtU2NhbGUoZC5zdW1fZWlnZW5mYWN0b3IpO1xuXHRcdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IG1haW5NaW5SYWQgKyAoZC52YWx1ZXMubGVuZ3RoKjIpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR2YXIgeWVhck1hcmtzID0geWVhckl0ZW1zLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInllYXJNYXJrXCIpXG5cdFx0XHRcdFx0XHQvLyAub24oJ21vdXNlb3ZlcicsIGV4cGFuZClcblx0XHRcdFx0XHRcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHRcdFx0XHR2YXIgc2VsID0gcGFwZXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZGQpIHtyZXR1cm4gZGQueWVhcj09PWQueWVhcn0pO1xuXHRcdFx0XHRcdFx0XHR2YXIgdGhpc1llYXJJdGVtID0gZDMuc2VsZWN0KHRoaXMpO1xuXHRcdFx0XHRcdFx0XHRleHBhbmQoc2VsLCB0aGlzWWVhckl0ZW0pO1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0Ly8gLm9uKCdtb3VzZW91dCcsIGNvbnRyYWN0KVxuXHRcdFx0XHRcdFx0LnN0eWxlKHN0eWxlc1Zpc2libGUpO1xuXHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly9sYWJlbCBmb3IgbnVtYmVyIG9mIHBhcGVyc1xuXHRcdFx0XHRcdHllYXJJdGVtcy5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcInlcIiwgXCIuM2VtXCIpICAvL251ZGdlXG5cdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibnVtSW5kaWNhdG9yXCIpXG5cdFx0XHRcdFx0XHQudGV4dChmdW5jdGlvbihkKSB7cmV0dXJuIGQudmFsdWVzLmxlbmd0aDt9KTtcblxuXHRcdFx0XHRcdHZhciBwYXBlckl0ZW1zID0geWVhckl0ZW1zLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLnBhcGVySXRlbVwiKVxuXHRcdFx0XHRcdFx0LmRhdGEoZnVuY3Rpb24oZCkge3JldHVybiBkLnZhbHVlc30pXG5cdFx0XHRcdFx0XHQuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwicGFwZXJJdGVtXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcImRhdGEteWVhclwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQueWVhcjt9KVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkge1xuXHRcdFx0XHRcdFx0XHRkLnggPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRcdGQueSA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0XHRcdFx0ZC5pZHggPSBpO1xuXHRcdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IG1haW5NaW5SYWQgKyAoMiAqIGVmU2NhbGUoZC5laWdlbmZhY3RvcikpO1xuXHRcdFx0XHRcdFx0XHRkLnJhZGl1cyA9IGVmU2NhbGVNYWluKGQuZWlnZW5mYWN0b3IpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5hdHRyKFwidGl0bGVcIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGZvciB0b29sdGlwXG5cdFx0XHRcdFx0XHRcdFx0Ly8gdmFyIHRleHQgPSBkLnRpdGxlXG5cdFx0XHRcdFx0XHRcdFx0Ly8gXHRcdFx0KyBcIiwgXCJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIGQuYXV0aG9ycy5qb2luKFwiLCBcIilcblx0XHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIFwiLCBcIlxuXHRcdFx0XHRcdFx0XHRcdC8vIFx0XHRcdCsgZC5qb3VybmFsXG5cdFx0XHRcdFx0XHRcdFx0Ly8gXHRcdFx0KyBcIiwgXCJcblx0XHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIGQueWVhcjtcblx0XHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gdGV4dDtcblx0XHRcdFx0XHRcdFx0dmFyIHNwYW4gPSAkKCAnPHNwYW4+JyApO1xuXHRcdFx0XHRcdFx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCB0aXRsZVwiPicgKS50ZXh0KGQudGl0bGUpICk7IFxuXHRcdFx0XHRcdFx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCBhdXRob3JzXCI+JyApLnRleHQoZC5hdXRob3JzLmpvaW4oXCIsIFwiKSkgKTtcblx0XHRcdFx0XHRcdFx0c3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgam91cm5hbFwiPicgKS50ZXh0KGQudmVudWUpICk7IFxuXHRcdFx0XHRcdFx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCB5ZWFyXCI+JyApLnRleHQoZC55ZWFyKSApOyBcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHNwYW4uaHRtbCgpO1xuXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIHZhciB0ID0gZDMuc2VsZWN0KHRoaXMpLnNlbGVjdCgnLnBhcGVyTGFiZWwnKTtcblx0XHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyh0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcblx0XHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygkKCB0aGlzICkucG9zaXRpb24oKSk7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coJCggJy5tYWluJyApLnBvc2l0aW9uKCkudG9wICsgbWFpbkhlaWdodCk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRcdHZhciB1cmwgPSBkLnVybDtcblx0XHRcdFx0XHRcdFx0Ly8gd2luZG93Lm9wZW4odXJsLCdfYmxhbmsnKTtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0dmFyIHBhcGVyTWFya3MgPSBwYXBlckl0ZW1zLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJyXCIsIDApICAvL2ZvciBub3dcblx0XHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJwYXBlck1hcmtcIik7XG5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XG5cdFx0XHRcdGNhc2UgJ2ljb24nOlxuXHRcdFx0XHRcdC8vbWFpbiBpdGVtc1xuXHRcdFx0XHRcdHZhciB5ZWFySXRlbXMgPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIueWVhckl0ZW1cIilcblx0XHRcdFx0XHRcdC5kYXRhKGRhdGFCeVllYXIpXG5cdFx0XHRcdFx0XHQuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwieWVhckl0ZW1cIilcblx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdFx0ZC54ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdFx0XHRkLnkgPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRcdC8vIGQucmFkaXVzID0gbWFpbk1pblJhZCArICgyICogZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3RvcikpO1xuXHRcdFx0XHRcdFx0XHRkLnJhZGl1cyA9IGVmU3VtU2NhbGUoZC5zdW1fZWlnZW5mYWN0b3IpO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0dmFyIHBhcGVySXRlbXMgPSB5ZWFySXRlbXMuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIucGFwZXJJdGVtXCIpXG5cdFx0XHRcdFx0XHQuZGF0YShmdW5jdGlvbihkKSB7cmV0dXJuIGQudmFsdWVzfSlcblx0XHRcdFx0XHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJwYXBlckl0ZW1cIilcblx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHtcblx0XHRcdFx0XHRcdFx0ZC54ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdFx0XHRkLnkgPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRcdGQuaWR4ID0gaTtcblx0XHRcdFx0XHRcdFx0Ly8gZC5yYWRpdXMgPSBtYWluTWluUmFkICsgKDIgKiBlZlNjYWxlKGQuZWlnZW5mYWN0b3IpKTtcblx0XHRcdFx0XHRcdFx0ZC5yYWRpdXMgPSBlZlNjYWxlTWFpbihkLmVpZ2VuZmFjdG9yKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjtcblx0XHRcdFx0XHRcdH0pO1xuXG5cblx0XHRcdFx0XHR2YXIgcGFwZXJNYXJrcyA9IHBhcGVySXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVyTWFya1wiKVxuXHRcdFx0XHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHRcdFx0LnRleHQoXCJcXHVmMGY2XCIpXG5cdFx0XHRcdFx0XHQvLyAub24oJ21vdXNlb3ZlcicsIGV4cGFuZClcblx0XHRcdFx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcblx0XHRcdFx0XHRcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHRcdFx0XHR2YXIgc2VsID0gcGFwZXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZGQpIHtyZXR1cm4gZGQueWVhcj09PWQueWVhcn0pO1xuXHRcdFx0XHRcdFx0XHRleHBhbmQoc2VsKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHQvLyAub24oJ21vdXNlb3V0JywgY29udHJhY3QpXG5cblx0XHRcdFx0XHR2YXIgYmJveCA9IHBhcGVyTWFya3Mubm9kZSgpLmdldEJCb3goKTtcblx0XHRcdFx0XHRwYXBlckl0ZW1zLmluc2VydChcInJlY3RcIiwgXCIucGFwZXJNYXJrXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcInhcIiwgYmJveC54KVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ5XCIsIGJib3gueSlcblx0XHRcdFx0XHRcdC5hdHRyKFwid2lkdGhcIiwgYmJveC53aWR0aClcblx0XHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0KVxuXHRcdFx0XHRcdFx0LnN0eWxlKFwiZmlsbFwiLCBcIndoaXRlXCIpO1xuXG5cdFx0XHRcdFx0Ly8gLy9tYWluIGl0ZW1zXG5cdFx0XHRcdFx0Ly8gdmFyIHBhcGVySXRlbXMgPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIucGFwZXJJdGVtXCIpXG5cdFx0XHRcdFx0Ly8gXHQuZGF0YShkYXRhX3RvdGFsKVxuXHRcdFx0XHRcdC8vIFx0LmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVySXRlbVwiKVxuXHRcdFx0XHRcdC8vIFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdC8vIFx0XHRkLnggPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0Ly8gXHRcdGQueSA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0XHQvLyBcdFx0ZC5yYWRpdXMgPSBtYWluTWluUmFkICsgKDIgKiBlZlN1bVNjYWxlKGQuc3VtX2VpZ2VuZmFjdG9yKSk7XG5cdFx0XHRcdFx0Ly8gXHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XG5cdFx0XHRcdFx0Ly8gXHR9KTtcblx0XHRcdFx0XHQvLyB2YXIgcGFwZXJNYXJrcyA9IHBhcGVySXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVyTWFya1wiKVxuXHRcdFx0XHRcdC8vIFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHRcdC8vIFx0LnRleHQoXCJcXHVmMGY2XCIpXG5cdFx0XHRcdFx0Ly8gXHQvLyAub24oJ21vdXNlb3ZlcicsIGV4cGFuZClcblx0XHRcdFx0XHQvLyBcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdC8vIFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHRcdC8vIFx0XHR2YXIgc2VsID0gcGFwZXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZGQpIHtyZXR1cm4gZGQueWVhcj09PWQueWVhcn0pO1xuXHRcdFx0XHRcdC8vIFx0XHRleHBhbmQoc2VsKTtcblx0XHRcdFx0XHQvLyBcdFx0fSk7XG5cdFx0XHRcdFx0Ly8gXHQvLyAub24oJ21vdXNlb3V0JywgY29udHJhY3QpXG5cblx0XHRcdFx0XHQvLyB2YXIgeWVhckl0ZW1zID0gbWFpbkNsaXBQYXRoLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLnllYXJJdGVtXCIpXG5cdFx0XHRcdFx0Ly8gXHQuZGF0YShkYXRhQnlZZWFyKVxuXHRcdFx0XHRcdC8vIFx0LmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcInllYXJJdGVtXCIpXG5cdFx0XHRcdFx0Ly8gXHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0Ly8gXHRcdGQueCA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0XHQvLyBcdFx0ZC55ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdC8vIFx0XHRkLnJhZGl1cyA9IG1haW5NaW5SYWQgKyAoMiAqIGVmU3VtU2NhbGUoZC5zdW1fZWlnZW5mYWN0b3IpKTtcblx0XHRcdFx0XHQvLyBcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjtcblx0XHRcdFx0XHQvLyBcdH0pO1xuXHRcdFx0XHRcdC8vIHZhciB5ZWFyTWFya3MgPSB5ZWFySXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcInllYXJNYXJrXCIpXG5cdFx0XHRcdFx0Ly8gXHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHRcdFx0Ly8gXHQudGV4dChcIlxcdWYwZjZcIilcblx0XHRcdFx0XHQvLyBcdC8vIC5vbignbW91c2VvdmVyJywgZXhwYW5kKVxuXHRcdFx0XHRcdC8vIFx0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0Ly8gXHRcdGNvbnRyYWN0KCk7XG5cdFx0XHRcdFx0Ly8gXHRcdHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkZCkge3JldHVybiBkZC55ZWFyPT09ZC55ZWFyfSk7XG5cdFx0XHRcdFx0Ly8gXHRcdGV4cGFuZChzZWwpO1xuXHRcdFx0XHRcdC8vIFx0XHR9KTtcblx0XHRcdFx0XHQvLyBcdC8vIC5vbignbW91c2VvdXQnLCBjb250cmFjdClcblxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFxuXHRcdFx0fVxuXG5cblx0XHRcdHZhciBwYXBlckxhYmVscyA9IHBhcGVySXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJwYXBlckxhYmVsXCIpXG5cdFx0XHRcdC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpXG5cdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKC0xNSwwKVwiKSAgLy8gbnVkZ2UgbGVmdFxuXHRcdFx0XHQvLyAudGV4dChmdW5jdGlvbihkKSB7cmV0dXJuIGQudGl0bGU7fSk7XG5cdFx0XHRcdC5odG1sKGZ1bmN0aW9uKGQpIHtyZXR1cm4gJzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCInICsgZC51cmwgKyAnXCI+JyArIGQudGl0bGUgKyAnPC9hPic7fSk7XG5cblxuXG5cdFx0XHQvL21pbmkgbGFiZWxzXG5cdFx0XHQvLyBtaW5pLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLm1pbmlMYWJlbHNcIilcblx0XHRcdC8vIFx0LmRhdGEoZGF0YSlcblx0XHRcdC8vIFx0LmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0Ly8gXHQudGV4dChmdW5jdGlvbihkKSB7cmV0dXJuIGQuaWQ7fSlcblx0XHRcdC8vIFx0LmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geChkLnN0YXJ0KTt9KVxuXHRcdFx0Ly8gXHQuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge3JldHVybiB5MihkLmxhbmUgKyAuNSk7fSlcblx0XHRcdC8vIFx0LmF0dHIoXCJkeVwiLCBcIi41ZXhcIik7XG5cblx0XHRcdC8vYnJ1c2hcblx0XHRcdHZhciBicnVzaCA9IGQzLnN2Zy5icnVzaCgpXG5cdFx0XHRcdFx0XHRcdFx0LngoeClcblx0XHRcdFx0XHRcdFx0XHQub24oXCJicnVzaFwiLCBkaXNwbGF5KTtcblxuXHRcdFx0bWluaS5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ4IGJydXNoXCIpXG5cdFx0XHRcdC5jYWxsKGJydXNoKVxuXHRcdFx0XHQuc2VsZWN0QWxsKFwicmVjdFwiKVxuXHRcdFx0XHQuYXR0cihcInlcIiwgMSlcblx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgbWluaUhlaWdodCAtIDEpO1xuXG5cdFx0XHR2YXIgZXh0ZW50TGluZXMgPSBbXTtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgMiA7IGkrKykge1xuXHRcdFx0XHRleHRlbnRMaW5lcy5wdXNoKGNoYXJ0LmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsIFwiZXh0ZW50TGluZVwiKSk7XG5cdFx0XHR9XG5cdFx0XHRmdW5jdGlvbiB1cGRhdGVFeHRlbnRMaW5lcyhsZWZ0LCByaWdodCkge1xuXHRcdFx0XHRpZiAoYnJ1c2guZW1wdHkoKSkge1xuXHRcdFx0XHRcdGV4dGVudExpbmVzLmZvckVhY2goZnVuY3Rpb24oc2VsKSB7c2VsLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7fSlcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRleHRlbnRMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uKHNlbCkge3NlbC5zdHlsZShcImRpc3BsYXlcIiwgXCJcIik7fSlcblx0XHRcdFx0XHRleHRlbnRMaW5lc1swXS5hdHRyKFwieDFcIiwgbVszXSlcblx0XHRcdFx0XHRcdC5hdHRyKFwieTFcIiwgbVswXSlcblx0XHRcdFx0XHRcdC5hdHRyKFwieDJcIiwgbGVmdCArIG1bM10pXG5cdFx0XHRcdFx0XHQuYXR0cihcInkyXCIsIChtYWluSGVpZ2h0ICsgbVswXSkpO1xuXHRcdFx0XHRcdGV4dGVudExpbmVzWzFdLmF0dHIoXCJ4MVwiLCB3K21bM10pXG5cdFx0XHRcdFx0XHQuYXR0cihcInkxXCIsIG1bMF0pXG5cdFx0XHRcdFx0XHQuYXR0cihcIngyXCIsIHJpZ2h0ICsgbVszXSlcblx0XHRcdFx0XHRcdC5hdHRyKFwieTJcIiwgKG1haW5IZWlnaHQgKyBtWzBdKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0dmFyIHNjcm9sbER1ciA9IDE1MDtcblx0XHRcdGZ1bmN0aW9uIG1vdmVCcnVzaChkaXJlY3Rpb24pIHtcblx0XHRcdFx0Ly8gaWYgKGJydXNoLmVtcHR5KCkgfHwgbWluRXh0ZW50PHRpbWVCZWdpbiB8fCBtYXhFeHRlbnQ+dGltZUVuZCkge1xuXHRcdFx0XHRpZiAoYnJ1c2guZW1wdHkoKSkge1xuXHRcdFx0XHRcdG1pbkV4dGVudCA9ICh0aW1lRW5kICsgdGltZUJlZ2luKSAvIDI7XG5cdFx0XHRcdFx0bWF4RXh0ZW50ID0gKCAodGltZUVuZCArIHRpbWVCZWdpbikgLyAyICkgKyAxO1xuXHRcdFx0XHRcdGNoYW5nZUV4dGVudChtaW5FeHRlbnQsIG1heEV4dGVudCwgMCk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN3aXRjaCAoZGlyZWN0aW9uKSB7XG5cdFx0XHRcdFx0Y2FzZSAnbGVmdCc6XG5cdFx0XHRcdFx0XHRjaGFuZ2VFeHRlbnQoTWF0aC5yb3VuZChtaW5FeHRlbnQtMSksIE1hdGgucm91bmQobWF4RXh0ZW50LTEpLCBzY3JvbGxEdXIsIFwibGluZWFyXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdyaWdodCc6XG5cdFx0XHRcdFx0XHRjaGFuZ2VFeHRlbnQoTWF0aC5yb3VuZChtaW5FeHRlbnQrMSksIE1hdGgucm91bmQobWF4RXh0ZW50KzEpLCBzY3JvbGxEdXIsIFwibGluZWFyXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICd6b29tSW4nOlxuXHRcdFx0XHRcdFx0Y2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50KzEpLCBNYXRoLnJvdW5kKG1heEV4dGVudC0xKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSAnem9vbU91dCc6XG5cdFx0XHRcdFx0XHRjaGFuZ2VFeHRlbnQoTWF0aC5yb3VuZChtaW5FeHRlbnQtMSksIE1hdGgucm91bmQobWF4RXh0ZW50KzEpLCBzY3JvbGxEdXIsIFwibGluZWFyXCIpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzY3JvbGxJdGVtcyA9IG1haW5DbGlwUGF0aC5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInNjcm9sbEl0ZW1zXCIpXG5cdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIChtYWluSGVpZ2h0KjAuNykgKyBcIilcIik7XG5cdFx0XHRzY3JvbGxJdGVtcy5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsZWZ0QXJyb3dcIilcblx0XHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHQudGV4dChcIlxcdWYwNjBcIilcblx0XHRcdFx0LmF0dHIoXCJ4XCIsIDApXG5cdFx0XHRcdC8vIC5hdHRyKFwieVwiLCBtYWluSGVpZ2h0IC8gMilcblx0XHRcdFx0Ly8gLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMS41ZW1cIilcblx0XHRcdFx0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gY2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50LTEpLCBNYXRoLnJvdW5kKG1heEV4dGVudC0xKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0XHRtb3ZlQnJ1c2goJ2xlZnQnKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdHNjcm9sbEl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInJpZ2h0QXJyb3dcIilcblx0XHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHQudGV4dChcIlxcdWYwNjFcIilcblx0XHRcdFx0LmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuXHRcdFx0XHQuYXR0cihcInhcIiwgdylcblx0XHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIG1haW5IZWlnaHQgLyAyKVxuXHRcdFx0XHQvLyAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxLjVlbVwiKVxuXHRcdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyBjaGFuZ2VFeHRlbnQoTWF0aC5yb3VuZChtaW5FeHRlbnQrMSksIE1hdGgucm91bmQobWF4RXh0ZW50KzEpLCBzY3JvbGxEdXIsIFwibGluZWFyXCIpO1xuXHRcdFx0XHRcdG1vdmVCcnVzaCgncmlnaHQnKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0dmFyIHpvb21JdGVtcyA9IHNjcm9sbEl0ZW1zLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwiem9vbUl0ZW1zXCIpXG5cdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAody1tWzFdLTEwKSArIFwiLDMwKVwiKVxuXHRcdFx0XHRcdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgLjAxKVxuXHRcdFx0XHRcdFx0XHRcdC5vbihcIm1vdXNlb3ZlclwiLCB6b29tTW91c2VPdmVyKVxuXHRcdFx0XHRcdFx0XHRcdC5vbihcIm1vdXNlb3V0XCIsIHpvb21Nb3VzZU91dCk7XG5cdFx0XHQvLyBzY3JvbGxJdGVtcy5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHR6b29tSXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwiem9vbUluXCIpXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcblx0XHRcdFx0LnRleHQoXCJcXHVmMTk2XCIpICAvLyBodHRwOi8vZm9udGF3ZXNvbWUuaW8vaWNvbi9wbHVzLXNxdWFyZS1vL1xuXHRcdFx0XHQvLyAuYXR0cihcInhcIiwgMTApXG5cdFx0XHRcdC8vIC5hdHRyKFwieVwiLCBtYWluSGVpZ2h0IC8gMilcblx0XHRcdFx0Ly8gLmF0dHIoXCJ4XCIsIHctbVsxXS0xMClcblx0XHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIDMwKVxuXHRcdFx0XHQvLyAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxLjVlbVwiKVxuXHRcdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHQvLyBjaGFuZ2VFeHRlbnQoTWF0aC5yb3VuZChtaW5FeHRlbnQrMSksIE1hdGgucm91bmQobWF4RXh0ZW50LTEpLCBzY3JvbGxEdXIsIFwibGluZWFyXCIpO1xuXHRcdFx0XHRcdG1vdmVCcnVzaCgnem9vbUluJylcblx0XHRcdFx0XHR9KTtcblx0XHRcdHpvb21JdGVtcy5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ6b29tT3V0XCIpXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcblx0XHRcdFx0LnRleHQoXCJcXHVmMTQ3XCIpICAvLyBodHRwOi8vZm9udGF3ZXNvbWUuaW8vaWNvbi9taW51cy1zcXVhcmUtby9cblx0XHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIG1haW5IZWlnaHQgLyAyKVxuXHRcdFx0XHQvLyAuYXR0cihcInhcIiwgdy1tWzFdLTEwKVxuXHRcdFx0XHQvLyAuYXR0cihcInlcIiwgNTApXG5cdFx0XHRcdC5hdHRyKFwieVwiLCAyMClcblx0XHRcdFx0Ly8gLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMS41ZW1cIilcblx0XHRcdFx0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gY2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50LTEpLCBNYXRoLnJvdW5kKG1heEV4dGVudCsxKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0XHRtb3ZlQnJ1c2goJ3pvb21PdXQnKTtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0ZnVuY3Rpb24gem9vbU1vdXNlT3ZlcigpIHtcblx0XHRcdFx0Ly8gJCggJy56b29tSW4sIC56b29tT3V0JyApLmZhZGVUbyg0MDAsIDEpO1xuXHRcdFx0XHQkKCAnLnpvb21JdGVtcycgKS5zdG9wKCkuZmFkZVRvKDQwMCwgMSk7XG5cdFx0XHR9XG5cdFx0XHRmdW5jdGlvbiB6b29tTW91c2VPdXQoKSB7XG5cdFx0XHRcdC8vICQoICcuem9vbUluLCAuem9vbU91dCcgKS5mYWRlVG8oNDAwLCAuMDEpO1xuXHRcdFx0XHQkKCAnLnpvb21JdGVtcycgKS5zdG9wKCkuZmFkZVRvKDQwMCwgLjAxKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWNvbiB0byBjbGVhciB0aGUgYnJ1c2guIEZpbmlzaCBpbml0aWFsaXppbmcgaXQgaW4gZGlzcGxheSgpXG5cdFx0XHQvLyB2YXIgY2xlYXJCcnVzaEljb24gPSBkMy5zZWxlY3QoXCIuYnJ1c2hcIikuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0dmFyIGNsZWFyQnJ1c2hJY29uID0gbWluaS5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJjbGVhckJydXNoSWNvblwiKVxuXHRcdFx0XHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjFlbVwiKVxuXHRcdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cdFx0XHRcdC5hdHRyKFwidGl0bGVcIiwgXCJDbGVhciB0aGUgdGltZWxpbmUgaW4gb3JkZXIgdG8gZHJhdyBhIG5ldyByZWdpb25cIilcblx0XHRcdFx0LnRleHQoXCJcXHVmMDBkXCIpO1xuXG5cdFx0XHRjaGFydC5vbihcIndoZWVsLnpvb21cIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aWYgKGQzLmV2ZW50LndoZWVsRGVsdGFZPjApIHtcblx0XHRcdFx0XHRcdG1vdmVCcnVzaCgnem9vbUluJyk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChkMy5ldmVudC53aGVlbERlbHRhWTwwKSB7XG5cdFx0XHRcdFx0XHRtb3ZlQnJ1c2goJ3pvb21PdXQnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGQzLmV2ZW50LndoZWVsRGVsdGFYPjApIHtcblx0XHRcdFx0XHRcdG1vdmVCcnVzaCgnbGVmdCcpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoZDMuZXZlbnQud2hlZWxEZWx0YVg8MCkge1xuXHRcdFx0XHRcdFx0bW92ZUJydXNoKCdyaWdodCcpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdC8vIGluaXRpYWxpemUgYnJ1c2hcblx0XHRcdHZhciBtaWRwb2ludFllYXIgPSAoIHRpbWVFbmQgKyB0aW1lQmVnaW4gKSAvIDIsXG5cdFx0XHRcdGJydXNoSW5pdCA9IFttaWRwb2ludFllYXIsIG1pZHBvaW50WWVhcl07XG5cdFx0XG5cdFx0XHQvLyBicnVzaC5leHRlbnQoYnJ1c2hJbml0KTtcblx0XHRcdG1pbmkuc2VsZWN0KFwiLmJydXNoXCIpLmNhbGwoYnJ1c2guZXh0ZW50KGJydXNoSW5pdCkpO1xuXG5cdFx0XHRkaXNwbGF5KCk7XG5cdFx0XHRcblx0XHRcdCQoIGRvY3VtZW50ICkudHJpZ2dlciggXCJ0aW1lbGluZVZpczppbml0Q29tcGxldGVcIiApO1xuXG5cblx0XHRcdC8vIC8vIEknbSBub3Qgc3VyZSB0aGVyZSdzIGEgd2F5IHRvIHVzZSBkMyB0cmFuc2l0aW9ucyB0byBjb250cm9sIHRoZSBicnVzaCwgYnV0IGhlcmUncyBhIGhhY2t5IHdheSBvZiBkb2luZyBpdCBtYW51YWxseS5cblx0XHRcdC8vIHZhciBkbHkgPSAzMDtcblx0XHRcdC8vIGZ1bmN0aW9uIGJydXNoVHJhbnNpdGlvbihkbHkpIHtcblx0XHRcdC8vIFx0Y3VyckV4dGVudCA9IFticnVzaC5leHRlbnQoKVswXSwgYnJ1c2guZXh0ZW50KClbMV1dO1xuXHRcdFx0Ly8gXHRicnVzaChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGRseSkuY2FsbChkaXNwbGF5KSk7XG5cdFx0XHQvLyBcdC8vIGJydXNoLmV2ZW50KGQzLnNlbGVjdChcIi5icnVzaFwiKS50cmFuc2l0aW9uKCkuZGVsYXkoZGx5KS5kdXJhdGlvbigwKSk7XG5cdFx0XHQvLyB9XG5cdFx0XHQvLyAvLyBicnVzaC5leHRlbnQoWzE5NzAsMjAwMF0pO1xuXHRcdFx0Ly8gdmFyIG1pbkV4dGVudCA9IGJydXNoLmV4dGVudCgpWzBdLFxuXHRcdFx0Ly8gXHRtYXhFeHRlbnQgPSBicnVzaC5leHRlbnQoKVsxXTtcblx0XHRcdC8vIHZhciBkZXN0aW5hdGlvbkV4dGVudCA9IDE5OTg7XG5cdFx0XHQvLyB2YXIgaSA9IG1heEV4dGVudDtcblx0XHRcdC8vIHZhciByZWZyZXNoSW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gXHQgICBcdGkgPSBpICsgMC4yO1xuXHRcdFx0Ly8gXHRcdGJydXNoLmV4dGVudChbbWluRXh0ZW50LCBpXSk7XG5cdFx0XHQvLyBcdFx0YnJ1c2hUcmFuc2l0aW9uKGRseSk7XG5cdFx0XHQvLyBcdFx0aWYgKGkgPj0gZGVzdGluYXRpb25FeHRlbnQpIHtcblx0XHRcdC8vIFx0XHRcdGNsZWFySW50ZXJ2YWwocmVmcmVzaEludGVydmFsSWQpO1xuXHRcdFx0Ly8gXHRcdH1cblx0XHRcdC8vIFx0fSwgZGx5KTtcblxuXHRcdFx0Ly8gLy8gYXR0ZW1wdCB0byB1c2UgdHdlZW4gZnVuY3Rpb24gdG8gZG8gaXQuIG5vdCByZWFsbHkgd29ya2luZ1xuXHRcdFx0Ly8gYnJ1c2guZXh0ZW50KFsxOTcwLCAyMDA1XSk7XG5cdFx0XHQvLyBicnVzaChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMDApXG5cdFx0XHQvLyBcdFx0LnR3ZWVuKFwic2lkZS1lZmZlY3RzXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZnVuY3Rpb24odCwgdHQsIHR0dCkgeyBjb25zb2xlLmxvZyhicnVzaC5leHRlbnQoKVswXSk7XG5cdFx0XHQvLyBcdFx0XHRicnVzaC5ldmVudChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmRlbGF5KHQpLmR1cmF0aW9uKDApKTtcblx0XHRcdC8vIFx0XHR9O30pKTtcblx0XHRcdC8vIGJydXNoKGQzLnNlbGVjdChcIi5icnVzaFwiKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkpO1xuXHRcdFx0Ly8gYnJ1c2guZXZlbnQoZDMuc2VsZWN0KFwiLmJydXNoXCIpLnRyYW5zaXRpb24oKS5kZWxheSgxMDAwKS5kdXJhdGlvbigwKSk7XG5cblxuXHRcdFx0ZnVuY3Rpb24gY2hhbmdlRXh0ZW50KHllYXIxLCB5ZWFyMiwgZHVyYXRpb24sIGVhc2UsIGRlbGF5KSB7XG5cdFx0XHRcdGlmIChkdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0ZHVyYXRpb24gPSAxMDAwO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChlYXNlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRlYXNlID0gXCJjdWJpYy1pbi1vdXRcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZGVsYXkgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGRlbGF5ID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoeWVhcjEgPCB0aW1lQmVnaW4pIHtcblx0XHRcdFx0XHR5ZWFyMSA9IHRpbWVCZWdpbjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoeWVhcjIgPiB0aW1lRW5kKSB7XG5cdFx0XHRcdFx0eWVhcjIgPSB0aW1lRW5kO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGJydXNoLmV2ZW50KG1pbmkuc2VsZWN0KFwiLmJydXNoXCIpLnRyYW5zaXRpb24oKS5kZWxheShkZWxheSkuZHVyYXRpb24oZHVyYXRpb24pLmVhc2UoZWFzZSkuY2FsbChicnVzaC5leHRlbnQoW3llYXIxLCB5ZWFyMl0pKSk7XG5cblx0XHRcdH1cblx0XHRcdC8vXG5cdFx0XHQvLyBUaGlzIHdvcmtzISAoYWZ0ZXIgbW9kaWZ5aW5nIHRoZSBkaXNwbGF5KCkgZnVuY3Rpb24uIHNlZSB0aGUgbm90ZSBhdCB0aGUgdG9wIG9mIGRpc3BsYXkoKSlcblx0XHRcdC8vIGJydXNoLmV2ZW50KG1pbmkuc2VsZWN0KFwiLmJydXNoXCIpLnRyYW5zaXRpb24oKS5kZWxheSgxMDAwKS5kdXJhdGlvbigxMDAwKS5jYWxsKGJydXNoLmV4dGVudChbMTk3MCwgMjAwMF0pKVxuXHRcdFx0Ly8gXHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge2NvbnNvbGUubG9nKFwiaW5pdGlhbGl6ZWRcIik7fSkpO1xuXHRcdFx0Ly8gdmFyIGluaXREdXJhdGlvbiA9IDEwMDAsXG5cdFx0XHQvLyBcdGluaXREZWxheSA9IDEwMDA7XG5cdFx0XHQvLyBjaGFuZ2VFeHRlbnQoMTk3MCwgMjAwMCwgaW5pdER1cmF0aW9uLCBcImN1YmljLWluLW91dFwiLCBpbml0RGVsYXkpO1xuXHRcdFx0Ly8gZDMudHJhbnNpdGlvbihcImluaXREZW1vVHJhbnNpdGlvblwiKS5kZWxheShpbml0RGVsYXkgKyBpbml0RHVyYXRpb24pXG5cdFx0XHQvLyBcdC5lYWNoKFwiZW5kXCIsIGRlbW9FeHBhbmQpO1xuXHRcdFx0Ly8gZGVtb0luaXQoKTtcblxuXHRcdFx0Ly8gbm90IHVzaW5nIHRoaXMgY3VycmVudGx5XG5cdFx0XHRmdW5jdGlvbiBleHBhbmRBbGwoKSB7XG5cdFx0XHRcdGV4cGFuZChwYXBlckl0ZW1zKTtcblx0XHRcdH1cblx0XHRcdHZhciBtYXhFRiA9IGQzLm1heChkYXRhX3RvdGFsLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQuZWlnZW5mYWN0b3I7fSk7XG5cblx0XHRcdGZ1bmN0aW9uIGNsZWFyQnJ1c2goKSB7XG5cdFx0XHRcdHZhciBtaWQgPSAoYnJ1c2guZXh0ZW50KClbMV0gKyBicnVzaC5leHRlbnQoKVswXSkgLyAyO1xuXHRcdFx0XHRjaGFuZ2VFeHRlbnQobWlkLCBtaWQsIDApO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRmdW5jdGlvbiBkaXNwbGF5KCkge1xuXHRcdFx0XHQvLyBub3RlOiBjYWxjdWxhdGluZyB0aGUgYnJ1c2ggZXh0ZW50IHVzaW5nIGJydXNoLmV4dGVudCgpIGRvZXNuJ3QgcmVhbGx5IHdvcmsgaGVyZSAod2l0aCB0cmFuc2l0aW9uIHRpY2tzKVxuXHRcdFx0XHQvLyBiZWNhdXNlIGl0IGdvZXMgdGhlIGZpbmFsIGV4dGVudCB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgdHJhbnNpdGlvbi5cblx0XHRcdFx0Ly8gU28gaW5zdGVhZCwgZ2V0IHRoZSBtZWFzdXJlbWVudHMgb2YgdGhlIGJydXNoIGVsZW1lbnQgYW5kIGNhbGN1bGF0ZSB0aGUgZXh0ZW50IHVzaW5nIHRoZSBzY2FsZSAoeC5pbnZlcnQoKSlcblx0XHRcdFx0dmFyIGV4dGVudFNlbGVjdCA9IG1pbmkuc2VsZWN0KFwiLmJydXNoXCIpLnNlbGVjdChcIi5leHRlbnRcIik7XG5cdFx0XHRcdHZhciBtaW5FeHRlbnRTY3JlZW4gPSArZXh0ZW50U2VsZWN0LmF0dHIoXCJ4XCIpO1xuXHRcdFx0XHR2YXIgbWF4RXh0ZW50U2NyZWVuID0gbWluRXh0ZW50U2NyZWVuICsgKCtleHRlbnRTZWxlY3QuYXR0cihcIndpZHRoXCIpKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coeC5pbnZlcnQobWF4RXh0ZW50U2NyZWVuKSk7XG5cdFx0XHRcdC8vIHZhciBtaW5FeHRlbnQgPSBicnVzaC5leHRlbnQoKVswXSxcblx0XHRcdFx0Ly8gXHRtYXhFeHRlbnQgPSBicnVzaC5leHRlbnQoKVsxXSxcblx0XHRcdFx0bWluRXh0ZW50ID0geC5pbnZlcnQobWluRXh0ZW50U2NyZWVuKTtcblx0XHRcdFx0bWF4RXh0ZW50ID0geC5pbnZlcnQobWF4RXh0ZW50U2NyZWVuKTtcblxuXG5cblx0XHRcdFx0Ly8gaGlkZSBhcnJvd3MgaWYgeW91IGNhbid0IGdvIGFueSBmdXJ0aGVyXG5cdFx0XHRcdGlmIChtaW5FeHRlbnQgPD0gdGltZUJlZ2luKSB7XG5cdFx0XHRcdFx0ZDMuc2VsZWN0KFwiLmxlZnRBcnJvd1wiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGQzLnNlbGVjdChcIi5sZWZ0QXJyb3dcIikuc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChtYXhFeHRlbnQgPj0gdGltZUVuZCkge1xuXHRcdFx0XHRcdGQzLnNlbGVjdChcIi5yaWdodEFycm93XCIpLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0ZDMuc2VsZWN0KFwiLnJpZ2h0QXJyb3dcIikuc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGhpZGUgdGhlIHpvb21JbiBidXR0b24gaWYgd2UncmUgem9vbWVkIGluIHRvbyBmYXJcblx0XHRcdFx0aWYgKG1heEV4dGVudCAtIG1pbkV4dGVudCA8PSAyKSB7XG5cdFx0XHRcdFx0Ly8gZDMuc2VsZWN0KFwiLnpvb21JblwiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRcdGQzLnNlbGVjdChcIi56b29tSW5cIikuY2xhc3NlZChcImhpZGRlblwiLCB0cnVlKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQvLyBkMy5zZWxlY3QoXCIuem9vbUluXCIpLnN0eWxlKFwiZGlzcGxheVwiLCBcIlwiKTtcblx0XHRcdFx0XHRkMy5zZWxlY3QoXCIuem9vbUluXCIpLmNsYXNzZWQoXCJoaWRkZW5cIiwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGJydXNoLmVtcHR5KCkpIHtcblx0XHRcdFx0XHRjbGVhckJydXNoSWNvbi5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRcdGQzLnNlbGVjdChcIi5sZWZ0QXJyb3dcIikuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblx0XHRcdFx0XHRkMy5zZWxlY3QoXCIucmlnaHRBcnJvd1wiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNsZWFyQnJ1c2hJY29uLnN0eWxlKFwiZGlzcGxheVwiLCBcIlwiKVxuXHRcdFx0XHRcdFx0LnN0eWxlKFwib3BhY2l0eVwiLCAwKVxuXHRcdFx0XHRcdFx0Ly8gLnN0eWxlKFwiei1pbmRleFwiLCAtOTkpXG5cdFx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBjb25zdHJ1Y3RUcmFuc2xhdGUobWF4RXh0ZW50U2NyZWVuLTIsIDE1KSlcblx0XHRcdFx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMzAwKVxuXHRcdFx0XHRcdFx0LnN0eWxlKFwib3BhY2l0eVwiLCAuNCk7XG5cdFx0XHRcdFx0Y2xlYXJCcnVzaEljb24ub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGNsZWFyQnJ1c2goKTtcblx0XHRcdFx0XHRcdGNvbnRyYWN0KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXG5cblx0XHRcdFx0Ly8gSGlkZSBtYWluIGl0ZW1zIGlmIHRoZSBicnVzaCBpcyBlbXB0eVxuXHRcdFx0XHRpZiAoYnJ1c2guZW1wdHkoKSkge1xuXHRcdFx0XHRcdC8vIHllYXJJdGVtcy5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRcdC8vIGNoYW5nZUV4dGVudCh0aW1lQmVnaW4sIHRpbWVFbmQsIDApO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Ly8gc2hvdyBhbGwgbWFpbiBpdGVtcywgYnV0IGtlZXAgdGhlIGJydXNoIGhpZGRlblxuXHRcdFx0XHRcdHVwZGF0ZU1haW4odGltZUJlZ2luLHRpbWVFbmQpO1xuXHRcdFx0XHRcdC8vIHRoaXMgd2lsbCByZW1vdmUgdGhlIGV4dGVudCBsaW5lczpcblx0XHRcdFx0XHR1cGRhdGVFeHRlbnRMaW5lcygpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGQzLnNlbGVjdChcIi5icnVzaFwiKS5hdHRyKFwiZGlzcGxheVwiLCBcIlwiKTtcblx0XHRcdFx0XHR1cGRhdGVNYWluKG1pbkV4dGVudCwgbWF4RXh0ZW50KTtcblx0XHRcdFx0XHR1cGRhdGVFeHRlbnRMaW5lcyhtaW5FeHRlbnRTY3JlZW4sIG1heEV4dGVudFNjcmVlbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZnVuY3Rpb24gdXBkYXRlTWFpbihtaW5FeHRlbnQsIG1heEV4dGVudCkge1xuXHRcdFx0XHRcblx0XHRcdFx0c3dpdGNoIChtYXJrVHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ2NpcmNsZSc6XG5cdFx0XHRcdFx0XHR2YXIgdmlzSXRlbXMgPSB5ZWFySXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyIDwgbWF4RXh0ZW50ICYmIGQueWVhciA+IG1pbkV4dGVudDt9KVxuXHRcdFx0XHRcdFx0dmFyIG5vdFZpc0l0ZW1zID0geWVhckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQueWVhcj49IG1heEV4dGVudCB8fCBkLnllYXIgPD0gbWluRXh0ZW50O30pO1xuXHRcdFx0XHRcdFx0dmlzSXRlbXMuc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpO1xuXHRcdFx0XHRcdFx0bm90VmlzSXRlbXMuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGJydXNoLmV4dGVudCgpKTtcblxuXHRcdFx0XHRcdFx0Ly8gbWluaS5zZWxlY3QoXCIuYnJ1c2hcIilcblx0XHRcdFx0XHRcdC8vIFx0LmNhbGwoYnJ1c2guZXh0ZW50KFttaW5FeHRlbnQsIG1heEV4dGVudF0pKTtcblx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKG1heEV4dGVudC1taW5FeHRlbnQpO1xuXG5cdFx0XHRcdFx0XHR4MS5kb21haW4oW21pbkV4dGVudCwgbWF4RXh0ZW50XSk7XG5cblx0XHRcdFx0XHRcdC8vIHVwZGF0ZSBzdHlsZXMgb2YgbWluaSBpdGVtcyB0aGF0IGFyZSB2aXNpYmxlIGluIHRoZSBtYWluIGRpc3BsYXkuXG5cdFx0XHRcdFx0XHQvLyByZXNldCBhbGwgdG8gbm9ybWFsLCB0aGVuIHN0eWxlIGp1c3QgdGhlIHZpc2libGUgb25lc1xuXHRcdFx0XHRcdFx0Ly8gbWluaUl0ZW1zLnN0eWxlKHN0eWxlc0Jhc2UpO1xuXHRcdFx0XHRcdFx0bWluaUl0ZW1zLnN0eWxlKHN0eWxlc1Zpc2libGUpO1xuXHRcdFx0XHRcdFx0bWluaUl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKG1pbkV4dGVudCk7XG5cdFx0XHRcdFx0XHRcdHZhciBtYXRjaCA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0XHR2aXNJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGRkKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGQuaWQ9PWRkLmZpcnN0VGl0bGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG1hdGNoID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHRcdFx0XHRcdH0pLnN0eWxlKHN0eWxlc1Zpc2libGUpO1xuXG5cdFx0XHRcdFx0XHQvL3VwZGF0ZSBtYWluIGl0ZW0gbWFya3Ncblx0XHRcdFx0XHRcdHZpc0l0ZW1zLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHRkLnggPSB4MShkLnllYXIpO1xuXHRcdFx0XHRcdFx0XHRkLnkgPSB5MShkLmxhbmUpICsgbWFpbk1pblJhZDtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjtcblx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHR5ZWFyTWFya3MuYXR0cihcInJcIiwgZnVuY3Rpb24oZCkge3JldHVybiBkLnJhZGl1czt9KTtcblxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlICdpY29uJzpcblx0XHRcdFx0XHRcdHZhciB2aXNJdGVtcyA9IHllYXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXIgPCBtYXhFeHRlbnQgJiYgZC55ZWFyID4gbWluRXh0ZW50O30pXG5cdFx0XHRcdFx0XHR2YXIgbm90VmlzSXRlbXMgPSB5ZWFySXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyPj0gbWF4RXh0ZW50IHx8IGQueWVhciA8PSBtaW5FeHRlbnQ7fSk7XG5cdFx0XHRcdFx0XHR2aXNJdGVtcy5zdHlsZShcImRpc3BsYXlcIiwgXCJcIik7XG5cdFx0XHRcdFx0XHRub3RWaXNJdGVtcy5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coYnJ1c2guZXh0ZW50KCkpO1xuXG5cdFx0XHRcdFx0XHQvLyBtaW5pLnNlbGVjdChcIi5icnVzaFwiKVxuXHRcdFx0XHRcdFx0Ly8gXHQuY2FsbChicnVzaC5leHRlbnQoW21pbkV4dGVudCwgbWF4RXh0ZW50XSkpO1xuXHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2cobWF4RXh0ZW50LW1pbkV4dGVudCk7XG5cdFx0XHRcdFx0XHQvLyB1cGRhdGVFeHRlbnRMaW5lcyhtaW5FeHRlbnRTY3JlZW4sIG1heEV4dGVudFNjcmVlbik7XG5cblx0XHRcdFx0XHRcdHgxLmRvbWFpbihbbWluRXh0ZW50LCBtYXhFeHRlbnRdKTtcblxuXHRcdFx0XHRcdFx0Ly8gdXBkYXRlIHN0eWxlcyBvZiBtaW5pIGl0ZW1zIHRoYXQgYXJlIHZpc2libGUgaW4gdGhlIG1haW4gZGlzcGxheS5cblx0XHRcdFx0XHRcdC8vIHJlc2V0IGFsbCB0byBub3JtYWwsIHRoZW4gc3R5bGUganVzdCB0aGUgdmlzaWJsZSBvbmVzXG5cdFx0XHRcdFx0XHRtaW5pSXRlbXMuc3R5bGUoc3R5bGVzQmFzZSk7XG5cdFx0XHRcdFx0XHRtaW5pSXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdHZpc0l0ZW1zLmZvckVhY2goZnVuY3Rpb24oZGQpIHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZC5pZD09ZGQuZmlyc3RUaXRsZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdFx0XHRcdFx0fSkuc3R5bGUoc3R5bGVzVmlzaWJsZSk7XG5cblx0XHRcdFx0XHRcdC8vdXBkYXRlIG1haW4gaXRlbSBtYXJrc1xuXHRcdFx0XHRcdFx0dmlzSXRlbXMuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRcdC8vIGQueCA9IHgxKGQueWVhcikgLSAxMDtcblx0XHRcdFx0XHRcdFx0ZC54ID0geDEoZC55ZWFyKTtcblx0XHRcdFx0XHRcdFx0ZC55ID0geTEoZC5sYW5lKSArIDIwO1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdHBhcGVyTWFya3MuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLmlkeC8yICsgXCIsXCIgKyBkLmlkeCozICsgXCIpXCI7XG5cdFx0XHRcdFx0XHRcdFx0XHQvLyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBcIjBcIiArIFwiLFwiICsgZC5pZHgqMyArIFwiKVwiO1xuXHRcdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdC5zdHlsZShcImZpbGxcIiwgXCJibGFja1wiKVxuXHRcdFx0XHRcdFx0XHQuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXG5cdFx0XHRcdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjEuNWVtXCIpO1xuXHRcdFx0XHRcdFx0XHQvLyAuc3R5bGUoXCJmb250LXNpemVcIiwgZnVuY3Rpb24oZCkge3JldHVybiAoZC5yYWRpdXMvMTApICsgXCJlbVwiO30pO1xuXG5cdFx0XHRcdFx0XHRwYXBlckl0ZW1zLmVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaXRlbSA9IGQzLnNlbGVjdCh0aGlzKTtcblx0XHRcdFx0XHRcdFx0dmFyIG0gPSBpdGVtLnNlbGVjdChcIi5wYXBlck1hcmtcIik7XG5cdFx0XHRcdFx0XHRcdHZhciBiYm94ID0gbS5ub2RlKCkuZ2V0QkJveCgpO1xuXHRcdFx0XHRcdFx0XHRpdGVtLnNlbGVjdChcInJlY3RcIilcblx0XHRcdFx0XHRcdFx0XHQuYXR0cihcInhcIiwgYmJveC54KVxuXHRcdFx0XHRcdFx0XHRcdC5hdHRyKFwieVwiLCBiYm94LnkpXG5cdFx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoKVxuXHRcdFx0XHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0KVxuXHRcdFx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIG0uYXR0cihcInRyYW5zZm9ybVwiKSlcblx0XHRcdFx0XHRcdFx0XHQuc3R5bGUoXCJmaWxsXCIsIFwid2hpdGVcIik7XG5cdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKG0uYXR0cihcInRyYW5zZm9ybVwiKSk7XG5cdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblxuXG5cdFx0XHRcdC8vdXBkYXRlIHRoZSBpdGVtIGxhYmVsc1xuXHRcdFx0XHQvLyB2YXIgcm90YXRlID0gLTIwO1xuXHRcdFx0XHRmdW5jdGlvbiBfcm90YXRlKHJvdGF0aW9uKSB7XG5cdFx0XHRcdFx0bGFiZWxzLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyBcblx0XHRcdFx0XHRcdHJldHVybiBcInJvdGF0ZShcIiArIHJvdGF0aW9uICsgXCIsXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiOyBcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyBjb25zdHJhaW50IHJlbGF4YXRpb25cblx0XHRcdFx0Ly8gaHR0cDovL2JsLm9ja3Mub3JnL3N5bnRhZ21hdGljLzQwNTMwOTZcblx0XHRcdFx0dmFyIGFscGhhID0gMTtcblx0XHRcdFx0dmFyIHNwYWNpbmcgPSAxNTtcblx0XHRcdFx0ZnVuY3Rpb24gcmVsYXgobGFiZWxzKSB7XG5cdFx0XHRcdFx0Ly8gTW92ZSB0ZXh0IGlmIG92ZXJsYXBwaW5nIChyZWN1cnNpdmVseSlcblx0XHRcdFx0XHR2YXIgYWdhaW4gPSBmYWxzZTtcblx0XHRcdFx0XHRsYWJlbHMuZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkMy5zZWxlY3QodGhpcykuYXR0cihcInhcIikpO1xuXHRcdFx0XHRcdFx0dmFyIGEgPSB0aGlzO1xuXHRcdFx0XHRcdFx0dmFyIGRhID0gZDMuc2VsZWN0KGEpO1xuXHRcdFx0XHRcdFx0dmFyIGF4ID0gZGEuYXR0cihcInhcIik7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhheCk7XG5cdFx0XHRcdFx0XHRsYWJlbHMuZWFjaChmdW5jdGlvbihkZCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgYiA9IHRoaXM7XG5cdFx0XHRcdFx0XHRcdC8vIGlmIChhID09IGIpIHtcblx0XHRcdFx0XHRcdFx0Ly8gXHRyZXR1cm47XG5cdFx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdFx0dmFyIGRiID0gZDMuc2VsZWN0KGIpO1xuXHRcdFx0XHRcdFx0XHR2YXIgYnggPSBkYi5hdHRyKFwieFwiKTtcblx0XHRcdFx0XHRcdFx0dmFyIGRlbHRhWCA9IGF4IC0gYng7XG5cdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGRlbHRhWCk7XG5cdFx0XHRcdFx0XHRcdC8vIGlmIChNYXRoLmFicyhkZWx0YVgpID4gc3BhY2luZykge1xuXHRcdFx0XHRcdFx0XHQvLyBcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRcdFx0XHRpZiAoIChhICE9IGIpICYmIE1hdGguYWJzKGRlbHRhWCkgPCBzcGFjaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGVsdGFYKTtcblx0XHRcdFx0XHRcdFx0XHQvLyBjb2xsaXNpb24gZGV0ZWN0ZWRcblx0XHRcdFx0XHRcdFx0XHRhZ2FpbiA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIHNpZ24gPSBkZWx0YVggPiAwID8gMSA6IC0xO1xuXHRcdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGEpO1xuXHRcdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGRiLmF0dHIoXCJ4XCIpKTtcblx0XHRcdFx0XHRcdFx0XHRkLnggPSArYXggKyAoc2lnbiphbHBoYSk7XG5cdFx0XHRcdFx0XHRcdFx0ZGQueCA9ICtieCAtIChzaWduKmFscGhhKTtcblx0XHRcdFx0XHRcdFx0XHRkYS5hdHRyKFwieFwiLCBkLngpO1xuXHRcdFx0XHRcdFx0XHRcdGRiLmF0dHIoXCJ4XCIsIGRkLngpO1xuXHRcdFx0XHRcdFx0XHRcdC8vIGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDUwMCwgMClcIik7XG5cdFx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGIuYXR0cihcInhcIikpO1xuXHRcdFx0XHRcdFx0XHRcdC8vIGQueCArPSBzaWduKmFscGhhO1xuXHRcdFx0XHRcdFx0XHRcdC8vIGEueCArPSAxO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRpZiAoYWdhaW4pIHtcblx0XHRcdFx0XHRcdC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHQvLyBcdHJlbGF4KGxhYmVscyk7XG5cdFx0XHRcdFx0XHQvLyB9LCAyKTtcblx0XHRcdFx0XHRcdHJlbGF4KGxhYmVscyk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdF9yb3RhdGUoLTIwKTtcblx0XHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gbGFiZWxzID0gaXRlbVJlY3RzLnNlbGVjdEFsbChcIi55ZWFySXRlbUxhYmVsXCIpXG5cdFx0XHRcdC8vIFx0LmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHtkLnggPSB4MShNYXRoLm1heChkLmtleSwgbWluRXh0ZW50KSk7IHJldHVybiBkLng7fSlcblx0XHRcdFx0Ly8gXHQuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge2QueSA9IGQuY3k7IHJldHVybiBkLnk7fSlcblx0XHRcdFx0Ly8gXHQuZGF0YSh2aXNJdGVtcyk7XG5cdFx0XHRcdC8vIFx0Ly8gLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geDEoTWF0aC5tYXgoZC5zdGFydCwgbWluRXh0ZW50KSArIDIpO30pO1xuXHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwicm90YXRlKFwiICsgcm90YXRlICsgXCIsXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiOyB9KTtcblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gbGFiZWxzLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQvLyBcdC50ZXh0KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyICsgXCI6IFwiICsgZC52YWx1ZXMubGVuZ3RoICsgXCIgcGFwZXJzXCI7fSlcblx0XHRcdFx0Ly8gXHQuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkge2QueCA9IHgxKE1hdGgubWF4KGQua2V5LCBtaW5FeHRlbnQpKTsgcmV0dXJuIGQueDt9KVxuXHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7ZC55ID0geTEoZC5sYW5lICsgLjUpOyByZXR1cm4gZC55O30pXG5cdFx0XHRcdC8vIFx0Ly8gLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHtkLnkgPSB5MShkLmxhbmUpK3JhZDsgcmV0dXJuIGQueTt9KVxuXHRcdFx0XHQvLyBcdC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7ZC55ID0gZC5jeTsgcmV0dXJuIGQueTt9KVxuXHRcdFx0XHQvLyBcdC5hdHRyKFwiY2xhc3NcIiwgXCJ5ZWFySXRlbUxhYmVsXCIpXG5cdFx0XHRcdC8vIFx0LmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuXHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwicm90YXRlKFwiICsgcm90YXRlICsgXCIsXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiOyB9KVxuXHRcdFx0XHQvLyBcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHQvLyBcdFx0XHRjb25zb2xlLmxvZyhkLngpO1xuXHRcdFx0XHQvLyBcdFx0fSk7XG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIGxhYmVscy5leGl0KCkucmVtb3ZlKCk7XG5cblx0XHRcdFx0Ly91cGRhdGUgYXhpc1xuXHRcdFx0XHR4QXhpc01haW5PYmouY2FsbCh4QXhpc01haW4pO1xuXG5cdFx0XHRcdC8vIC8vIG9ubHkgdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIChvciBub25lKVxuXHRcdFx0XHQvLyBfcm90YXRlKC0yMCk7XG5cdFx0XHRcdC8vIHJlbGF4KGxhYmVscyk7XG5cdFx0XHRcdC8vXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCQoJy5tYWluQ2xpcFBhdGgnKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCQoJy5jaGFydCcpWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcblx0XHRcdFx0bGFiZWxzQ29sbGlzaW9uRGV0ZWN0KCk7XG5cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dmFyIGFmdGVyVHJhbnNpdGlvblggPSBmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdC8vIHJldHVybiB4MSgrZC55ZWFyKSArICgoaSppKSozKTtcblx0XHRcdFx0cmV0dXJuIChpKmkpKjM7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIGFmdGVyVHJhbnNpdGlvblkgPSBmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdC8vIHJldHVybiB5MShkLmxhbmUpICsgMi4yKnJhZCppKzUqcmFkO1xuXHRcdFx0XHRyZXR1cm4gMi4xKm1haW5NaW5SYWQqaSszKm1haW5NaW5SYWQ7XG5cdFx0XHR9O1xuXHRcdFx0Ly8gZnVuY3Rpb24gZXhwYW5kKHllYXJEYXRhKSB7XG5cdFx0XHRmdW5jdGlvbiBleHBhbmQoc2VsLCB5ZWFySXRlbSkge1xuXHRcdFx0XHR2YXIgdGhpc1llYXIgPSBzZWwuYXR0cihcImRhdGEteWVhclwiKTtcblx0XHRcdFx0dmFyIHRoaXNZZWFySXRlbSA9IHllYXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI9PXRoaXNZZWFyfSk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHRoaXNZZWFySXRlbSk7XG5cdFx0XHRcdC8vIGNvbnRyYWN0KCk7XG5cdFx0XHRcdHZhciBkdXIgPSA1MDA7XG5cdFx0XHRcdC8vIHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQueWVhcj09PXllYXJEYXRhLnllYXJ9KTtcblx0XHRcdFx0dmFyIHRyYW5zaXRpb25TdGFydFN0eWxlID0geydwb2ludGVyLWV2ZW50cyc6ICdub25lJywgJ2N1cnNvcic6ICdkZWZhdWx0J30sXG5cdFx0XHRcdFx0dHJhbnNpdGlvbkVuZFN0eWxlID0geydwb2ludGVyLWV2ZW50cyc6ICdhdXRvJywgJ2N1cnNvcic6ICdwb2ludGVyJ307XG5cdFx0XHRcdC8vIHNlbC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKVxuXHRcdFx0XHR2YXIgbGluZSA9IGQzLnN2Zy5saW5lKCkueChmdW5jdGlvbihkKSB7cmV0dXJuIGRbMF19KS55KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZFsxXX0pO1xuXHRcdFx0XHQvLyBsaW5lZGF0YSB3aWxsIGJlIGFuIGFycmF5IG9mIFt4LCB5XSB2YWx1ZXMgdGhhdCBzdGFydCBhdCB0aGUgeWVhciBjaXJjbGUgYW5kIHRyYWNrIHRoZSBwYXBlciBjaXJjbGVzXG5cdFx0XHRcdHZhciBsaW5lZGF0YSA9IFtdO1xuXHRcdFx0XHRsaW5lZGF0YS5wdXNoKFswLDBdKTtcblx0XHRcdFx0c2VsLnN0eWxlKHRyYW5zaXRpb25TdGFydFN0eWxlKVxuXHRcdFx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQsIGkpIHtcblx0XHRcdFx0XHRcdGxpbmVkYXRhLnB1c2goW2FmdGVyVHJhbnNpdGlvblgoZCwgaSksIGFmdGVyVHJhbnNpdGlvblkoZCwgaSldKTtcblx0XHRcdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGFmdGVyVHJhbnNpdGlvblgoZCwgaSkgKyBcIixcIiArIGFmdGVyVHJhbnNpdGlvblkoZCwgaSkgKyBcIilcIjtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5lYWNoKFwic3RhcnRcIiwgZnVuY3Rpb24oKSB7ZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJleHBhbmRlZFwiLCB0cnVlKX0pXG5cdFx0XHRcdFx0Ly8gLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7ZDMuc2VsZWN0KHRoaXMpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJhdXRvXCIpO30pO1xuXHRcdFx0XHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZDMuc2VsZWN0KHRoaXMpLnN0eWxlKHRyYW5zaXRpb25FbmRTdHlsZSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8gLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJhdXRvXCIpO1xuXHRcdFx0XHRzZWwuc2VsZWN0QWxsKFwiLnBhcGVyTWFya1wiKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0XHRcdFx0XHRcdC8vIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIChkLnJhZGl1cy8xMCkgKyBcImVtXCI7fSlcblx0XHRcdFx0XHQuc3R5bGVUd2VlbihcImZvbnQtc2l6ZVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZDMuaW50ZXJwb2xhdGUoXG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKFwiZm9udC1zaXplXCIpLFxuXHRcdFx0XHRcdFx0XHRcdChkLnJhZGl1cy8xMCkgKyBcImVtXCIpO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmF0dHIoXCJyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5yYWRpdXM7fSk7XG5cblx0XHRcdFx0Ly9tYWtlIGxhYmVscyBhcHBlYXJcblx0XHRcdFx0c2VsLnNlbGVjdEFsbChcIi5wYXBlckxhYmVsXCIpXG5cdFx0XHRcdFx0Ly8gLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpXG5cdFx0XHRcdFx0LnN0eWxlKFwiZGlzcGxheVwiLCBcIlwiKVxuXHRcdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgMClcblx0XHRcdFx0XHQudHJhbnNpdGlvbigpXG5cdFx0XHRcdFx0LmRlbGF5KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZHVyLzIgKyBkLmlkeCo3NTt9KVxuXHRcdFx0XHRcdC5kdXJhdGlvbihkdXIpXG5cdFx0XHRcdFx0LnN0eWxlKFwib3BhY2l0eVwiLCAxKTtcblx0XHRcdFx0Ly8gbGFiZWxzQ29sbGlzaW9uRGV0ZWN0KCk7XG5cdFx0XHRcdGQzLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dGhpc1llYXJJdGVtLmFwcGVuZChcInBhdGhcIikuZGF0dW0obGluZWRhdGEpLmF0dHIoXCJjbGFzc1wiLCBcImpvaW5MaW5lXCIpLmF0dHIoXCJkXCIsIGxpbmUpO1xuXHRcdFx0XHRcdGRpc3BsYXkoKVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdC8vIGZ1bmN0aW9uIGNvbnRyYWN0KHllYXJEYXRhKSB7XG5cdFx0XHRmdW5jdGlvbiBjb250cmFjdCgpIHtcblx0XHRcdFx0ZDMuc2VsZWN0QWxsKFwiLmpvaW5MaW5lXCIpLnJlbW92ZSgpO1xuXHRcdFx0XHR2YXIgZHVyID0gNTAwO1xuXHRcdFx0XHQvLyB2YXIgc2VsID0gcGFwZXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI9PT15ZWFyRGF0YS55ZWFyfSk7XG5cdFx0XHRcdHZhciBzZWwgPSBkMy5zZWxlY3RBbGwoXCIuZXhwYW5kZWRcIik7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHNlbC5lbXB0eSgpKTtcblx0XHRcdFx0c2VsLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCwwKVwiKVxuXHRcdFx0XHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0ZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJleHBhbmRlZFwiLCBmYWxzZSlcblx0XHRcdFx0XHRcdFx0LnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJcIik7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0c2VsLnNlbGVjdEFsbChcIi5wYXBlck1hcmtcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cioxLjUpXG5cdFx0XHRcdFx0LnN0eWxlVHdlZW4oXCJmb250LXNpemVcIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQzLmludGVycG9sYXRlKFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSxcblx0XHRcdFx0XHRcdFx0XHRcIjEuNWVtXCIpXG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuYXR0cihcInJcIiwgMCk7XG5cdFx0XHRcdHNlbC5zZWxlY3RBbGwoXCIucGFwZXJMYWJlbFwiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0fVxuXHRcdFx0Ly8gZnVuY3Rpb24gZXhwYW5kKHllYXJEYXRhKSB7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKHllYXJEYXRhKTtcblx0XHRcdC8vIFx0aWYgKCF5ZWFyRGF0YS5leHBhbmRlZCkge1xuXHRcdFx0Ly8gXHRcdFxuXHRcdFx0Ly8gXHRcdC8vIGQzLnNlbGVjdEFsbChcIi55ZWFySXRlbUxhYmVsXCIpLmNsYXNzZWQoXCJoaWRkZW5cIik7XG5cdFx0XHQvLyBcdFx0JCggJy55ZWFySXRlbUxhYmVsJyApLmhpZGUoKTtcblx0XHRcdC8vIFx0XHR2YXIgZHVyID0gNTAwO1xuXHRcdFx0Ly8gXHRcdC8vIHZhciByYWQgPSB5ZWFyRGF0YS5yYWRpdXM7XG5cdFx0XHQvLyBcdFx0dmFyIHJhZCA9IDEwO1xuXHRcdFx0Ly8gXHRcdHZhciBwYXJlbnRZID0geWVhckRhdGEuY3k7XG5cdFx0XHQvLyBcdFx0dmFyIG1hcmtzID0gbWFpbkNsaXBQYXRoLnNlbGVjdEFsbChcIi5wYXBlckl0ZW1cIilcblx0XHRcdC8vIFx0XHRcdFx0XHQvLyAuZGF0YSh2aXNJdGVtcywgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5pZDsgfSlcblx0XHRcdC8vIFx0XHRcdFx0XHQuZGF0YSh5ZWFyRGF0YS52YWx1ZXMpO1xuXHRcdFx0Ly8gXHRcdG1hcmtzLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG5cdFx0XHQvLyBcdFx0XHRcdC8vIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24oZCkge3JldHVybiBcIm1haW5JdGVtIG1pbmlJdGVtXCIgKyBkLmxhbmU7fSlcblx0XHRcdC8vIFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVySXRlbVwiKVxuXHRcdFx0Ly8gXHRcdFx0XHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtjb25zb2xlLmxvZyhkKTt9KS5hcHBlbmQoJ3RleHQnKS50ZXh0KCdkJyk7XG5cdFx0XHQvLyBcdFx0Ly8gbWFya3MuZXhpdCgpLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKS5hdHRyKFwiY3lcIiwgcGFyZW50WSkucmVtb3ZlKCk7XG5cdFx0XHQvLyBcdFx0Ly8gaXRlbVJlY3RzLnNlbGVjdEFsbCgndGV4dCcpLmRhdGEoeWVhckRhdGEudmFsdWVzKS5lbnRlcigpLmFwcGVuZCgndGV4dCcpLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHtjb25zb2xlLmxvZyhkKTsgcmV0dXJuIGQuY3g7fSkuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge3JldHVybiBkLmN5O30pLnRleHQoZnVuY3Rpb24oZCkge3JldHVybiBkLnRpdGxlO30pO1xuXHRcdFx0Ly8gXHRcdG1hcmtzLmV4aXQoKS5yZW1vdmUoKTtcblx0XHRcdC8vXG5cdFx0XHQvLyBcdFx0dmFyIGxhYmVscyA9IG1haW5DbGlwUGF0aC5zZWxlY3RBbGwoXCIucGFwZXJJdGVtTGFiZWxcIilcblx0XHRcdC8vIFx0XHRcdC5kYXRhKHllYXJEYXRhLnZhbHVlcyk7XG5cdFx0XHQvLyBcdFx0bGFiZWxzLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0Ly8gXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVySXRlbUxhYmVsXCIpXG5cdFx0XHQvLyBcdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpO1xuXHRcdFx0Ly8gXHRcdGxhYmVscy5leGl0KCkucmVtb3ZlKCk7XG5cdFx0XHQvL1xuXHRcdFx0Ly8gXHRcdG1hcmtzLmF0dHIoXCJjeFwiLCBiZWZvcmVUcmFuc2l0aW9uWClcblx0XHRcdC8vIFx0XHRcdFx0LmF0dHIoJ3InLCBmdW5jdGlvbihkKSB7XG5cdFx0XHQvLyBcdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IHJhZCArICgyICogZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3RvcikpO1xuXHRcdFx0Ly8gXHRcdFx0XHRcdFx0ZC5yYWRpdXMgPSByYWQgKyAoMiAqIGVmU2NhbGUoZC5laWdlbmZhY3Rvcl9zY29yZSkpO1xuXHRcdFx0Ly8gXHRcdFx0XHRcdFx0cmV0dXJuIGQucmFkaXVzO1xuXHRcdFx0Ly8gXHRcdFx0XHRcdH0pXG5cdFx0XHQvLyBcdFx0XHRcdC5hdHRyKFwiY3lcIiwgYmVmb3JlVHJhbnNpdGlvblkpXG5cdFx0XHQvLyBcdFx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0Ly8gXHRcdFx0XHQuYXR0cihcImN4XCIsIGFmdGVyVHJhbnNpdGlvblgpXG5cdFx0XHQvLyBcdFx0XHRcdC5hdHRyKFwiY3lcIiwgYWZ0ZXJUcmFuc2l0aW9uWSlcblx0XHRcdC8vIFx0XHRcdFx0LnN0eWxlKHN0eWxlc1Zpc2libGUpO1xuXHRcdFx0Ly8gXHRcdGxhYmVscy5hdHRyKFwieFwiLCBiZWZvcmVUcmFuc2l0aW9uWClcblx0XHRcdC8vIFx0XHRcdC50ZXh0KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC50aXRsZTt9KVxuXHRcdFx0Ly8gXHRcdFx0LmF0dHIoXCJ5XCIsIGJlZm9yZVRyYW5zaXRpb25ZKVxuXHRcdFx0Ly8gXHRcdFx0LnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpXG5cdFx0XHQvLyBcdFx0XHQuYXR0cihcInhcIiwgYWZ0ZXJUcmFuc2l0aW9uWClcblx0XHRcdC8vIFx0XHRcdC5hdHRyKFwieVwiLCBhZnRlclRyYW5zaXRpb25ZKTtcblx0XHRcdC8vIFx0eWVhckRhdGEuZXhwYW5kZWQgPSB0cnVlO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9XG5cdFx0XHQvL1xuXHRcdFx0Ly8gZnVuY3Rpb24gY29udHJhY3QoZCkge1xuXHRcdFx0Ly8gXHR2YXIgZHVyID0gNTAwO1xuXHRcdFx0Ly8gXHRpZiAoZC5leHBhbmRlZCkge1xuXHRcdFx0Ly8gXHRcdHZhciBtYXJrcyA9IG1haW5DbGlwUGF0aC5zZWxlY3RBbGwoXCIucGFwZXJJdGVtXCIpXG5cdFx0XHQvLyBcdFx0XHQuaW50ZXJydXB0KFwiY29udHJhY3RcIilcblx0XHRcdC8vIFx0XHRcdC50cmFuc2l0aW9uKFwiY29udHJhY3RcIikuZGVsYXkoMjAwMCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0Ly8gXHRcdFx0LmF0dHIoXCJjeFwiLCBiZWZvcmVUcmFuc2l0aW9uWClcblx0XHRcdC8vIFx0XHRcdC5hdHRyKFwiY3lcIiwgMClcblx0XHRcdC8vIFx0XHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKF8sIGkpIHtcblx0XHRcdC8vIFx0XHRcdFx0aWYgKGkgPT09IDApIGQuZXhwYW5kZWQgPSBmYWxzZTtcblx0XHRcdC8vIFx0XHRcdFx0fSlcblx0XHRcdC8vIFx0XHRcdC5yZW1vdmUoKTtcblx0XHRcdC8vIFx0XHR2YXIgbGFiZWxzID0gbWFpbkNsaXBQYXRoLnNlbGVjdEFsbChcIi5wYXBlckl0ZW1MYWJlbFwiKVxuXHRcdFx0Ly8gXHRcdFx0LmludGVycnVwdChcImNvbnRyYWN0XCIpXG5cdFx0XHQvLyBcdFx0XHQudHJhbnNpdGlvbihcImNvbnRyYWN0XCIpLmRlbGF5KDIwMDApLmR1cmF0aW9uKGR1cilcblx0XHRcdC8vIFx0XHRcdC5hdHRyKFwieFwiLCBiZWZvcmVUcmFuc2l0aW9uWClcblx0XHRcdC8vIFx0XHRcdC5hdHRyKFwieVwiLCAwKVxuXHRcdFx0Ly8gXHRcdFx0LnJlbW92ZSgpO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9XG5cblx0XHRcdGZ1bmN0aW9uIGxhYmVsc0NvbGxpc2lvbkRldGVjdCgpIHtcblx0XHRcdFx0Ly8gZGV0ZWN0IGlmIGxhYmVscyBnbyBvZmYgc2NyZWVuXG5cblx0XHRcdFx0Ly8gZnVuY3Rpb24gY2hlY2tTaW5nbGVMYWJlbChkKSB7XG5cdFx0XHRcdC8vIFx0dmFyIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coYm91bmRpbmdSZWN0LndpZHRoICsgJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdCk7XG5cdFx0XHRcdC8vIFx0aWYgKCQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQ8MCkge1xuXHRcdFx0XHQvLyBcdFx0ZDMuc2VsZWN0KHRoaXMpLnNlbGVjdChcIi5wYXBlckxhYmVsXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXHRcdFx0XHQvLyBcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIFx0XHRkMy5zZWxlY3QodGhpcykuc2VsZWN0KFwiLnBhcGVyTGFiZWxcIikuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpO1xuXHRcdFx0XHQvLyBcdH1cblx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRmdW5jdGlvbiBjaGVja1NpbmdsZUxhYmVsKGQpIHtcblx0XHRcdFx0XHRmdW5jdGlvbiB3cmFwSW5BbmNob3Ioc3RhYmxlX3VybCwgdGV4dCkge1xuXHRcdFx0XHRcdFx0Ly8gcmV0dXJuICc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cDovL2xhYnMuanN0b3Iub3JnJyArIHN0YWJsZV91cmwgKyAnXCI+JyArIHRleHQgKyAnPC9hPidcblx0XHRcdFx0XHRcdHJldHVybiAnPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIicgKyBzdGFibGVfdXJsICsgJ1wiPicgKyB0ZXh0ICsgJzwvYT4nXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vIHZhciBib3VuZGluZ1JlY3QgPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdHZhciB0aGlzTGFiZWwgPSBkMy5zZWxlY3QodGhpcykuc2VsZWN0KFwiLnBhcGVyTGFiZWxcIik7XG5cdFx0XHRcdFx0Ly8gdmFyIHdvcmRzID0gdGhpc0xhYmVsLnRleHQoKS5zcGxpdChcIiBcIik7XG5cdFx0XHRcdFx0Ly8gdGhpc0xhYmVsLnRleHQoZC50aXRsZSk7XG5cdFx0XHRcdFx0dGhpc0xhYmVsLmh0bWwod3JhcEluQW5jaG9yKGQudXJsLCBkLnRpdGxlKSk7XG5cdFx0XHRcdFx0dmFyIHdvcmRzID0gZC50aXRsZS5zcGxpdChcIiBcIik7XG5cdFx0XHRcdFx0dmFyIGdpdmVVcFRocmVzaG9sZCA9IDIwO1xuXHRcdFx0XHRcdHZhciBpID0gMDtcblx0XHRcdFx0XHR2YXIgdmlld0xlZnRFZGdlID0gJCggJyN0aW1lbGluZSBzdmcnICkucG9zaXRpb24oKS5sZWZ0ICsgbVszXTtcblx0XHRcdFx0XHR3aGlsZSAodHJ1ZSkge1xuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdFx0aWYgKGk+Z2l2ZVVwVGhyZXNob2xkKSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dmFyIGxlZnRQb3MgPSAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdFx0Ly8gaWYgKGxlZnRQb3MgPCAyMCkge1xuXHRcdFx0XHRcdFx0Ly8gaWYgKGxlZnRQb3MgPCBtWzNdKSB7XG5cdFx0XHRcdFx0XHRpZiAobGVmdFBvcyA8IHZpZXdMZWZ0RWRnZSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgbnVtV29yZHMgPSB3b3Jkcy5sZW5ndGg7XG5cdFx0XHRcdFx0XHRcdHdvcmRzID0gd29yZHMuc2xpY2UoMCwgbnVtV29yZHMtMik7XG5cdFx0XHRcdFx0XHRcdHZhciBzaG9ydGVuZWRUaXRsZSA9IHdvcmRzLmpvaW4oXCIgXCIpK1wiLi4uXCI7XG5cdFx0XHRcdFx0XHRcdC8vIHRoaXNMYWJlbC50ZXh0KHdvcmRzLmpvaW4oXCIgXCIpK1wiLi4uXCIpO1xuXHRcdFx0XHRcdFx0XHR0aGlzTGFiZWwuaHRtbCh3cmFwSW5BbmNob3IoZC51cmwsIHNob3J0ZW5lZFRpdGxlKSk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly8gdmFyIGxlZnRQb3MgPSAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdFx0Ly8gaWYgKGxlZnRQb3M8MCkge1xuXHRcdFx0XHRcdC8vIFx0ZDMuc2VsZWN0KHRoaXMpLnNlbGVjdChcIi5wYXBlckxhYmVsXCIpXG5cdFx0XHRcdFx0Ly8gXHRcdC50ZXh0KGQudGl0bGUuc2xpY2UoMCwgMTApKTtcblx0XHRcdFx0XHQvLyBcdGNoZWNrU2luZ2xlTGFiZWwoZCk7XG5cdFx0XHRcdFx0Ly8gfSBlbHNlIHtcblx0XHRcdFx0XHQvLyBcdGNvbnNvbGUubG9nKCdsZWF2aW5nIHJlY3Vyc2l2ZSBmdW5jdGlvbicpXG5cdFx0XHRcdFx0Ly8gfVxuXHRcdFx0XHRcdC8vIHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRkMy5zZWxlY3RBbGwoXCIucGFwZXJJdGVtLmV4cGFuZGVkXCIpXG5cdFx0XHRcdFx0LmVhY2goY2hlY2tTaW5nbGVMYWJlbCk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGZ1bmN0aW9uIGRlbW9Jbml0KCkge1xuXHRcdFx0XHRjaGFydC5jbGFzc2VkKFwiZGVtb0luUHJvZ3Jlc3NcIiwgdHJ1ZSk7XG5cdFx0XHRcdGNsZWFyQnJ1c2goKTtcblx0XHRcdFx0Y29udHJhY3QoKTtcblx0XHRcdFx0ZGlzYWJsZUludGVyYWN0aW9uKCk7XG5cdFx0XHRcdG1pbmkub24oXCJtb3VzZWRvd25cIiwgZGVtb1F1aXQpO1xuXHRcdFx0XHRmdW5jdGlvbiBkZW1vUXVpdCgpIHtcblx0XHRcdFx0XHRjaGFydC5jbGFzc2VkKFwiZGVtb0luUHJvZ3Jlc3NcIiwgZmFsc2UpO1xuXHRcdFx0XHRcdGN1cnNvckljb24udHJhbnNpdGlvbigwKS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR2YXIgdHJhbnNpdGlvblRpbWVzID0gW1xuXHRcdFx0XHRcdFx0NzUwLCAgLy8gMDogaW5pdGlhbCBkZWxheSBiZWZvcmUgYW55dGhpbmcgaGFwcGVuc1xuXHRcdFx0XHRcdFx0MTAwMCwgIC8vIDE6IHRpbWUgdG8gbW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBtaW5pIGFyZWFcblx0XHRcdFx0XHRcdDIwMDAsICAvLyAyOiB0aW1lIHRvIGRyYXcgdGhlIGluaXRpYWwgYnJ1c2hcblx0XHRcdFx0XHRcdDIwMCwgICAvLyAzOiBkZWxheSBhZnRlciBicnVzaFxuXHRcdFx0XHRcdFx0MjAwMCwgIC8vIDQ6IHRpbWUgdG8gbW92ZSB0aGUgY3Vyc29yIHRvIGEgbWFpbiBpdGVtXG5cdFx0XHRcdFx0XHQzMDAwLCAgLy8gNTogZGVsYXkgdG8gcmVtb3ZlIGFuZCBlbmQgdGhlIGRlbW9cblx0XHRcdFx0XHRdO1xuXHRcdFx0XHR2YXIgY3Vyc29ySWNvbiA9IGNoYXJ0LmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwiY3Vyc29ySWNvblwiKVxuXHRcdFx0XHRcdC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcblx0XHRcdFx0XHQuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxZW1cIilcblx0XHRcdFx0XHQudGV4dChcIlxcdWYyNDVcIilcblx0XHRcdFx0XHQvLyAuYXR0cihcInhcIiwgMTAwKVxuXHRcdFx0XHRcdC8vIC5hdHRyKFwieVwiLCAzMDApO1xuXHRcdFx0XHRcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDEwMCwzMDApXCIpO1xuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdyArIFwiLFwiICsgbWFpbkhlaWdodCArIFwiKVwiKTtcblx0XHRcdFx0Ly8gdmFyIGluaXREdXJhdGlvbiA9IDEwMDAsXG5cdFx0XHRcdC8vIFx0aW5pdERlbGF5ID0gMTAwMDtcblx0XHRcdFx0Ly8gY2hhbmdlRXh0ZW50KDE5NzAsIDIwMDAsIGluaXREdXJhdGlvbiwgXCJjdWJpYy1pbi1vdXRcIiwgaW5pdERlbGF5KTtcblx0XHRcdFx0Ly8gZDMudHJhbnNpdGlvbihcImluaXREZW1vVHJhbnNpdGlvblwiKS5kZWxheShpbml0RGVsYXkgKyBpbml0RHVyYXRpb24pXG5cdFx0XHRcdC8vIFx0LmVhY2goXCJlbmRcIiwgZGVtb0V4cGFuZCk7XG5cdFx0XHRcdHZhciBleHRlbnRTZWxlY3QgPSBtaW5pLnNlbGVjdChcIi5icnVzaFwiKS5zZWxlY3QoXCIuZXh0ZW50XCIpO1xuXHRcdFx0XHQvLyB2YXIgaW5pdEJydXNoUmFuZ2UgPSBbMTk3MCwgMjAwMF07XG5cdFx0XHRcdHZhciB5ZWFyUmFuZ2UgPSB0aW1lRW5kIC0gdGltZUJlZ2luO1xuXHRcdFx0XHRpZiAoeWVhclJhbmdlIDwgNikge1xuXHRcdFx0XHRcdHZhciBpbml0QnJ1c2hSYW5nZSA9IFt0aW1lQmVnaW4sIHRpbWVFbmRdO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhciBpbml0QnJ1c2hSYW5nZSA9IFt0aW1lQmVnaW4gKyBNYXRoLmZsb29yKHllYXJSYW5nZSouMyksIHRpbWVFbmQgLSBNYXRoLmZsb29yKHllYXJSYW5nZSouMildO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNoYW5nZUV4dGVudChpbml0QnJ1c2hSYW5nZVswXSwgaW5pdEJydXNoUmFuZ2VbMF0sIDApO1xuXHRcdFx0XHQvLyB2YXIgaW5pdEJydXNoUG9zaXRpb24gPSArZXh0ZW50U2VsZWN0LmF0dHIoXCJ4XCIpO1xuXHRcdFx0XHR2YXIgaW5pdEJydXNoUG9zaXRpb24gPSB4KGJydXNoLmV4dGVudCgpWzFdKSArIG1bM107XG5cblx0XHRcdFx0Ly8gc2VsZWN0IGEgeWVhckl0ZW0gdG8gZXhwYW5kIGZvciB0aGUgZGVtb1xuXHRcdFx0XHR2YXIgdmlzSXRlbXMgPSB5ZWFySXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyIDwgaW5pdEJydXNoUmFuZ2VbMV0gJiYgZC55ZWFyID4gaW5pdEJydXNoUmFuZ2VbMF07fSksXG5cdFx0XHRcdFx0bnVtVmlzSXRlbXMgPSB2aXNJdGVtcy5zaXplKCk7XG5cdFx0XHRcdGlmIChudW1WaXNJdGVtcyA9PT0gMCkge1xuXHRcdFx0XHRcdC8vIGlmIHRoZXJlIGFyZSBubyB2aXNpYmxlIGl0ZW1zIGluIHRoZSByYW5nZSwganVzdCBnaXZlIHVwXG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9IGVsc2UgaWYgKG51bVZpc0l0ZW1zID09PSAxKSB7XG5cdFx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgb25seSBvbmUgdmlzaWJsZSBpdGVtLCB1c2UgaXRcblx0XHRcdFx0XHR2YXIgc2VsSW5kZXggPSAwO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIGVsc2UsIHVzZSBhbiBpdGVtIGEgbGl0dGxlIHRvIHRoZSByaWdodCBvZiBjZW50ZXJcblx0XHRcdFx0XHR2YXIgc2VsSW5kZXggPSBNYXRoLmNlaWwobnVtVmlzSXRlbXMqLjU1KTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIGRlbW9ZZWFySXRlbSA9IHZpc0l0ZW1zLmZpbHRlcihmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBpID09PSBzZWxJbmRleDtcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmICghY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdFx0Ly8gcXVpdFxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblxuXHRcdFx0XHRjdXJzb3JJY29uLnRyYW5zaXRpb24oKS5kZWxheSh0cmFuc2l0aW9uVGltZXNbMF0pXG5cdFx0XHRcdFx0LmR1cmF0aW9uKHRyYW5zaXRpb25UaW1lc1sxXSlcblx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcblx0XHRcdFx0XHRcdFx0Ly8gY29uc3RydWN0VHJhbnNsYXRlKGluaXRCcnVzaFBvc2l0aW9uKzE1LCBtYWluSGVpZ2h0K21bMF0rKG1pbmlIZWlnaHQvMikpXG5cdFx0XHRcdFx0XHRcdGNvbnN0cnVjdFRyYW5zbGF0ZShpbml0QnJ1c2hQb3NpdGlvbiwgbWFpbkhlaWdodCttWzBdKyhtaW5pSGVpZ2h0LzIpKVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0LmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdFx0XHRcdGRlbW9EcmF3QnJ1c2goKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGRlbW9FbmQoMCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0ZnVuY3Rpb24gZGVtb0RyYXdCcnVzaCgpIHtcblx0XHRcdFx0XHRjaGFuZ2VFeHRlbnQoaW5pdEJydXNoUmFuZ2VbMF0sIGluaXRCcnVzaFJhbmdlWzFdLCB0cmFuc2l0aW9uVGltZXNbMl0pO1xuXHRcdFx0XHRcdHZhciBtaW5FeHRlbnRTY3JlZW4gPSArZXh0ZW50U2VsZWN0LmF0dHIoXCJ4XCIpO1xuXHRcdFx0XHRcdHZhciBtYXhFeHRlbnRTY3JlZW4gPSBtaW5FeHRlbnRTY3JlZW4gKyAoK2V4dGVudFNlbGVjdC5hdHRyKFwid2lkdGhcIikpO1xuXHRcdFx0XHRcdHgxLmRvbWFpbihicnVzaC5leHRlbnQoKSk7XG5cdFx0XHRcdFx0Y3Vyc29ySWNvbi50cmFuc2l0aW9uKClcblx0XHRcdFx0XHRcdC5kdXJhdGlvbih0cmFuc2l0aW9uVGltZXNbMl0pXG5cdFx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dmFyIHhQb3MgPSB4KGJydXNoLmV4dGVudCgpWzFdKSArIG1bM107XG5cdFx0XHRcdFx0XHRcdHJldHVybiBjb25zdHJ1Y3RUcmFuc2xhdGUoeFBvcywgbWFpbkhlaWdodCttWzBdKyhtaW5pSGVpZ2h0LzIpKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdFx0XHRcdGRlbW9FeHBhbmQoKTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGRlbW9FbmQoMCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGZ1bmN0aW9uIGRlbW9FeHBhbmQoKSB7XG5cdFx0XHRcdFx0Ly8gdmFyIGRlbW9UcmFuc2l0aW9uVGltZSA9IDIwMDA7XG5cdFx0XHRcdFx0Ly8gdmFyIGRlbW9EZWxheVRvUmVtb3ZlID0gMjAwMDtcblx0XHRcdFx0XHQvLyB2YXIgY3Vyc29ySWNvbiA9IG1haW5DbGlwUGF0aC5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHRcdFx0Ly8gXHQuYXR0cihcImNsYXNzXCIsIFwiY3Vyc29ySWNvblwiKVxuXHRcdFx0XHRcdC8vIFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHRcdC8vIFx0LnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMWVtXCIpXG5cdFx0XHRcdFx0Ly8gXHQudGV4dChcIlxcdWYyNDVcIilcblx0XHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwieFwiLCAxMDApXG5cdFx0XHRcdFx0Ly8gXHQvLyAuYXR0cihcInlcIiwgMzAwKTtcblx0XHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDEwMCwzMDApXCIpO1xuXHRcdFx0XHRcdC8vIFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB3ICsgXCIsXCIgKyBtYWluSGVpZ2h0ICsgXCIpXCIpO1xuXG5cdFx0XHRcdFx0dmFyIGRlbW9ZZWFyTWFyayA9IGRlbW9ZZWFySXRlbS5zZWxlY3QoXCIueWVhck1hcmtcIik7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGVtb1llYXJJdGVtKTtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkZW1vWWVhck1hcmspO1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGRlbW9ZZWFyTWFyay5hdHRyKFwiclwiKSk7XG5cdFx0XHRcdFx0dmFyIHRyYW5zbGF0ZVN0ciA9IGRlbW9ZZWFySXRlbS5hdHRyKFwidHJhbnNmb3JtXCIpO1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKHRyYW5zbGF0ZVN0cik7XG5cdFx0XHRcdFx0dmFyIHRyYW5zbGF0ZUNvb3JkID0gZGVjb25zdHJ1Y3RUcmFuc2xhdGUodHJhbnNsYXRlU3RyKTtcblx0XHRcdFx0XHR0cmFuc2xhdGVDb29yZC54ID0gdHJhbnNsYXRlQ29vcmQueCArIG1bM107XG5cdFx0XHRcdFx0dHJhbnNsYXRlQ29vcmQueSA9IHRyYW5zbGF0ZUNvb3JkLnkgKyBtWzBdICsgKCtkZW1vWWVhck1hcmsuYXR0cihcInJcIikpO1xuXHRcdFx0XHRcdHZhciB0cmFuc2xhdGUgPSBjb25zdHJ1Y3RUcmFuc2xhdGUodHJhbnNsYXRlQ29vcmQueCwgdHJhbnNsYXRlQ29vcmQueSk7XG5cdFx0XHRcdFx0Ly8gbW92ZSB0aGUgY3Vyc29yIHRvIGEgeWVhciwgdGhlbiBtYW51YWxseSBleHBhbmQgdGhlIHllYXJcblx0XHRcdFx0XHRjdXJzb3JJY29uLnRyYW5zaXRpb24oXCJkZW1vRXhwYW5kXCIpLmRlbGF5KHRyYW5zaXRpb25UaW1lc1szXSlcblx0XHRcdFx0XHRcdC5kdXJhdGlvbih0cmFuc2l0aW9uVGltZXNbNF0pXG5cdFx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCB0cmFuc2xhdGUpXG5cdFx0XHRcdFx0XHQuZWFjaChcImVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGNoYXJ0LmNsYXNzZWQoXCJkZW1vSW5Qcm9ncmVzc1wiKSkge1xuXHRcdFx0XHRcdFx0XHRcdHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkZCkge3JldHVybiBkZC55ZWFyPT1kZW1vWWVhckl0ZW1bMF1bMF0uX19kYXRhX18ueWVhcn0pO1xuXHRcdFx0XHRcdFx0XHRcdGV4cGFuZChzZWwpO1xuXHRcdFx0XHRcdFx0XHRcdGRlbW9FbmQodHJhbnNpdGlvblRpbWVzWzVdKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRkZW1vRW5kKDApO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvLyBjdXJzb3JJY29uLnRyYW5zaXRpb24oXCJkZW1vRW5kXCIpLmRlbGF5KGRlbW9UcmFuc2l0aW9uVGltZSlcblx0XHRcdFx0XHQvLyBcdC5kdXJhdGlvbihkZW1vRGVsYXlUb1JlbW92ZSlcblx0XHRcdFx0XHQvLyBcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdC8vIFx0XHRjdXJzb3JJY29uLnJlbW92ZSgpO1xuXHRcdFx0XHRcdC8vIFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHRcdC8vIFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmdW5jdGlvbiBkZW1vRW5kKGRlbGF5KSB7XG5cdFx0XHRcdFx0Y3Vyc29ySWNvbi50cmFuc2l0aW9uKFwiZGVtb0VuZFwiKVxuXHRcdFx0XHRcdFx0LmRlbGF5KGRlbGF5KVxuXHRcdFx0XHRcdFx0LmR1cmF0aW9uKDApXG5cdFx0XHRcdFx0XHQucmVtb3ZlKClcblx0XHRcdFx0XHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHRcdFx0XHRlbmFibGVJbnRlcmFjdGlvbigpO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXG5cdFx0XHRmdW5jdGlvbiB0ZXN0UGxhY2VDdXJzb3IoKSB7XG5cdFx0XHRcdHZhciBleHRlbnRTZWxlY3QgPSBtaW5pLnNlbGVjdChcIi5icnVzaFwiKS5zZWxlY3QoXCIuZXh0ZW50XCIpO1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhleHRlbnRTZWxlY3QpO1xuXHRcdFx0XHR2YXIgbWluRXh0ZW50U2NyZWVuID0gK2V4dGVudFNlbGVjdC5hdHRyKFwieFwiKTtcblx0XHRcdFx0dmFyIGN1cnNvckljb24gPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJjdXJzb3JJY29uXCIpXG5cdFx0XHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjFlbVwiKVxuXHRcdFx0XHRcdC50ZXh0KFwiXFx1ZjI0NVwiKVxuXHRcdFx0XHRcdC8vIC5hdHRyKFwieFwiLCAxMDApXG5cdFx0XHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIDMwMCk7XG5cdFx0XHRcdFx0Ly8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTAwLDMwMClcIik7XG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtaW5FeHRlbnRTY3JlZW4gKyBcIixcIiArIChtYWluSGVpZ2h0LTIwKSArIFwiKVwiKTtcblx0XHRcdFx0XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIHRlc3RDaGFuZ2VIZWlnaHQoKSB7XG5cdFx0XHRcdC8vIGNoYW5nZUV4dGVudChNYXRoLnJvdW5kKG1pbkV4dGVudCsxKSwgTWF0aC5yb3VuZChtYXhFeHRlbnQrMSksIDI1MCwgXCJsaW5lYXJcIik7XG5cdFx0XHRcdHZhciBjaGFydEhlaWdodCA9ICtjaGFydC5hdHRyKFwiaGVpZ2h0XCIpO1xuXHRcdFx0XHR2YXIgY3Vyck1haW5IZWlnaHQgPSArbWFpbi5hdHRyKFwiaGVpZ2h0XCIpO1xuXHRcdFx0XHRjaGFydC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkuYXR0cihcImhlaWdodFwiLCBjaGFydEhlaWdodCsxMDApO1xuXHRcdFx0XHRtYWluLnRyYW5zaXRpb24oKS5kdXJhdGlvbigxMDAwKS5hdHRyKFwiaGVpZ2h0XCIsIGN1cnJNYWluSGVpZ2h0KzEwMCk7XG5cdFx0XHRcdG1pbmkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyAoY3Vyck1haW5IZWlnaHQrMTAwICsgbVswXSkgKyBcIilcIik7XG5cdFx0XHRcdGQzLnNlbGVjdChcIiNjbGlwIHJlY3RcIikuYXR0cihcImhlaWdodFwiLCBjdXJyTWFpbkhlaWdodCsxMDApO1xuXHRcdFx0XHRkaXNwbGF5KCk7XG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGQzLnNlbGVjdChcIiNjbGlwXCIpLmF0dHIoXCJoZWlnaHRcIikpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyB2YXIgdGVzdEJ1dHRvbiA9IGQzLnNlbGVjdChcImJvZHlcIikuYXBwZW5kKFwiYnV0dG9uXCIpXG5cdFx0XHQvLyBcdFx0XHRcdFx0LmF0dHIoXCJpZFwiLCBcInRlc3RCdXR0b25cIilcblx0XHRcdC8vIFx0XHRcdFx0XHQuaHRtbChcInRlc3RCdXR0b25cIilcblx0XHRcdC8vIFx0XHRcdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdC8vIFx0XHRcdFx0XHRcdC8vIG1pbmltaXplVGltZWxpbmUoKTtcblx0XHRcdC8vIFx0XHRcdFx0XHRcdGRlbW9Jbml0KCk7XG5cdFx0XHQvLyBcdFx0XHRcdFx0fSk7XG5cdFx0XHRkMy5zZWxlY3QoXCIuY2xpY2tGb3JEZW1vXCIpXG5cdFx0XHRcdC5vbihcImNsaWNrXCIsIGRlbW9Jbml0KTtcblxuXHRcdFx0ZnVuY3Rpb24gZGlzYWJsZUludGVyYWN0aW9uKCkge1xuXHRcdFx0XHRkMy5zZWxlY3QoXCIjdGltZWxpbmUgc3ZnXCIpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRmdW5jdGlvbiBlbmFibGVJbnRlcmFjdGlvbigpIHtcblx0XHRcdFx0ZDMuc2VsZWN0KFwiI3RpbWVsaW5lIHN2Z1wiKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHQkKCBkb2N1bWVudCApLm9uKFwidGltZWxpbmVWaXM6Y29udHJhY3RcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGNvbnRyYWN0KCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0JCggZG9jdW1lbnQgKS5vbihcInRpbWVsaW5lVmlzOmRpc3BsYXlcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGRpc3BsYXkoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQkKCBkb2N1bWVudCApLm9uKFwidGltZWxpbmVWaXM6Y2xlYXJCcnVzaFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Y2xlYXJCcnVzaCgpO1xuXHRcdFx0fSk7XG5cblx0XHR9KTtcblx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvLyB1cGRhdGVEYXRhKCkge1xuXHQvLyBcdC8vIHVzZSBEMyB1cGRhdGUgcGF0dGVybiB3aXRoIGRhdGFcbiAgICAvL1xuXHQvLyBcdHZhciBncmFwaCA9IHRoaXMuX2RhdGE7XG5cdC8vIFx0Z3JhcGgubm9kZXMuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdC8vIFx0XHRkLmlkID0gZC5pZC50b1N0cmluZygpO1xuXHQvLyBcdH0pXG5cdC8vIFx0Z3JhcGgubGlua3MuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdC8vIFx0XHRkLmlkID0gZ2V0TGlua0lkKGQsIGdyYXBoLmRpcmVjdGVkKTtcblx0Ly8gXHR9KTtcblx0Ly8gXHR0aGlzLnNpbXVsYXRpb25cblx0Ly8gXHRcdC5ub2RlcyhncmFwaC5ub2Rlcylcblx0Ly8gXHRcdC5vbihcInRpY2tcIiwgdGlja2VkKTtcbiAgICAvL1xuXHQvLyBcdHNpbXVsYXRpb24uZm9yY2UoXCJsaW5rXCIpXG5cdC8vIFx0XHQubGlua3MoZ3JhcGgubGlua3MpO1xuXHQvLyBcdGNvbnNvbGUubG9nKGdyYXBoKTtcblx0Ly8gXHRzaW11bGF0aW9uLnN0b3AoKTtcblx0Ly8gXHRub2RlID0gbm9kZS5kYXRhKGdyYXBoLm5vZGVzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkOyB9KTtcblx0Ly8gXHR2YXIgbm9kZUV4aXQgPSBub2RlLmV4aXQoKTtcblx0Ly8gXHQvLyBub2RlRXhpdC5zZWxlY3RBbGwoXCJjaXJjbGVcIikuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XG5cdC8vIFx0dmFyIHQgPSBkMy50cmFuc2l0aW9uKCd1cGRhdGVEYXRhJykuZHVyYXRpb24oNTAwMCk7XG5cdC8vIFx0bm9kZUV4aXQuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLnN0eWxlKFwic3Ryb2tlXCIsIFwicmVkXCIpLnRyYW5zaXRpb24odCkuYXR0cihcInJcIiwgMCk7XG5cdC8vIFx0bm9kZSA9IGVudGVyTm9kZXMobm9kZSwgdCk7XG5cdC8vIFx0Ly8gbm9kZSA9IG5vZGUuY2FsbChlbnRlck5vZGVzLCB0KTtcbiAgICAvL1xuICAgIC8vXG4gICAgLy9cblx0Ly8gXHRsaW5rID0gbGlua1xuXHQvLyBcdFx0LmRhdGEoZ3JhcGgubGlua3MsIGZ1bmN0aW9uKGQpIHtcblx0Ly8gXHRcdFx0Ly8gZC5pZCA9IGdldExpbmtJZChkKTtcblx0Ly8gXHRcdFx0cmV0dXJuIGQuaWQ7XG5cdC8vIFx0XHR9KTtcblx0Ly8gXHR2YXIgbGlua0V4aXQgPSBsaW5rLmV4aXQoKTtcblx0Ly8gXHRsaW5rRXhpdC5zdHlsZShcInN0cm9rZVwiLCBcInJlZFwiKS50cmFuc2l0aW9uKHQpLnN0eWxlKFwib3BhY2l0eVwiLCAwKS5yZW1vdmUoKTtcblx0Ly8gXHQvLyBsaW5rRXhpdC5yZW1vdmUoKTtcblx0Ly8gXHRsaW5rID0gZW50ZXJMaW5rcyhsaW5rLCB0KTtcblx0Ly8gXHRzaW11bGF0aW9uLm9uKFwidGlja1wiKS5jYWxsKCk7XG4gICAgLy9cbiAgICAvL1xuXHQvLyBcdHQuZW5kKCkudGhlbihmdW5jdGlvbihkKSB7XG5cdC8vIFx0XHRub2RlRXhpdC5yZW1vdmUoKTtcblx0Ly8gXHRcdC8vIHNpbXVsYXRpb24uYWxwaGEoMSkucmVzdGFydCgpO1xuXHQvLyBcdFx0Ly8gc2ltdWxhdGlvblxuXHQvLyBcdFx0XHQvLyAuYWxwaGFEZWNheSguMDAwNSlcblx0Ly8gXHRcdFx0Ly8gLnZlbG9jaXR5RGVjYXkoMC45KVxuXHQvLyBcdFx0XHQvLyAuYWxwaGEoLjEpXG5cdC8vIFx0XHRcdC8vIC5yZXN0YXJ0KCk7XG5cdC8vIFx0fSk7XG5cdC8vIFx0XG5cdC8vIFx0Ly8gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0Ly8gXHQvLyB9LCA0MDAwKTtcblx0Ly8gfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUaW1lbGluZVZpcztcbiIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fMl9fOyIsIm1vZHVsZS5leHBvcnRzID0gX19XRUJQQUNLX0VYVEVSTkFMX01PRFVMRV9fM19fOyJdLCJzb3VyY2VSb290IjoiIn0=