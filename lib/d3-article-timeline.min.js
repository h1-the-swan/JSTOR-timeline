!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("d3-article-timeline",[],e):"object"==typeof exports?exports["d3-article-timeline"]=e():t["d3-article-timeline"]=e()}("undefined"!=typeof self?self:this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(r,a,function(e){return t[e]}.bind(null,a));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"timelineVis",{enumerable:!0,get:function(){return a.default}});var r,a=(r=n(1))&&r.__esModule?r:{default:r}},function(t,e){var n=n||{};n.config={width:960,height:350,parseData:function(t){return t.forEach((function(t){t.authors=t.authors,t.eigenfactor=t.eigenfactor_score,t.venue=t.journal,t.year=t.year,t.url="http://labs.jstor.org"+t.stable_url})),t}},n.timelineVis=function(){function t(t,e){return"translate("+t+","+e+")"}var e=d3.textwrap().method("tspans"),r=n.config,a=r.width,i=r.height;d3.json(json_endpoint,(function(n,o){d3.select(window).on("resize",yt),(o=r.parseData(o)).forEach((function(t){t.lane=0,null===t.eigenfactor&&(t.eigenfactor=0)}));var l=getParameterByName("m");"icon"!=l&&"circle"!=l&&(l="circle");var s=d3.nest().key((function(t){return t.year})).sortValues((function(t,e){return d3.ascending(t.title,e.title)})).entries(o);s.forEach((function(t){t.firstTitle=t.values[0].id,t.sum_eigenfactor=d3.sum(t.values,(function(t){return t.eigenfactor})),t.lane=0,t.year=+t.key}));var c=d3.max(s,(function(t){return t.values.length})),d=["Climate change"],u=d.length,f=+d3.min(s,(function(t){return t.year}))-1,p=+d3.max(s,(function(t){return t.year}))+1,y=[20,15,15,150];a=a-y[1]-y[3];var m,h,x=12*u+30,g=(i=i-y[0]-y[2])-x-50,v={opacity:.2},w={opacity:1},b=d3.scale.linear().domain([f,p]).range([0,a]),k=d3.scale.linear().range([0,a]),I=d3.scale.linear().domain([0,u]).range([0,g]),A=d3.scale.linear().domain([0,u]).range([0,x]),M=d3.extent(o,(function(t){return t.eigenfactor})),z=d3.scale.linear().domain(M).range([5,10]),_=d3.scale.linear().domain(M).range([8,18]),j=d3.scale.linear().domain(d3.extent(s,(function(t){return t.sum_eigenfactor}))).range([8,18]),P=a+y[1]+y[3],O=i+y[0]+y[2],L=d3.select("#timeline").append("svg").attr("data-maximizedHeight",O).attr("data-currHeight",O).attr("viewBox","0 0 "+P+" "+O).attr("preserveAspectRatio","xMidYMid meet").attr("class","chart");L.append("defs").append("clipPath").attr("id","clip").append("rect").attr("width",a).attr("height",g);for(var T=L.append("g").attr("transform","translate(0,"+y[0]+")").attr("width",P).attr("height",g).attr("class","mainContainer"),E=T.append("g").attr("transform","translate("+y[3]+",0)").attr("width",a).attr("height",g).attr("class","main"),F=L.append("g").attr("transform","translate(0,"+(g+y[0])+")").attr("width",P).attr("height",g).attr("class","miniContainer"),V=F.append("g").attr("transform","translate("+y[3]+",0)").attr("width",a).attr("height",x).attr("class","mini"),B=E.append("g"),S=0,D=d.length;S<D;S++)B.append("line").attr("x1",y[1]).attr("y1",(function(){return A(S)})).attr("x2",a).attr("y2",(function(){return A(S)})).attr("class","laneLine").attr("stroke","lightgray");var C=T.append("g").attr("transform","translate(0,"+y[0]+")"),Y=C.append("text").text("Number of influential articles in the year").style("font-size","14px").attr("class","laneText").attr("id","mainLabel");e.bounds({height:g,width:.9*y[3]}),Y.call(e);var H=$("#mainLabel").height(),N=C.append("text").attr("transform","translate(0,"+H+")").text("Size of circles indicates level of influence").style("font-size","11px").attr("class","laneText").attr("id","mainLabelSub");e.bounds({height:g-H,width:.9*y[3]}),N.call(e);var R=V.append("g");for(S=0,D=d.length;S<D;S++)R.append("line").attr("x1",y[1]).attr("y1",(function(){return A(S)})).attr("x2",a).attr("y2",(function(){return A(S)})).attr("class","laneLine").attr("stroke","lightgray");var X=F.append("g").attr("transform","translate(0,"+y[0]+")").append("text").text("Select date range to focus on:").style("font-size","14px").attr("class","laneText");e.bounds({height:x,width:.9*y[3]}),X.call(e);var q=d3.svg.axis().orient("bottom").scale(b).tickFormat(d3.format("d"));V.append("g").attr("class","xaxis").attr("transform","translate(0,"+x+")").call(q);var G=d3.svg.axis().orient("top").scale(k).tickFormat(d3.format("d")),J=E.append("g").attr("class","xaxis").call(G),K=E.append("g").attr("class","mainClipPath").attr("clip-path","url(#clip)"),Q=V.append("g").selectAll(".miniItem").data(o).enter().append("g").attr("class","miniItem").attr("transform",(function(t){return t.x=b(t.year),t.y=x/2,t.radius=1+z(t.eigenfactor),"translate("+t.x+","+t.y+")"}));var U=Math.max(1/c,.3);Q.append("circle").attr("class","miniMark").attr("r",(function(t){return t.radius})).style("opacity",U);switch(l){case"circle":var W=(tt=K.append("g").selectAll(".yearItem").data(s).enter().append("g").attr("class","yearItem").attr("transform",(function(t){return t.x=0,t.y=0,t.radius=j(t.sum_eigenfactor),"translate("+t.x+","+t.y+")"}))).append("circle").attr("class","yearMark").on("mouseover",(function(t){vt(),gt(et.filter((function(e){return e.year===t.year})),d3.select(this))})).style(w);tt.append("text").attr("text-anchor","middle").attr("y",".3em").attr("class","numIndicator").text((function(t){return t.values.length}));var Z=(et=tt.append("g").selectAll(".paperItem").data((function(t){return t.values})).enter().append("g").attr("class","paperItem").attr("data-year",(function(t){return t.year})).attr("transform",(function(t,e){return t.x=0,t.y=0,t.idx=e,t.radius=_(t.eigenfactor),"translate("+t.x+","+t.y+")"})).attr("title",(function(t){var e=$("<span>");return e.append($('<p class="tooltip title">').text(t.title)),e.append($('<p class="tooltip authors">').text(t.authors.join(", "))),e.append($('<p class="tooltip journal">').text(t.venue)),e.append($('<p class="tooltip year">').text(t.year)),e.html()})).on("mouseover",(function(t){})).on("click",(function(t){t.url}))).append("circle").attr("r",0).attr("class","paperMark");break;case"icon":var tt,et=(tt=K.append("g").selectAll(".yearItem").data(s).enter().append("g").attr("class","yearItem").attr("transform",(function(t){return t.x=0,t.y=0,t.radius=j(t.sum_eigenfactor),"translate("+t.x+","+t.y+")"}))).append("g").selectAll(".paperItem").data((function(t){return t.values})).enter().append("g").attr("class","paperItem").attr("transform",(function(t,e){return t.x=0,t.y=0,t.idx=e,t.radius=_(t.eigenfactor),"translate("+t.x+","+t.y+")"})),nt=(Z=et.append("text").attr("class","paperMark").style("font-family","FontAwesome").text("").attr("text-anchor","middle").on("mouseover",(function(t){vt(),gt(et.filter((function(e){return e.year===t.year})))}))).node().getBBox();et.insert("rect",".paperMark").attr("x",nt.x).attr("y",nt.y).attr("width",nt.width).attr("height",nt.height).style("fill","white")}et.append("text").attr("text-anchor","end").attr("class","paperLabel").style("display","none").attr("transform","translate(-15,0)").html((function(t){return'<a target="_blank" href="'+t.url+'">'+t.title+"</a>"}));var rt=d3.svg.brush().x(b).on("brush",yt);V.append("g").attr("class","x brush").call(rt).selectAll("rect").attr("y",1).attr("height",x-1);var at=[];for(S=0;S<2;S++)at.push(L.append("line").attr("class","extentLine"));function it(t,e){rt.empty()?at.forEach((function(t){t.style("display","none")})):(at.forEach((function(t){t.style("display","")})),at[0].attr("x1",y[3]).attr("y1",y[0]).attr("x2",t+y[3]).attr("y2",g+y[0]),at[1].attr("x1",a+y[3]).attr("y1",y[0]).attr("x2",e+y[3]).attr("y2",g+y[0]))}function ot(t){if(rt.empty())ft(m=(p+f)/2,h=(p+f)/2+1,0);else switch(t){case"left":ft(Math.round(m-1),Math.round(h-1),150,"linear");break;case"right":ft(Math.round(m+1),Math.round(h+1),150,"linear");break;case"zoomIn":ft(Math.round(m+1),Math.round(h-1),150,"linear");break;case"zoomOut":ft(Math.round(m-1),Math.round(h+1),150,"linear")}}var lt=K.append("g").attr("class","scrollItems").attr("transform","translate(0,"+.7*g+")");lt.append("text").attr("class","leftArrow").style("font-family","FontAwesome").text("").attr("x",0).on("click",(function(){ot("left")})),lt.append("text").attr("class","rightArrow").style("font-family","FontAwesome").text("").attr("text-anchor","end").attr("x",a).on("click",(function(){ot("right")}));var st=lt.append("g").attr("class","zoomItems").attr("transform","translate("+(a-y[1]-10)+",30)").style("opacity",.01).on("mouseover",(function(){$(".zoomItems").stop().fadeTo(400,1)})).on("mouseout",(function(){$(".zoomItems").stop().fadeTo(400,.01)}));st.append("text").attr("class","zoomIn").style("font-family","FontAwesome").text("").on("click",(function(){ot("zoomIn")})),st.append("text").attr("class","zoomOut").style("font-family","FontAwesome").text("").attr("y",20).on("click",(function(){ot("zoomOut")}));var ct=V.append("text").attr("class","clearBrushIcon").style("font-family","FontAwesome").style("font-size","1em").attr("text-anchor","end").attr("title","Clear the timeline in order to draw a new region").text("");L.on("wheel.zoom",(function(){d3.event.wheelDeltaY>0?ot("zoomIn"):d3.event.wheelDeltaY<0&&ot("zoomOut"),d3.event.wheelDeltaX>0?ot("left"):d3.event.wheelDeltaX<0&&ot("right")}));var dt=(p+f)/2,ut=[dt,dt];function ft(t,e,n,r,a){void 0===n&&(n=1e3),void 0===r&&(r="cubic-in-out"),void 0===a&&(a=0),t<f&&(t=f),e>p&&(e=p),rt.event(V.select(".brush").transition().delay(a).duration(n).ease(r).call(rt.extent([t,e])))}V.select(".brush").call(rt.extent(ut)),yt(),$(document).trigger("timelineVis:initComplete");d3.max(o,(function(t){return t.eigenfactor}));function pt(){var t=(rt.extent()[1]+rt.extent()[0])/2;ft(t,t,0)}function yt(){var e=V.select(".brush").select(".extent"),n=+e.attr("x"),r=n+ +e.attr("width");m=b.invert(n),h=b.invert(r),m<=f?d3.select(".leftArrow").style("display","none"):d3.select(".leftArrow").style("display",""),h>=p?d3.select(".rightArrow").style("display","none"):d3.select(".rightArrow").style("display",""),h-m<=2?d3.select(".zoomIn").classed("hidden",!0):d3.select(".zoomIn").classed("hidden",!1),rt.empty()?(ct.style("display","none"),d3.select(".leftArrow").style("display","none"),d3.select(".rightArrow").style("display","none")):(ct.style("display","").style("opacity",0).attr("transform",t(r-2,15)).transition().duration(300).style("opacity",.4),ct.on("click",(function(){pt(),vt()}))),rt.empty()?(mt(f,p),it()):(mt(m,h),it(n,r))}function mt(t,e){switch(l){case"circle":var n=tt.filter((function(n){return n.year<e&&n.year>t})),r=tt.filter((function(n){return n.year>=e||n.year<=t}));n.style("display",""),r.style("display","none"),k.domain([t,e]),Q.style(w),Q.filter((function(e){console.log(t);var r=!1;return n.forEach((function(t){e.id==t.firstTitle&&(r=!0)})),r})).style(w),n.attr("transform",(function(t){return t.x=k(t.year),t.y=I(t.lane)+8,"translate("+t.x+","+t.y+")"})),W.attr("r",(function(t){return t.radius}));break;case"icon":n=tt.filter((function(n){return n.year<e&&n.year>t})),r=tt.filter((function(n){return n.year>=e||n.year<=t}));n.style("display",""),r.style("display","none"),k.domain([t,e]),Q.style(v),Q.filter((function(t){var e=!1;return n.forEach((function(n){t.id==n.firstTitle&&(e=!0)})),e})).style(w),n.attr("transform",(function(t){return t.x=k(t.year),t.y=I(t.lane)+20,"translate("+t.x+","+t.y+")"})),Z.attr("transform",(function(t){return"translate("+t.idx/2+","+3*t.idx+")"})).style("fill","black").style("opacity",1).style("font-size","1.5em"),et.each((function(t){var e=d3.select(this),n=e.select(".paperMark"),r=n.node().getBBox();e.select("rect").attr("x",r.x).attr("y",r.y).attr("width",r.width).attr("height",r.height).attr("transform",n.attr("transform")).style("fill","white")}))}J.call(G),d3.selectAll(".paperItem.expanded").each((function(t){function e(t,e){return'<a target="_blank" href="'+t+'">'+e+"</a>"}var n=d3.select(this).select(".paperLabel");n.html(e(t.url,t.title));for(var r=t.title.split(" "),a=0,i=$("#timeline svg").position().left+y[3];!(++a>20)&&$(this).position().left<i;){var o=r.length,l=(r=r.slice(0,o-2)).join(" ")+"...";n.html(e(t.url,l))}}))}var ht=function(t,e){return e*e*3},xt=function(t,e){return 16.8*e+24};function gt(t,e){var n=t.attr("data-year"),r=tt.filter((function(t){return t.year==n})),a={"pointer-events":"auto",cursor:"pointer"},i=d3.svg.line().x((function(t){return t[0]})).y((function(t){return t[1]})),o=[];o.push([0,0]),t.style({"pointer-events":"none",cursor:"default"}).transition().duration(500).attr("transform",(function(t,e){return o.push([ht(0,e),xt(0,e)]),"translate("+ht(0,e)+","+xt(0,e)+")"})).each("start",(function(){d3.select(this).classed("expanded",!0)})).each("end",(function(){d3.select(this).style(a)})),t.selectAll(".paperMark").transition().duration(500).styleTween("font-size",(function(t){return d3.interpolate(this.style.getPropertyValue("font-size"),t.radius/10+"em")})).attr("r",(function(t){return t.radius})),t.selectAll(".paperLabel").style("display","").style("opacity",0).transition().delay((function(t){return 250+75*t.idx})).duration(500).style("opacity",1),d3.transition().duration(500).each("end",(function(){r.append("path").datum(o).attr("class","joinLine").attr("d",i),yt()}))}function vt(){d3.selectAll(".joinLine").remove();var t=d3.selectAll(".expanded");t.transition().duration(500).attr("transform","translate(0,0)").each("end",(function(){d3.select(this).classed("expanded",!1).style("pointer-events","")})),t.selectAll(".paperMark").transition().duration(750).styleTween("font-size",(function(t){return d3.interpolate(this.style.getPropertyValue("font-size"),"1.5em")})).attr("r",0),t.selectAll(".paperLabel").style("display","none")}d3.select(".clickForDemo").on("click",(function(){L.classed("demoInProgress",!0),pt(),vt(),d3.select("#timeline svg").style("pointer-events","none"),V.on("mousedown",(function(){L.classed("demoInProgress",!1),n.transition(0).remove()}));var e=[750,1e3,2e3,200,2e3,3e3],n=L.append("text").attr("class","cursorIcon").style("font-family","FontAwesome").style("font-size","1em").text("").attr("transform","translate("+a+","+g+")"),r=V.select(".brush").select(".extent"),i=p-f;if(i<6)var o=[f,p];else o=[f+Math.floor(.3*i),p-Math.floor(.2*i)];ft(o[0],o[0],0);var l=b(rt.extent()[1])+y[3],s=tt.filter((function(t){return t.year<o[1]&&t.year>o[0]})),c=s.size();if(0!==c){if(1===c)var d=0;else d=Math.ceil(.55*c);var u=s.filter((function(t,e){return e===d}));L.classed("demoInProgress")&&n.transition().delay(e[0]).duration(e[1]).attr("transform",t(l,g+y[0]+x/2)).each("end",(function(){L.classed("demoInProgress")?function(){ft(o[0],o[1],e[2]);r.attr("x"),r.attr("width");k.domain(rt.extent()),n.transition().duration(e[2]).attr("transform",(function(){return t(b(rt.extent()[1])+y[3],g+y[0]+x/2)})).each("end",(function(){L.classed("demoInProgress")?function(){var r=u.select(".yearMark"),a=function(t){t=t.replace("(","").replace(")","");var e=new RegExp(/translate([\d\.]+),([\d\.]+)/).exec(t);return{x:+e[1],y:+e[2]}}(u.attr("transform"));a.x=a.x+y[3],a.y=a.y+y[0]+ +r.attr("r");var i=t(a.x,a.y);n.transition("demoExpand").delay(e[3]).duration(e[4]).attr("transform",i).each("end",(function(){L.classed("demoInProgress")?(gt(et.filter((function(t){return t.year==u[0][0].__data__.year}))),m(e[5])):m(0)}))}():m(0)}))}():m(0)}))}function m(t){n.transition("demoEnd").delay(t).duration(0).remove().each("end",(function(){vt(),d3.select("#timeline svg").style("pointer-events",null)}))}})),$(document).on("timelineVis:contract",(function(){vt()})),$(document).on("timelineVis:display",(function(){yt()})),$(document).on("timelineVis:clearBrush",(function(){pt()}))}))}()}])}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kMy1hcnRpY2xlLXRpbWVsaW5lL3dlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbiIsIndlYnBhY2s6Ly9kMy1hcnRpY2xlLXRpbWVsaW5lL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2QzLWFydGljbGUtdGltZWxpbmUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vZDMtYXJ0aWNsZS10aW1lbGluZS8uL3NyYy90aW1lbGluZVZpc19NYWluLmpzIl0sIm5hbWVzIjpbInJvb3QiLCJmYWN0b3J5IiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsInNlbGYiLCJ0aGlzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsInRpbWVsaW5lVmlzIiwiY29uZmlnIiwid2lkdGgiLCJoZWlnaHQiLCJwYXJzZURhdGEiLCJkYXRhIiwiZm9yRWFjaCIsImF1dGhvcnMiLCJlaWdlbmZhY3RvciIsInZlbnVlIiwieWVhciIsInVybCIsImNvbnN0cnVjdFRyYW5zbGF0ZSIsIngiLCJ5Iiwid3JhcCIsImQzIiwidGV4dHdyYXAiLCJtZXRob2QiLCJ3IiwiaCIsImpzb24iLCJqc29uX2VuZHBvaW50IiwiZXJyb3IiLCJkYXRhX3RvdGFsIiwic2VsZWN0Iiwid2luZG93Iiwib24iLCJkaXNwbGF5IiwibGFuZSIsIm1hcmtUeXBlIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwiZGF0YUJ5WWVhciIsIm5lc3QiLCJzb3J0VmFsdWVzIiwiYSIsImIiLCJhc2NlbmRpbmciLCJ0aXRsZSIsImVudHJpZXMiLCJmaXJzdFRpdGxlIiwidmFsdWVzIiwiaWQiLCJzdW1fZWlnZW5mYWN0b3IiLCJzdW0iLCJkZCIsIm1heERhdGFCeVllYXIiLCJtYXgiLCJsZW5ndGgiLCJsYW5lcyIsImxhbmVMZW5ndGgiLCJ0aW1lQmVnaW4iLCJtaW4iLCJ0aW1lRW5kIiwibWluRXh0ZW50IiwibWF4RXh0ZW50IiwibWluaUhlaWdodCIsIm1haW5IZWlnaHQiLCJzdHlsZXNCYXNlIiwic3R5bGVzVmlzaWJsZSIsInNjYWxlIiwibGluZWFyIiwiZG9tYWluIiwicmFuZ2UiLCJ4MSIsInkxIiwieTIiLCJlZkV4dGVudCIsImV4dGVudCIsImVmU2NhbGVNaW5pIiwiZWZTY2FsZU1haW4iLCJlZlN1bVNjYWxlIiwiY2hhcnRXaWR0aCIsImNoYXJ0SGVpZ2h0IiwiY2hhcnQiLCJhcHBlbmQiLCJhdHRyIiwibWFpbkNvbnRhaW5lciIsIm1haW4iLCJtaW5pQ29udGFpbmVyIiwibWluaSIsIm1haW5MYW5lTGluZXNHIiwibGVuIiwibWFpbkxhYmVsRyIsIm1haW5MYWJlbCIsInRleHQiLCJzdHlsZSIsImJvdW5kcyIsInN1Yk9mZnNldCIsIiQiLCJtYWluTGFiZWxTdWIiLCJtaW5pTGFuZUxpbmVzRyIsIm1pbmlMYWJlbCIsInhBeGlzTWluaSIsInN2ZyIsImF4aXMiLCJvcmllbnQiLCJ0aWNrRm9ybWF0IiwiZm9ybWF0IiwieEF4aXNNYWluIiwieEF4aXNNYWluT2JqIiwibWFpbkNsaXBQYXRoIiwibWluaUl0ZW1zIiwic2VsZWN0QWxsIiwiZW50ZXIiLCJyYWRpdXMiLCJtaW5pTWFya09wYWNpdHkiLCJNYXRoIiwieWVhck1hcmtzIiwieWVhckl0ZW1zIiwiY29udHJhY3QiLCJleHBhbmQiLCJwYXBlckl0ZW1zIiwiZmlsdGVyIiwicGFwZXJNYXJrcyIsImlkeCIsInNwYW4iLCJqb2luIiwiaHRtbCIsImJib3giLCJub2RlIiwiZ2V0QkJveCIsImluc2VydCIsImJydXNoIiwiZXh0ZW50TGluZXMiLCJwdXNoIiwidXBkYXRlRXh0ZW50TGluZXMiLCJsZWZ0IiwicmlnaHQiLCJlbXB0eSIsInNlbCIsIm1vdmVCcnVzaCIsImRpcmVjdGlvbiIsImNoYW5nZUV4dGVudCIsInJvdW5kIiwic2Nyb2xsSXRlbXMiLCJ6b29tSXRlbXMiLCJzdG9wIiwiZmFkZVRvIiwiY2xlYXJCcnVzaEljb24iLCJldmVudCIsIndoZWVsRGVsdGFZIiwid2hlZWxEZWx0YVgiLCJtaWRwb2ludFllYXIiLCJicnVzaEluaXQiLCJ5ZWFyMSIsInllYXIyIiwiZHVyYXRpb24iLCJlYXNlIiwiZGVsYXkiLCJ1bmRlZmluZWQiLCJ0cmFuc2l0aW9uIiwiZG9jdW1lbnQiLCJ0cmlnZ2VyIiwiY2xlYXJCcnVzaCIsIm1pZCIsImV4dGVudFNlbGVjdCIsIm1pbkV4dGVudFNjcmVlbiIsIm1heEV4dGVudFNjcmVlbiIsImludmVydCIsImNsYXNzZWQiLCJ1cGRhdGVNYWluIiwidmlzSXRlbXMiLCJub3RWaXNJdGVtcyIsImNvbnNvbGUiLCJsb2ciLCJtYXRjaCIsImVhY2giLCJpdGVtIiwid3JhcEluQW5jaG9yIiwic3RhYmxlX3VybCIsInRoaXNMYWJlbCIsIndvcmRzIiwic3BsaXQiLCJ2aWV3TGVmdEVkZ2UiLCJwb3NpdGlvbiIsIm51bVdvcmRzIiwic2hvcnRlbmVkVGl0bGUiLCJzbGljZSIsImFmdGVyVHJhbnNpdGlvblgiLCJhZnRlclRyYW5zaXRpb25ZIiwieWVhckl0ZW0iLCJ0aGlzWWVhciIsInRoaXNZZWFySXRlbSIsInRyYW5zaXRpb25FbmRTdHlsZSIsImxpbmUiLCJsaW5lZGF0YSIsInN0eWxlVHdlZW4iLCJpbnRlcnBvbGF0ZSIsImdldFByb3BlcnR5VmFsdWUiLCJkdXIiLCJkYXR1bSIsInJlbW92ZSIsImN1cnNvckljb24iLCJ0cmFuc2l0aW9uVGltZXMiLCJ5ZWFyUmFuZ2UiLCJpbml0QnJ1c2hSYW5nZSIsImZsb29yIiwiaW5pdEJydXNoUG9zaXRpb24iLCJudW1WaXNJdGVtcyIsInNpemUiLCJzZWxJbmRleCIsImNlaWwiLCJkZW1vWWVhckl0ZW0iLCJkZW1vWWVhck1hcmsiLCJ0cmFuc2xhdGVDb29yZCIsInRyYW5zbGF0ZVN0cmluZyIsInJlcGxhY2UiLCJSZWdFeHAiLCJleGVjIiwiZGVjb25zdHJ1Y3RUcmFuc2xhdGUiLCJ0cmFuc2xhdGUiLCJfX2RhdGFfXyIsImRlbW9FbmQiLCJkZW1vRXhwYW5kIiwiZGVtb0RyYXdCcnVzaCJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBMkNBLEVBQU1DLEdBQzFCLGlCQUFaQyxTQUEwQyxpQkFBWEMsT0FDeENBLE9BQU9ELFFBQVVELElBQ1EsbUJBQVhHLFFBQXlCQSxPQUFPQyxJQUM5Q0QsT0FBTyxzQkFBdUIsR0FBSUgsR0FDUixpQkFBWkMsUUFDZEEsUUFBUSx1QkFBeUJELElBRWpDRCxFQUFLLHVCQUF5QkMsSUFSaEMsQ0FTbUIsb0JBQVRLLEtBQXVCQSxLQUFPQyxNQUFNLFdBQzlDLE8sWUNURSxJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVUixRQUduQyxJQUFJQyxFQUFTSyxFQUFpQkUsR0FBWSxDQUN6Q0MsRUFBR0QsRUFDSEUsR0FBRyxFQUNIVixRQUFTLElBVVYsT0FOQVcsRUFBUUgsR0FBVUksS0FBS1gsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU08sR0FHL0ROLEVBQU9TLEdBQUksRUFHSlQsRUFBT0QsUUEwRGYsT0FyREFPLEVBQW9CTSxFQUFJRixFQUd4QkosRUFBb0JPLEVBQUlSLEVBR3hCQyxFQUFvQlEsRUFBSSxTQUFTZixFQUFTZ0IsRUFBTUMsR0FDM0NWLEVBQW9CVyxFQUFFbEIsRUFBU2dCLElBQ2xDRyxPQUFPQyxlQUFlcEIsRUFBU2dCLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVYsRUFBb0JnQixFQUFJLFNBQVN2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LEdBQ1Q2QyxTQUNBekIsS0FBSyxPQUFPLFdBQ1p6RCxLQW9ESDlGLEdBQUdTLE9BQU8saUJBQWlCNkQsTUFBTSxpQkFBa0IsYUFHcERHLEVBQUcrRCxVQUFXN0gsR0FBRyx3QkFBd0IsV0FDeENtRixRQUdEckIsRUFBRytELFVBQVc3SCxHQUFHLHVCQUF1QixXQUN2Q0MsUUFHRDZELEVBQUcrRCxVQUFXN0gsR0FBRywwQkFBMEIsV0FDMUMrSCxXQXo2Q3dCIiwiZmlsZSI6ImQzLWFydGljbGUtdGltZWxpbmUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIHdlYnBhY2tVbml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnKVxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRlbHNlIGlmKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZClcblx0XHRkZWZpbmUoXCJkMy1hcnRpY2xlLXRpbWVsaW5lXCIsIFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcImQzLWFydGljbGUtdGltZWxpbmVcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiZDMtYXJ0aWNsZS10aW1lbGluZVwiXSA9IGZhY3RvcnkoKTtcbn0pKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgOiB0aGlzLCBmdW5jdGlvbigpIHtcbnJldHVybiAiLCIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4iLCJpbXBvcnQgdGltZWxpbmVWaXMgZnJvbSAnLi90aW1lbGluZVZpc19NYWluLmpzJztcbmV4cG9ydCB7IHRpbWVsaW5lVmlzIH07XG5cbiIsIi8vIGJ1aWxkaW5nIG9mZiBodHRwOi8vYmwub2Nrcy5vcmcvYnVua2F0LzIzMzgwMzRcbi8vXG4vL1xudmFyIHRpbWVsaW5lVmlzID0gdGltZWxpbmVWaXMgfHwge307XG5cbnRpbWVsaW5lVmlzLmNvbmZpZyA9IChmdW5jdGlvbigpIHtcblx0dmFyIHdpZHRoID0gOTYwLFxuXHRcdGhlaWdodCA9IDM1MDtcblxuXHQvLyB0aGVzZSBwcm9wZXJ0aWVzIChcImF1dGhvcnNcIiwgXCJlaWdlbmZhY3RvclwiLCBldGMuKSBuZWVkIHRvIGJlIHNldCBwcm9wZXJseSBhY2NvcmRpbmcgdG8gdGhlIGRhdGFcblx0dmFyIHBhcnNlRGF0YSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0XHRkYXRhLmZvckVhY2goZnVuY3Rpb24oZCkge1xuXHRcdFx0ZC5hdXRob3JzID0gZFtcImF1dGhvcnNcIl07ICAvLyBsaXN0IG9mIGF1dGhvciBuYW1lc1xuXHRcdFx0ZC5laWdlbmZhY3RvciA9IGRbXCJlaWdlbmZhY3Rvcl9zY29yZVwiXTtcblx0XHRcdGQudmVudWUgPSBkW1wiam91cm5hbFwiXTtcblx0XHRcdGQueWVhciA9IGRbXCJ5ZWFyXCJdO1xuXHRcdFx0ZC51cmwgPSBcImh0dHA6Ly9sYWJzLmpzdG9yLm9yZ1wiICsgZFtcInN0YWJsZV91cmxcIl07XG5cdFx0fSk7XG5cdFx0cmV0dXJuIGRhdGE7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHR3aWR0aDogd2lkdGgsXG5cdFx0aGVpZ2h0OiBoZWlnaHQsXG5cdFx0cGFyc2VEYXRhOiBwYXJzZURhdGFcblx0fVxuXG59KCkpO1xuXG50aW1lbGluZVZpcy50aW1lbGluZVZpcyA9IChmdW5jdGlvbigpIHtcblxuXHRmdW5jdGlvbiBkZWNvbnN0cnVjdFRyYW5zbGF0ZSh0cmFuc2xhdGVTdHJpbmcpIHtcblx0XHQvLyB0YWtlcyBhIHN0cmluZyBsaWtlIFwidHJhbnNsYXRlKDEwMCwyMDApXCIgYW5kIHJldHVybnMgdGhlIG51bWJlcnMgWzEwMCwgMjAwXVxuXHRcdHRyYW5zbGF0ZVN0cmluZyA9IHRyYW5zbGF0ZVN0cmluZy5yZXBsYWNlKFwiKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKTtcblx0XHR2YXIgcmVnZXggPSBuZXcgUmVnRXhwKC90cmFuc2xhdGUoW1xcZFxcLl0rKSwoW1xcZFxcLl0rKS8pO1xuXHRcdHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWModHJhbnNsYXRlU3RyaW5nKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0eDogK21hdGNoWzFdLFxuXHRcdFx0eTogK21hdGNoWzJdXG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNvbnN0cnVjdFRyYW5zbGF0ZSh4LCB5KSB7XG5cdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgeCArIFwiLFwiICsgeSArIFwiKVwiO1xuXHR9XG5cblxuXHR2YXIgd3JhcCA9IGQzLnRleHR3cmFwKCkubWV0aG9kKFwidHNwYW5zXCIpO1xuXG5cdHZhciBjb25maWcgPSB0aW1lbGluZVZpcy5jb25maWcsXG5cdFx0dyA9IGNvbmZpZy53aWR0aCxcblx0XHRoID0gY29uZmlnLmhlaWdodDtcblxuXG5cdGQzLmpzb24oanNvbl9lbmRwb2ludCwgZnVuY3Rpb24oZXJyb3IsIGRhdGFfdG90YWwpIHtcblx0XHRkMy5zZWxlY3Qod2luZG93KS5vbihcInJlc2l6ZVwiLCBkaXNwbGF5KVxuXHRcdGRhdGFfdG90YWwgPSBjb25maWcucGFyc2VEYXRhKGRhdGFfdG90YWwpO1xuXHRcdGRhdGFfdG90YWwuZm9yRWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRkLmxhbmUgPSAwO1xuXHRcdFx0aWYgKGQuZWlnZW5mYWN0b3IgPT09IG51bGwpIHtcblx0XHRcdFx0ZC5laWdlbmZhY3RvciA9IDA7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0dmFyIG1hcmtUeXBlID0gZ2V0UGFyYW1ldGVyQnlOYW1lKCdtJyk7XG5cdFx0aWYgKCAobWFya1R5cGUgIT0gJ2ljb24nKSAmJiAobWFya1R5cGUgIT0gJ2NpcmNsZScpICkge1xuXHRcdFx0bWFya1R5cGUgPSAnY2lyY2xlJyAgLy8gZGVmYXVsdFxuXHRcdH1cblxuXHRcdHZhciBkYXRhQnlZZWFyID0gZDMubmVzdCgpXG5cdFx0XHRcdFx0XHRcdC5rZXkoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI7fSlcblx0XHRcdFx0XHRcdFx0LnNvcnRWYWx1ZXMoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0XHRcdFx0XHRcdC8vIHJldHVybiBkMy5kZXNjZW5kaW5nKGEuZWlnZW5mYWN0b3Jfc2NvcmUsIGIuZWlnZW5mYWN0b3Jfc2NvcmUpO1xuXHRcdFx0XHRcdFx0XHRcdC8vIHJldHVybiBkMy5hc2NlbmRpbmcoYS5wdWJkYXRlLCBiLnB1YmRhdGUpO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBkMy5hc2NlbmRpbmcoYS50aXRsZSwgYi50aXRsZSk7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdC8vIC5tYXAoZGF0YV90b3RhbCwgZDMubWFwKTtcblx0XHRcdFx0XHRcdFx0LmVudHJpZXMoZGF0YV90b3RhbCk7XG5cdFx0ZGF0YUJ5WWVhci5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdGQuZmlyc3RUaXRsZSA9IGQudmFsdWVzWzBdLmlkO1xuXHRcdFx0ZC5zdW1fZWlnZW5mYWN0b3IgPSBkMy5zdW0oZC52YWx1ZXMsIGZ1bmN0aW9uKGRkKSB7cmV0dXJuIGRkLmVpZ2VuZmFjdG9yO30pO1xuXHRcdFx0ZC5sYW5lID0gMDtcblx0XHRcdGQueWVhciA9ICtkLmtleTtcblx0XHR9KTtcblx0XHR2YXIgbWF4RGF0YUJ5WWVhciA9IGQzLm1heChkYXRhQnlZZWFyLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnZhbHVlcy5sZW5ndGg7IH0pO1xuXG5cdFx0dmFyIGxhbmVzID0gW1wiQ2xpbWF0ZSBjaGFuZ2VcIl0sXG5cdFx0XHRcdFx0bGFuZUxlbmd0aCA9IGxhbmVzLmxlbmd0aCxcblx0XHRcdFx0Ly8gdGltZUJlZ2luID0gbmV3IERhdGUoU3RyaW5nKG1pblllYXItMSkpLFxuXHRcdFx0XHR0aW1lQmVnaW4gPSArZDMubWluKGRhdGFCeVllYXIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQueWVhcjsgfSkgLSAxLFxuXHRcdFx0XHR0aW1lRW5kID0gK2QzLm1heChkYXRhQnlZZWFyLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnllYXI7IH0pICsgMTtcblxuXHRcdHZhciBtID0gWzIwLCAxNSwgMTUsIDE1MF07IC8vdG9wIHJpZ2h0IGJvdHRvbSBsZWZ0XG5cdFx0XHQvLyB3ID0gOTYwIC0gbVsxXSAtIG1bM10sXG5cdFx0XHQvLyBoID0gMzUwIC0gbVswXSAtIG1bMl0sXG5cdFx0dyA9IHcgLSBtWzFdIC0gbVszXTtcblx0XHRoID0gaCAtIG1bMF0gLSBtWzJdO1xuXHRcdHZhciBtaW5pSGVpZ2h0ID0gbGFuZUxlbmd0aCAqIDEyICsgMzAsXG5cdFx0XHRtYWluSGVpZ2h0ID0gaCAtIG1pbmlIZWlnaHQgLSA1MDtcblxuXHRcdHZhciBtYWluTWluUmFkID0gOCxcblx0XHRcdG1haW5NYXhSYWQgPSAxOCxcblx0XHRcdG1pbmlNaW5SYWQgPSA1LFxuXHRcdFx0bWluaU1heFJhZCA9IDEwO1xuXG5cdFx0dmFyIG1pbkV4dGVudCwgbWF4RXh0ZW50OyAgLy8gdGhlc2Ugd2lsbCBiZSB0aGUgbG93ZXIgYW5kIHVwcGVyIHllYXJzIGRpc3BsYXllZCBpbiBtYWluXG5cblx0XHR2YXIgc3R5bGVzQmFzZSA9IHtcblx0XHRcdCdvcGFjaXR5JzogLjJcblx0XHR9O1xuXHRcdHZhciBzdHlsZXNWaXNpYmxlID0ge1xuXHRcdFx0J29wYWNpdHknOiAxXG5cdFx0fTtcblxuXHRcdC8vc2NhbGVzXG5cdFx0dmFyIHggPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHQuZG9tYWluKFt0aW1lQmVnaW4sIHRpbWVFbmRdKVxuXHRcdFx0XHQucmFuZ2UoWzAsIHddKTtcblx0XHR2YXIgeDEgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHQucmFuZ2UoWzAsIHddKTtcblx0XHR2YXIgeTEgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHQuZG9tYWluKFswLCBsYW5lTGVuZ3RoXSlcblx0XHRcdFx0LnJhbmdlKFswLCBtYWluSGVpZ2h0XSk7XG5cdFx0dmFyIHkyID0gZDMuc2NhbGUubGluZWFyKClcblx0XHRcdFx0LmRvbWFpbihbMCwgbGFuZUxlbmd0aF0pXG5cdFx0XHRcdC5yYW5nZShbMCwgbWluaUhlaWdodF0pO1xuXHRcdHZhciBlZkV4dGVudCA9IGQzLmV4dGVudChkYXRhX3RvdGFsLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmVpZ2VuZmFjdG9yOyB9KTtcblx0XHR2YXIgZWZTY2FsZU1pbmkgPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHQuZG9tYWluKGVmRXh0ZW50KVxuXHRcdFx0XHQvLyAucmFuZ2UoWzAsIDVdKTtcblx0XHRcdFx0LnJhbmdlKFttaW5pTWluUmFkLCBtaW5pTWF4UmFkXSk7XG5cdFx0dmFyIGVmU2NhbGVNYWluID0gZDMuc2NhbGUubGluZWFyKClcblx0XHRcdFx0LmRvbWFpbihlZkV4dGVudClcblx0XHRcdFx0Ly8gLnJhbmdlKFswLCA1XSk7XG5cdFx0XHRcdC5yYW5nZShbbWFpbk1pblJhZCwgbWFpbk1heFJhZF0pO1xuXHRcdHZhciBlZlN1bVNjYWxlID0gZDMuc2NhbGUubGluZWFyKClcblx0XHRcdFx0LmRvbWFpbihkMy5leHRlbnQoZGF0YUJ5WWVhciwgZnVuY3Rpb24oZCkgeyByZXR1cm4gZC5zdW1fZWlnZW5mYWN0b3I7IH0pKVxuXHRcdFx0XHQvLyAucmFuZ2UoWzAsIDVdKTtcblx0XHRcdFx0LnJhbmdlKFttYWluTWluUmFkLCBtYWluTWF4UmFkXSk7XG5cblxuXHRcdHZhciBjaGFydFdpZHRoID0gdyArIG1bMV0gKyBtWzNdLFxuXHRcdFx0Y2hhcnRIZWlnaHQgPSBoICsgbVswXSArIG1bMl07XG5cblx0XHR2YXIgY2hhcnQgPSBkMy5zZWxlY3QoXCIjdGltZWxpbmVcIilcblx0XHRcdFx0XHQuYXBwZW5kKFwic3ZnXCIpXG5cdFx0XHRcdFx0Ly8gLmF0dHIoXCJ3aWR0aFwiLCBjaGFydFdpZHRoKVxuXHRcdFx0XHRcdC8vIC5hdHRyKFwiaGVpZ2h0XCIsIGNoYXJ0SGVpZ2h0KVxuXHRcdFx0XHRcdC5hdHRyKFwiZGF0YS1tYXhpbWl6ZWRIZWlnaHRcIiwgY2hhcnRIZWlnaHQpXG5cdFx0XHRcdFx0LmF0dHIoXCJkYXRhLWN1cnJIZWlnaHRcIiwgY2hhcnRIZWlnaHQpXG5cdFx0XHRcdFx0LmF0dHIoXCJ2aWV3Qm94XCIsIFwiMCAwIFwiICsgY2hhcnRXaWR0aCArIFwiIFwiICsgY2hhcnRIZWlnaHQpXG5cdFx0XHRcdFx0LmF0dHIoXCJwcmVzZXJ2ZUFzcGVjdFJhdGlvXCIsIFwieE1pZFlNaWQgbWVldFwiKVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJjaGFydFwiKTtcblx0XHRcblx0XHRjaGFydC5hcHBlbmQoXCJkZWZzXCIpLmFwcGVuZChcImNsaXBQYXRoXCIpXG5cdFx0XHQuYXR0cihcImlkXCIsIFwiY2xpcFwiKVxuXHRcdFx0LmFwcGVuZChcInJlY3RcIilcblx0XHRcdC5hdHRyKFwid2lkdGhcIiwgdylcblx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG1haW5IZWlnaHQpO1xuXG5cdFx0dmFyIG1haW5Db250YWluZXIgPSBjaGFydC5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIG1bMF0gKyBcIilcIilcblx0XHRcdFx0XHQuYXR0cihcIndpZHRoXCIsIGNoYXJ0V2lkdGgpXG5cdFx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodClcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibWFpbkNvbnRhaW5lclwiKTtcblxuXHRcdC8vIHZhciBtYWluID0gY2hhcnQuYXBwZW5kKFwiZ1wiKVxuXHRcdHZhciBtYWluID0gbWFpbkNvbnRhaW5lci5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0Ly8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyBtWzBdICsgXCIpXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsMClcIilcblx0XHRcdFx0XHQuYXR0cihcIndpZHRoXCIsIHcpXG5cdFx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgbWFpbkhlaWdodClcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibWFpblwiKTtcblxuXHRcdHZhciBtaW5pQ29udGFpbmVyID0gY2hhcnQuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyAobWFpbkhlaWdodCArIG1bMF0pICsgXCIpXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCBjaGFydFdpZHRoKVxuXHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG1haW5IZWlnaHQpXG5cdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcIm1pbmlDb250YWluZXJcIik7XG5cblx0XHQvLyB2YXIgbWluaSA9IGNoYXJ0LmFwcGVuZChcImdcIilcblx0XHR2YXIgbWluaSA9IG1pbmlDb250YWluZXIuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbVszXSArIFwiLFwiICsgKG1haW5IZWlnaHQgKyBtWzBdKSArIFwiKVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbVszXSArIFwiLDApXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCB3KVxuXHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG1pbmlIZWlnaHQpXG5cdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcIm1pbmlcIik7XG5cdFx0XG5cdFx0Ly9tYWluIGxhbmVzIGFuZCB0ZXh0c1xuXHRcdHZhciBtYWluTGFuZUxpbmVzRyA9IG1haW4uYXBwZW5kKFwiZ1wiKTtcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gbGFuZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdG1haW5MYW5lTGluZXNHLmFwcGVuZChcImxpbmVcIilcblx0XHRcdFx0LmF0dHIoXCJ4MVwiLCBtWzFdKVxuXHRcdFx0XHQuYXR0cihcInkxXCIsIGZ1bmN0aW9uKCkge3JldHVybiB5MihpKTt9KVxuXHRcdFx0XHQuYXR0cihcIngyXCIsIHcpXG5cdFx0XHRcdC5hdHRyKFwieTJcIiwgZnVuY3Rpb24oKSB7cmV0dXJuIHkyKGkpO30pXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsYW5lTGluZVwiKVxuXHRcdFx0XHQuYXR0cihcInN0cm9rZVwiLCBcImxpZ2h0Z3JheVwiKTtcblx0XHR9XG5cblx0XHR2YXIgbWFpbkxhYmVsRyA9IG1haW5Db250YWluZXIuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIisobVswXSkrXCIpXCIpO1xuXHRcdHZhciBtYWluTGFiZWwgPSBtYWluTGFiZWxHLmFwcGVuZChcInRleHRcIilcblx0XHRcdC50ZXh0KFwiTnVtYmVyIG9mIGluZmx1ZW50aWFsIGFydGljbGVzIGluIHRoZSB5ZWFyXCIpXG5cdFx0XHQvLyAuYXR0cihcInhcIiwgLW1bMV0pXG5cdFx0XHQvLyAuYXR0cihcInhcIiwgMClcblx0XHRcdC8vIC5hdHRyKFwieVwiLCAxMClcblx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjE0cHhcIilcblx0XHRcdC8vIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsYW5lVGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJpZFwiLCBcIm1haW5MYWJlbFwiKTtcblx0XG5cdFx0Ly8gd3JhcC5ib3VuZHMoe2hlaWdodDogbWFpbkhlaWdodCwgd2lkdGg6IG1bM119KS5tZXRob2QoXCJ0c3BhbnNcIik7XG5cdFx0d3JhcC5ib3VuZHMoe2hlaWdodDogbWFpbkhlaWdodCwgd2lkdGg6IChtWzNdICogLjkpfSk7XG5cdFx0Ly8gZDMuc2VsZWN0KFwiLmxhbmVUZXh0XCIpLmNhbGwod3JhcCk7XG5cdFx0bWFpbkxhYmVsLmNhbGwod3JhcCk7XG5cblx0XHR2YXIgc3ViT2Zmc2V0ID0gJCggJyNtYWluTGFiZWwnICkuaGVpZ2h0KCk7ICAvLyB5IG9mZnNldCBmb3IgdGhlIHN1YiBsYWJlbFxuXHRcdHZhciBtYWluTGFiZWxTdWIgPSBtYWluTGFiZWxHLmFwcGVuZChcInRleHRcIilcblx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBzdWJPZmZzZXQgKyBcIilcIilcblx0XHRcdC50ZXh0KFwiU2l6ZSBvZiBjaXJjbGVzIGluZGljYXRlcyBsZXZlbCBvZiBpbmZsdWVuY2VcIilcblx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjExcHhcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJsYW5lVGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJpZFwiLCBcIm1haW5MYWJlbFN1YlwiKTtcblxuXHRcdHdyYXAuYm91bmRzKHtoZWlnaHQ6IG1haW5IZWlnaHQgLSBzdWJPZmZzZXQsIHdpZHRoOiAobVszXSAqIC45KX0pO1xuXHRcdG1haW5MYWJlbFN1Yi5jYWxsKHdyYXApO1xuXHRcdFxuXHRcdFxuXHRcdC8vbWluaSBsYW5lcyBhbmQgdGV4dHNcblx0XHR2YXIgbWluaUxhbmVMaW5lc0cgPSBtaW5pLmFwcGVuZChcImdcIik7XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IGxhbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRtaW5pTGFuZUxpbmVzRy5hcHBlbmQoXCJsaW5lXCIpXG5cdFx0XHRcdC5hdHRyKFwieDFcIiwgbVsxXSlcblx0XHRcdFx0LmF0dHIoXCJ5MVwiLCBmdW5jdGlvbigpIHtyZXR1cm4geTIoaSk7fSlcblx0XHRcdFx0LmF0dHIoXCJ4MlwiLCB3KVxuXHRcdFx0XHQuYXR0cihcInkyXCIsIGZ1bmN0aW9uKCkge3JldHVybiB5MihpKTt9KVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwibGFuZUxpbmVcIilcblx0XHRcdFx0LmF0dHIoXCJzdHJva2VcIiwgXCJsaWdodGdyYXlcIik7XG5cdFx0fVxuXG5cdFx0dmFyIG1pbmlMYWJlbCA9IG1pbmlDb250YWluZXIuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIisgbVswXSArXCIpXCIpXG5cdFx0XHQuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0LnRleHQoXCJTZWxlY3QgZGF0ZSByYW5nZSB0byBmb2N1cyBvbjpcIilcblx0XHRcdC8vIC5hdHRyKFwieFwiLCAtbVsxXSlcblx0XHRcdC8vIC5hdHRyKFwieFwiLCAwKVxuXHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIDEwKVxuXHRcdFx0LnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMTRweFwiKVxuXHRcdFx0Ly8gLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImxhbmVUZXh0XCIpO1xuXG5cdFx0d3JhcC5ib3VuZHMoe2hlaWdodDogbWluaUhlaWdodCwgd2lkdGg6IChtWzNdICogLjkpfSk7XG5cdFx0Ly8gZDMuc2VsZWN0KFwiLmxhbmVUZXh0XCIpLmNhbGwod3JhcCk7XG5cdFx0bWluaUxhYmVsLmNhbGwod3JhcCk7XG5cblx0XHQvLyBtaW5pLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLmxhbmVUZXh0XCIpXG5cdFx0Ly8gXHQuZGF0YShsYW5lcylcblx0XHQvLyBcdC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcblx0XHQvLyBcdC50ZXh0KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZDt9KVxuXHRcdC8vIFx0LmF0dHIoXCJ4XCIsIC1tWzFdKVxuXHRcdC8vIFx0LmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQsIGkpIHtyZXR1cm4geTIoaSArIC41KTt9KVxuXHRcdC8vIFx0LmF0dHIoXCJkeVwiLCBcIi41ZXhcIilcblx0XHQvLyBcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblx0XHQvLyBcdC5hdHRyKFwiY2xhc3NcIiwgXCJsYW5lVGV4dFwiKTtcblxuXHRcdC8vIEF4ZXNcblx0XHR2YXIgeEF4aXNNaW5pID0gZDMuc3ZnLmF4aXMoKVxuXHRcdFx0Lm9yaWVudChcImJvdHRvbVwiKVxuXHRcdFx0Ly8gLnRpY2tzKDUpXG5cdFx0XHQuc2NhbGUoeClcblx0XHRcdC50aWNrRm9ybWF0KGQzLmZvcm1hdChcImRcIikpO1xuXG5cdFx0bWluaS5hcHBlbmQoXCJnXCIpXG5cdFx0XHQuYXR0cihcImNsYXNzXCIsIFwieGF4aXNcIilcblx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyAobWluaUhlaWdodCkgKyBcIilcIilcblx0XHRcdC5jYWxsKHhBeGlzTWluaSk7XG5cblx0XHR2YXIgeEF4aXNNYWluID0gZDMuc3ZnLmF4aXMoKVxuXHRcdFx0Lm9yaWVudChcInRvcFwiKVxuXHRcdFx0LnNjYWxlKHgxKVxuXHRcdFx0LnRpY2tGb3JtYXQoZDMuZm9ybWF0KFwiZFwiKSk7XG5cblx0XHR2YXIgeEF4aXNNYWluT2JqID0gbWFpbi5hcHBlbmQoXCJnXCIpXG5cdFx0XHQuYXR0cihcImNsYXNzXCIsIFwieGF4aXNcIilcblx0XHRcdC5jYWxsKHhBeGlzTWFpbik7XG5cblx0XHR2YXIgbWFpbkNsaXBQYXRoID0gbWFpbi5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJtYWluQ2xpcFBhdGhcIilcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJjbGlwLXBhdGhcIiwgXCJ1cmwoI2NsaXApXCIpO1xuXG5cdFx0XG5cdFx0Ly9taW5pIGl0ZW1zXG5cdFx0Ly8gbm90ZTogbW91c2VvdmVyIGV2ZW50cyB3aWxsIG5vdCBwbGF5IHdlbGwgd2l0aCB0aGUgYnJ1c2hcblx0XHR2YXIgbWluaUl0ZW1zID0gbWluaS5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi5taW5pSXRlbVwiKVxuXHRcdFx0LmRhdGEoZGF0YV90b3RhbClcblx0XHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJtaW5pSXRlbVwiKVxuXHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRkLnggPSB4KGQueWVhcik7XG5cdFx0XHRcdC8vIGQueSA9IDA7ICAvLyBmb3Igbm93XG5cdFx0XHRcdGQueSA9IG1pbmlIZWlnaHQgLyAyO1xuXHRcdFx0XHQvLyBkLnJhZGl1cyA9IDUgKyBlZlNjYWxlKGQuZWlnZW5mYWN0b3Jfc2NvcmUpO1xuXHRcdFx0XHRkLnJhZGl1cyA9IDEgKyAoIGVmU2NhbGVNaW5pKGQuZWlnZW5mYWN0b3IpICk7XG5cdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XG5cdFx0XHR9KTtcblxuXHRcdC8vIG5vdCBjdXJyZW50bHkgdXNpbmcgdGhpc1xuXHRcdGZ1bmN0aW9uIHN0YWNrSXRlbXMoaXRlbXMsIHNjYWxlKSB7XG5cdFx0XHR2YXIgeWVhcnNMaXN0ID0gW107XG5cdFx0XHRpdGVtcy5lYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0aWYgKCAhKGQueWVhciBpbiB5ZWFyc0xpc3QpICkge1xuXHRcdFx0XHRcdHllYXJzTGlzdC5wdXNoKGQueWVhcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0dmFyIG1heFJhZCA9IGQzLm1heChpdGVtc1swXSwgZnVuY3Rpb24oZCkge3JldHVybiBkLl9fZGF0YV9fLnJhZGl1c30pO1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IHllYXJzTGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHR0aGlzWWVhck1pbmkgPSBpdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI9PXllYXJzTGlzdFtpXX0pO1xuXHRcdFx0XHR2YXIgeSA9IDA7XG5cdFx0XHRcdHRoaXNZZWFyTWluaS5lYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRpZiAoeSA9PSAwKSB7XG5cdFx0XHRcdFx0XHR5ID0gc2NhbGUoZC5sYW5lKSArIG1heFJhZDtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0eSA9IHkgKyAyKmQucmFkaXVzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkLnkgPSB5O1xuXHRcdFx0XHRcdGQzLnNlbGVjdCh0aGlzKS5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHQvLyBzdGFja0l0ZW1zKG1pbmlJdGVtcywgeTIpO1xuXG5cdFx0dmFyIG1pbmlNYXJrT3BhY2l0eSA9IE1hdGgubWF4KCAoMS9tYXhEYXRhQnlZZWFyKSwgMC4zICk7XG5cdFx0dmFyIG1pbmlNYXJrcyA9IG1pbmlJdGVtcy5hcHBlbmQoXCJjaXJjbGVcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJtaW5pTWFya1wiKVxuXHRcdFx0LmF0dHIoXCJyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5yYWRpdXM7fSlcblx0XHRcdC8vIC5zdHlsZShzdHlsZXNCYXNlKTtcblx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgbWluaU1hcmtPcGFjaXR5KTtcblxuXG5cdFx0c3dpdGNoIChtYXJrVHlwZSkge1xuXHRcdFx0Y2FzZSAnY2lyY2xlJzpcblx0XHRcdFx0Ly9tYWluIGl0ZW1zXG5cdFx0XHRcdHZhciB5ZWFySXRlbXMgPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIueWVhckl0ZW1cIilcblx0XHRcdFx0XHQuZGF0YShkYXRhQnlZZWFyKVxuXHRcdFx0XHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwieWVhckl0ZW1cIilcblx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRkLnggPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRkLnkgPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IG1haW5NaW5SYWQgKyAoMiAqIGVmU3VtU2NhbGUoZC5zdW1fZWlnZW5mYWN0b3IpKTtcblx0XHRcdFx0XHRcdGQucmFkaXVzID0gZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3Rvcik7XG5cdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IG1haW5NaW5SYWQgKyAoZC52YWx1ZXMubGVuZ3RoKjIpO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR2YXIgeWVhck1hcmtzID0geWVhckl0ZW1zLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ5ZWFyTWFya1wiKVxuXHRcdFx0XHRcdC8vIC5vbignbW91c2VvdmVyJywgZXhwYW5kKVxuXHRcdFx0XHRcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0Y29udHJhY3QoKTtcblx0XHRcdFx0XHRcdHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkZCkge3JldHVybiBkZC55ZWFyPT09ZC55ZWFyfSk7XG5cdFx0XHRcdFx0XHR2YXIgdGhpc1llYXJJdGVtID0gZDMuc2VsZWN0KHRoaXMpO1xuXHRcdFx0XHRcdFx0ZXhwYW5kKHNlbCwgdGhpc1llYXJJdGVtKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0Ly8gLm9uKCdtb3VzZW91dCcsIGNvbnRyYWN0KVxuXHRcdFx0XHRcdC5zdHlsZShzdHlsZXNWaXNpYmxlKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0Ly9sYWJlbCBmb3IgbnVtYmVyIG9mIHBhcGVyc1xuXHRcdFx0XHR5ZWFySXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcblx0XHRcdFx0XHQuYXR0cihcInlcIiwgXCIuM2VtXCIpICAvL251ZGdlXG5cdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcIm51bUluZGljYXRvclwiKVxuXHRcdFx0XHRcdC50ZXh0KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC52YWx1ZXMubGVuZ3RoO30pO1xuXG5cdFx0XHRcdHZhciBwYXBlckl0ZW1zID0geWVhckl0ZW1zLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLnBhcGVySXRlbVwiKVxuXHRcdFx0XHRcdC5kYXRhKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC52YWx1ZXN9KVxuXHRcdFx0XHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwicGFwZXJJdGVtXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJkYXRhLXllYXJcIiwgZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI7fSlcblx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdFx0XHRkLnggPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRkLnkgPSAwOyAgLy9mb3Igbm93XG5cdFx0XHRcdFx0XHRkLmlkeCA9IGk7XG5cdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IG1haW5NaW5SYWQgKyAoMiAqIGVmU2NhbGUoZC5laWdlbmZhY3RvcikpO1xuXHRcdFx0XHRcdFx0ZC5yYWRpdXMgPSBlZlNjYWxlTWFpbihkLmVpZ2VuZmFjdG9yKTtcblx0XHRcdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuYXR0cihcInRpdGxlXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdFx0Ly8gZm9yIHRvb2x0aXBcblx0XHRcdFx0XHRcdFx0Ly8gdmFyIHRleHQgPSBkLnRpdGxlXG5cdFx0XHRcdFx0XHRcdC8vIFx0XHRcdCsgXCIsIFwiXG5cdFx0XHRcdFx0XHRcdC8vIFx0XHRcdCsgZC5hdXRob3JzLmpvaW4oXCIsIFwiKVxuXHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIFwiLCBcIlxuXHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIGQuam91cm5hbFxuXHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIFwiLCBcIlxuXHRcdFx0XHRcdFx0XHQvLyBcdFx0XHQrIGQueWVhcjtcblx0XHRcdFx0XHRcdFx0Ly8gcmV0dXJuIHRleHQ7XG5cdFx0XHRcdFx0XHR2YXIgc3BhbiA9ICQoICc8c3Bhbj4nICk7XG5cdFx0XHRcdFx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCB0aXRsZVwiPicgKS50ZXh0KGQudGl0bGUpICk7IFxuXHRcdFx0XHRcdFx0c3Bhbi5hcHBlbmQoICQoICc8cCBjbGFzcz1cInRvb2x0aXAgYXV0aG9yc1wiPicgKS50ZXh0KGQuYXV0aG9ycy5qb2luKFwiLCBcIikpICk7XG5cdFx0XHRcdFx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCBqb3VybmFsXCI+JyApLnRleHQoZC52ZW51ZSkgKTsgXG5cdFx0XHRcdFx0XHRzcGFuLmFwcGVuZCggJCggJzxwIGNsYXNzPVwidG9vbHRpcCB5ZWFyXCI+JyApLnRleHQoZC55ZWFyKSApOyBcblx0XHRcdFx0XHRcdHJldHVybiBzcGFuLmh0bWwoKTtcblxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0XHQvLyB2YXIgdCA9IGQzLnNlbGVjdCh0aGlzKS5zZWxlY3QoJy5wYXBlckxhYmVsJyk7XG5cdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZygkKCB0aGlzICkucG9zaXRpb24oKSk7XG5cdFx0XHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKCQoICcubWFpbicgKS5wb3NpdGlvbigpLnRvcCArIG1haW5IZWlnaHQpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHR2YXIgdXJsID0gZC51cmw7XG5cdFx0XHRcdFx0XHQvLyB3aW5kb3cub3Blbih1cmwsJ19ibGFuaycpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHZhciBwYXBlck1hcmtzID0gcGFwZXJJdGVtcy5hcHBlbmQoXCJjaXJjbGVcIilcblx0XHRcdFx0XHQuYXR0cihcInJcIiwgMCkgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJwYXBlck1hcmtcIik7XG5cblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcblx0XHRcdGNhc2UgJ2ljb24nOlxuXHRcdFx0XHQvL21haW4gaXRlbXNcblx0XHRcdFx0dmFyIHllYXJJdGVtcyA9IG1haW5DbGlwUGF0aC5hcHBlbmQoXCJnXCIpLnNlbGVjdEFsbChcIi55ZWFySXRlbVwiKVxuXHRcdFx0XHRcdC5kYXRhKGRhdGFCeVllYXIpXG5cdFx0XHRcdFx0LmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ5ZWFySXRlbVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdGQueCA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0XHRcdGQueSA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0XHRcdC8vIGQucmFkaXVzID0gbWFpbk1pblJhZCArICgyICogZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3RvcikpO1xuXHRcdFx0XHRcdFx0ZC5yYWRpdXMgPSBlZlN1bVNjYWxlKGQuc3VtX2VpZ2VuZmFjdG9yKTtcblx0XHRcdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdHZhciBwYXBlckl0ZW1zID0geWVhckl0ZW1zLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLnBhcGVySXRlbVwiKVxuXHRcdFx0XHRcdC5kYXRhKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC52YWx1ZXN9KVxuXHRcdFx0XHRcdC5lbnRlcigpLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwicGFwZXJJdGVtXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkge1xuXHRcdFx0XHRcdFx0ZC54ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdFx0ZC55ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHRcdFx0ZC5pZHggPSBpO1xuXHRcdFx0XHRcdFx0Ly8gZC5yYWRpdXMgPSBtYWluTWluUmFkICsgKDIgKiBlZlNjYWxlKGQuZWlnZW5mYWN0b3IpKTtcblx0XHRcdFx0XHRcdGQucmFkaXVzID0gZWZTY2FsZU1haW4oZC5laWdlbmZhY3Rvcik7XG5cdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHRcdH0pO1xuXG5cblx0XHRcdFx0dmFyIHBhcGVyTWFya3MgPSBwYXBlckl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwicGFwZXJNYXJrXCIpXG5cdFx0XHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHRcdC50ZXh0KFwiXFx1ZjBmNlwiKVxuXHRcdFx0XHRcdC8vIC5vbignbW91c2VvdmVyJywgZXhwYW5kKVxuXHRcdFx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcblx0XHRcdFx0XHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdGNvbnRyYWN0KCk7XG5cdFx0XHRcdFx0XHR2YXIgc2VsID0gcGFwZXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZGQpIHtyZXR1cm4gZGQueWVhcj09PWQueWVhcn0pO1xuXHRcdFx0XHRcdFx0ZXhwYW5kKHNlbCk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvLyAub24oJ21vdXNlb3V0JywgY29udHJhY3QpXG5cblx0XHRcdFx0dmFyIGJib3ggPSBwYXBlck1hcmtzLm5vZGUoKS5nZXRCQm94KCk7XG5cdFx0XHRcdHBhcGVySXRlbXMuaW5zZXJ0KFwicmVjdFwiLCBcIi5wYXBlck1hcmtcIilcblx0XHRcdFx0XHQuYXR0cihcInhcIiwgYmJveC54KVxuXHRcdFx0XHRcdC5hdHRyKFwieVwiLCBiYm94LnkpXG5cdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoKVxuXHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0KVxuXHRcdFx0XHRcdC5zdHlsZShcImZpbGxcIiwgXCJ3aGl0ZVwiKTtcblxuXHRcdFx0XHQvLyAvL21haW4gaXRlbXNcblx0XHRcdFx0Ly8gdmFyIHBhcGVySXRlbXMgPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIucGFwZXJJdGVtXCIpXG5cdFx0XHRcdC8vIFx0LmRhdGEoZGF0YV90b3RhbClcblx0XHRcdFx0Ly8gXHQuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVySXRlbVwiKVxuXHRcdFx0XHQvLyBcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0Ly8gXHRcdGQueCA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0Ly8gXHRcdGQueSA9IDA7ICAvL2ZvciBub3dcblx0XHRcdFx0Ly8gXHRcdGQucmFkaXVzID0gbWFpbk1pblJhZCArICgyICogZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3RvcikpO1xuXHRcdFx0XHQvLyBcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjtcblx0XHRcdFx0Ly8gXHR9KTtcblx0XHRcdFx0Ly8gdmFyIHBhcGVyTWFya3MgPSBwYXBlckl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0Ly8gXHQuYXR0cihcImNsYXNzXCIsIFwicGFwZXJNYXJrXCIpXG5cdFx0XHRcdC8vIFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0XHQvLyBcdC50ZXh0KFwiXFx1ZjBmNlwiKVxuXHRcdFx0XHQvLyBcdC8vIC5vbignbW91c2VvdmVyJywgZXhwYW5kKVxuXHRcdFx0XHQvLyBcdC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHQvLyBcdFx0Y29udHJhY3QoKTtcblx0XHRcdFx0Ly8gXHRcdHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkZCkge3JldHVybiBkZC55ZWFyPT09ZC55ZWFyfSk7XG5cdFx0XHRcdC8vIFx0XHRleHBhbmQoc2VsKTtcblx0XHRcdFx0Ly8gXHRcdH0pO1xuXHRcdFx0XHQvLyBcdC8vIC5vbignbW91c2VvdXQnLCBjb250cmFjdClcblxuXHRcdFx0XHQvLyB2YXIgeWVhckl0ZW1zID0gbWFpbkNsaXBQYXRoLmFwcGVuZChcImdcIikuc2VsZWN0QWxsKFwiLnllYXJJdGVtXCIpXG5cdFx0XHRcdC8vIFx0LmRhdGEoZGF0YUJ5WWVhcilcblx0XHRcdFx0Ly8gXHQuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdC8vIFx0LmF0dHIoXCJjbGFzc1wiLCBcInllYXJJdGVtXCIpXG5cdFx0XHRcdC8vIFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHQvLyBcdFx0ZC54ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHQvLyBcdFx0ZC55ID0gMDsgIC8vZm9yIG5vd1xuXHRcdFx0XHQvLyBcdFx0ZC5yYWRpdXMgPSBtYWluTWluUmFkICsgKDIgKiBlZlN1bVNjYWxlKGQuc3VtX2VpZ2VuZmFjdG9yKSk7XG5cdFx0XHRcdC8vIFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHQvLyBcdH0pO1xuXHRcdFx0XHQvLyB2YXIgeWVhck1hcmtzID0geWVhckl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0Ly8gXHQuYXR0cihcImNsYXNzXCIsIFwieWVhck1hcmtcIilcblx0XHRcdFx0Ly8gXHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHRcdC8vIFx0LnRleHQoXCJcXHVmMGY2XCIpXG5cdFx0XHRcdC8vIFx0Ly8gLm9uKCdtb3VzZW92ZXInLCBleHBhbmQpXG5cdFx0XHRcdC8vIFx0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdC8vIFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHQvLyBcdFx0dmFyIHNlbCA9IHBhcGVySXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGRkKSB7cmV0dXJuIGRkLnllYXI9PT1kLnllYXJ9KTtcblx0XHRcdFx0Ly8gXHRcdGV4cGFuZChzZWwpO1xuXHRcdFx0XHQvLyBcdFx0fSk7XG5cdFx0XHRcdC8vIFx0Ly8gLm9uKCdtb3VzZW91dCcsIGNvbnRyYWN0KVxuXG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcblx0XHR9XG5cblxuXHRcdHZhciBwYXBlckxhYmVscyA9IHBhcGVySXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVyTGFiZWxcIilcblx0XHRcdC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpXG5cdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgtMTUsMClcIikgIC8vIG51ZGdlIGxlZnRcblx0XHRcdC8vIC50ZXh0KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC50aXRsZTt9KTtcblx0XHRcdC5odG1sKGZ1bmN0aW9uKGQpIHtyZXR1cm4gJzxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCInICsgZC51cmwgKyAnXCI+JyArIGQudGl0bGUgKyAnPC9hPic7fSk7XG5cblxuXG5cdFx0Ly9taW5pIGxhYmVsc1xuXHRcdC8vIG1pbmkuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIubWluaUxhYmVsc1wiKVxuXHRcdC8vIFx0LmRhdGEoZGF0YSlcblx0XHQvLyBcdC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcblx0XHQvLyBcdC50ZXh0KGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5pZDt9KVxuXHRcdC8vIFx0LmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geChkLnN0YXJ0KTt9KVxuXHRcdC8vIFx0LmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4geTIoZC5sYW5lICsgLjUpO30pXG5cdFx0Ly8gXHQuYXR0cihcImR5XCIsIFwiLjVleFwiKTtcblxuXHRcdC8vYnJ1c2hcblx0XHR2YXIgYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKVxuXHRcdFx0XHRcdFx0XHQueCh4KVxuXHRcdFx0XHRcdFx0XHQub24oXCJicnVzaFwiLCBkaXNwbGF5KTtcblxuXHRcdG1pbmkuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInggYnJ1c2hcIilcblx0XHRcdC5jYWxsKGJydXNoKVxuXHRcdFx0LnNlbGVjdEFsbChcInJlY3RcIilcblx0XHRcdC5hdHRyKFwieVwiLCAxKVxuXHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgbWluaUhlaWdodCAtIDEpO1xuXG5cdFx0dmFyIGV4dGVudExpbmVzID0gW107XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCAyIDsgaSsrKSB7XG5cdFx0XHRleHRlbnRMaW5lcy5wdXNoKGNoYXJ0LmFwcGVuZChcImxpbmVcIikuYXR0cihcImNsYXNzXCIsIFwiZXh0ZW50TGluZVwiKSk7XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIHVwZGF0ZUV4dGVudExpbmVzKGxlZnQsIHJpZ2h0KSB7XG5cdFx0XHRpZiAoYnJ1c2guZW1wdHkoKSkge1xuXHRcdFx0XHRleHRlbnRMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uKHNlbCkge3NlbC5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO30pXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRleHRlbnRMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uKHNlbCkge3NlbC5zdHlsZShcImRpc3BsYXlcIiwgXCJcIik7fSlcblx0XHRcdFx0ZXh0ZW50TGluZXNbMF0uYXR0cihcIngxXCIsIG1bM10pXG5cdFx0XHRcdFx0LmF0dHIoXCJ5MVwiLCBtWzBdKVxuXHRcdFx0XHRcdC5hdHRyKFwieDJcIiwgbGVmdCArIG1bM10pXG5cdFx0XHRcdFx0LmF0dHIoXCJ5MlwiLCAobWFpbkhlaWdodCArIG1bMF0pKTtcblx0XHRcdFx0ZXh0ZW50TGluZXNbMV0uYXR0cihcIngxXCIsIHcrbVszXSlcblx0XHRcdFx0XHQuYXR0cihcInkxXCIsIG1bMF0pXG5cdFx0XHRcdFx0LmF0dHIoXCJ4MlwiLCByaWdodCArIG1bM10pXG5cdFx0XHRcdFx0LmF0dHIoXCJ5MlwiLCAobWFpbkhlaWdodCArIG1bMF0pKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR2YXIgc2Nyb2xsRHVyID0gMTUwO1xuXHRcdGZ1bmN0aW9uIG1vdmVCcnVzaChkaXJlY3Rpb24pIHtcblx0XHRcdC8vIGlmIChicnVzaC5lbXB0eSgpIHx8IG1pbkV4dGVudDx0aW1lQmVnaW4gfHwgbWF4RXh0ZW50PnRpbWVFbmQpIHtcblx0XHRcdGlmIChicnVzaC5lbXB0eSgpKSB7XG5cdFx0XHRcdG1pbkV4dGVudCA9ICh0aW1lRW5kICsgdGltZUJlZ2luKSAvIDI7XG5cdFx0XHRcdG1heEV4dGVudCA9ICggKHRpbWVFbmQgKyB0aW1lQmVnaW4pIC8gMiApICsgMTtcblx0XHRcdFx0Y2hhbmdlRXh0ZW50KG1pbkV4dGVudCwgbWF4RXh0ZW50LCAwKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0c3dpdGNoIChkaXJlY3Rpb24pIHtcblx0XHRcdFx0Y2FzZSAnbGVmdCc6XG5cdFx0XHRcdFx0Y2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50LTEpLCBNYXRoLnJvdW5kKG1heEV4dGVudC0xKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdyaWdodCc6XG5cdFx0XHRcdFx0Y2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50KzEpLCBNYXRoLnJvdW5kKG1heEV4dGVudCsxKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICd6b29tSW4nOlxuXHRcdFx0XHRcdGNoYW5nZUV4dGVudChNYXRoLnJvdW5kKG1pbkV4dGVudCsxKSwgTWF0aC5yb3VuZChtYXhFeHRlbnQtMSksIHNjcm9sbER1ciwgXCJsaW5lYXJcIik7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnem9vbU91dCc6XG5cdFx0XHRcdFx0Y2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50LTEpLCBNYXRoLnJvdW5kKG1heEV4dGVudCsxKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgc2Nyb2xsSXRlbXMgPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwic2Nyb2xsSXRlbXNcIilcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIChtYWluSGVpZ2h0KjAuNykgKyBcIilcIik7XG5cdFx0c2Nyb2xsSXRlbXMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImxlZnRBcnJvd1wiKVxuXHRcdFx0LnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxuXHRcdFx0LnRleHQoXCJcXHVmMDYwXCIpXG5cdFx0XHQuYXR0cihcInhcIiwgMClcblx0XHRcdC8vIC5hdHRyKFwieVwiLCBtYWluSGVpZ2h0IC8gMilcblx0XHRcdC8vIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjEuNWVtXCIpXG5cdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gY2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50LTEpLCBNYXRoLnJvdW5kKG1heEV4dGVudC0xKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0bW92ZUJydXNoKCdsZWZ0Jyk7XG5cdFx0XHRcdH0pO1xuXHRcdHNjcm9sbEl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJyaWdodEFycm93XCIpXG5cdFx0XHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHQudGV4dChcIlxcdWYwNjFcIilcblx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblx0XHRcdC5hdHRyKFwieFwiLCB3KVxuXHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIG1haW5IZWlnaHQgLyAyKVxuXHRcdFx0Ly8gLnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMS41ZW1cIilcblx0XHRcdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBjaGFuZ2VFeHRlbnQoTWF0aC5yb3VuZChtaW5FeHRlbnQrMSksIE1hdGgucm91bmQobWF4RXh0ZW50KzEpLCBzY3JvbGxEdXIsIFwibGluZWFyXCIpO1xuXHRcdFx0XHRtb3ZlQnJ1c2goJ3JpZ2h0Jyk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0dmFyIHpvb21JdGVtcyA9IHNjcm9sbEl0ZW1zLmFwcGVuZChcImdcIilcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInpvb21JdGVtc1wiKVxuXHRcdFx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArICh3LW1bMV0tMTApICsgXCIsMzApXCIpXG5cdFx0XHRcdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgLjAxKVxuXHRcdFx0XHRcdFx0XHQub24oXCJtb3VzZW92ZXJcIiwgem9vbU1vdXNlT3Zlcilcblx0XHRcdFx0XHRcdFx0Lm9uKFwibW91c2VvdXRcIiwgem9vbU1vdXNlT3V0KTtcblx0XHQvLyBzY3JvbGxJdGVtcy5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0em9vbUl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ6b29tSW5cIilcblx0XHRcdC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcblx0XHRcdC50ZXh0KFwiXFx1ZjE5NlwiKSAgLy8gaHR0cDovL2ZvbnRhd2Vzb21lLmlvL2ljb24vcGx1cy1zcXVhcmUtby9cblx0XHRcdC8vIC5hdHRyKFwieFwiLCAxMClcblx0XHRcdC8vIC5hdHRyKFwieVwiLCBtYWluSGVpZ2h0IC8gMilcblx0XHRcdC8vIC5hdHRyKFwieFwiLCB3LW1bMV0tMTApXG5cdFx0XHQvLyAuYXR0cihcInlcIiwgMzApXG5cdFx0XHQvLyAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxLjVlbVwiKVxuXHRcdFx0Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIGNoYW5nZUV4dGVudChNYXRoLnJvdW5kKG1pbkV4dGVudCsxKSwgTWF0aC5yb3VuZChtYXhFeHRlbnQtMSksIHNjcm9sbER1ciwgXCJsaW5lYXJcIik7XG5cdFx0XHRcdG1vdmVCcnVzaCgnem9vbUluJylcblx0XHRcdFx0fSk7XG5cdFx0em9vbUl0ZW1zLmFwcGVuZChcInRleHRcIilcblx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJ6b29tT3V0XCIpXG5cdFx0XHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHQudGV4dChcIlxcdWYxNDdcIikgIC8vIGh0dHA6Ly9mb250YXdlc29tZS5pby9pY29uL21pbnVzLXNxdWFyZS1vL1xuXHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIG1haW5IZWlnaHQgLyAyKVxuXHRcdFx0Ly8gLmF0dHIoXCJ4XCIsIHctbVsxXS0xMClcblx0XHRcdC8vIC5hdHRyKFwieVwiLCA1MClcblx0XHRcdC5hdHRyKFwieVwiLCAyMClcblx0XHRcdC8vIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjEuNWVtXCIpXG5cdFx0XHQub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0Ly8gY2hhbmdlRXh0ZW50KE1hdGgucm91bmQobWluRXh0ZW50LTEpLCBNYXRoLnJvdW5kKG1heEV4dGVudCsxKSwgc2Nyb2xsRHVyLCBcImxpbmVhclwiKTtcblx0XHRcdFx0bW92ZUJydXNoKCd6b29tT3V0Jyk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0ZnVuY3Rpb24gem9vbU1vdXNlT3ZlcigpIHtcblx0XHRcdC8vICQoICcuem9vbUluLCAuem9vbU91dCcgKS5mYWRlVG8oNDAwLCAxKTtcblx0XHRcdCQoICcuem9vbUl0ZW1zJyApLnN0b3AoKS5mYWRlVG8oNDAwLCAxKTtcblx0XHR9XG5cdFx0ZnVuY3Rpb24gem9vbU1vdXNlT3V0KCkge1xuXHRcdFx0Ly8gJCggJy56b29tSW4sIC56b29tT3V0JyApLmZhZGVUbyg0MDAsIC4wMSk7XG5cdFx0XHQkKCAnLnpvb21JdGVtcycgKS5zdG9wKCkuZmFkZVRvKDQwMCwgLjAxKTtcblx0XHR9XG5cblx0XHQvLyBJY29uIHRvIGNsZWFyIHRoZSBicnVzaC4gRmluaXNoIGluaXRpYWxpemluZyBpdCBpbiBkaXNwbGF5KClcblx0XHQvLyB2YXIgY2xlYXJCcnVzaEljb24gPSBkMy5zZWxlY3QoXCIuYnJ1c2hcIikuYXBwZW5kKFwidGV4dFwiKVxuXHRcdHZhciBjbGVhckJydXNoSWNvbiA9IG1pbmkuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImNsZWFyQnJ1c2hJY29uXCIpXG5cdFx0XHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHQuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxZW1cIilcblx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcblx0XHRcdC5hdHRyKFwidGl0bGVcIiwgXCJDbGVhciB0aGUgdGltZWxpbmUgaW4gb3JkZXIgdG8gZHJhdyBhIG5ldyByZWdpb25cIilcblx0XHRcdC50ZXh0KFwiXFx1ZjAwZFwiKTtcblxuXHRcdGNoYXJ0Lm9uKFwid2hlZWwuem9vbVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKGQzLmV2ZW50LndoZWVsRGVsdGFZPjApIHtcblx0XHRcdFx0XHRtb3ZlQnJ1c2goJ3pvb21JbicpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGQzLmV2ZW50LndoZWVsRGVsdGFZPDApIHtcblx0XHRcdFx0XHRtb3ZlQnJ1c2goJ3pvb21PdXQnKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoZDMuZXZlbnQud2hlZWxEZWx0YVg+MCkge1xuXHRcdFx0XHRcdG1vdmVCcnVzaCgnbGVmdCcpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGQzLmV2ZW50LndoZWVsRGVsdGFYPDApIHtcblx0XHRcdFx0XHRtb3ZlQnJ1c2goJ3JpZ2h0Jyk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0Ly8gaW5pdGlhbGl6ZSBicnVzaFxuXHRcdHZhciBtaWRwb2ludFllYXIgPSAoIHRpbWVFbmQgKyB0aW1lQmVnaW4gKSAvIDIsXG5cdFx0XHRicnVzaEluaXQgPSBbbWlkcG9pbnRZZWFyLCBtaWRwb2ludFllYXJdO1xuXHRcblx0XHQvLyBicnVzaC5leHRlbnQoYnJ1c2hJbml0KTtcblx0XHRtaW5pLnNlbGVjdChcIi5icnVzaFwiKS5jYWxsKGJydXNoLmV4dGVudChicnVzaEluaXQpKTtcblxuXHRcdGRpc3BsYXkoKTtcblx0XHRcblx0XHQkKCBkb2N1bWVudCApLnRyaWdnZXIoIFwidGltZWxpbmVWaXM6aW5pdENvbXBsZXRlXCIgKTtcblxuXG5cdFx0Ly8gLy8gSSdtIG5vdCBzdXJlIHRoZXJlJ3MgYSB3YXkgdG8gdXNlIGQzIHRyYW5zaXRpb25zIHRvIGNvbnRyb2wgdGhlIGJydXNoLCBidXQgaGVyZSdzIGEgaGFja3kgd2F5IG9mIGRvaW5nIGl0IG1hbnVhbGx5LlxuXHRcdC8vIHZhciBkbHkgPSAzMDtcblx0XHQvLyBmdW5jdGlvbiBicnVzaFRyYW5zaXRpb24oZGx5KSB7XG5cdFx0Ly8gXHRjdXJyRXh0ZW50ID0gW2JydXNoLmV4dGVudCgpWzBdLCBicnVzaC5leHRlbnQoKVsxXV07XG5cdFx0Ly8gXHRicnVzaChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGRseSkuY2FsbChkaXNwbGF5KSk7XG5cdFx0Ly8gXHQvLyBicnVzaC5ldmVudChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmRlbGF5KGRseSkuZHVyYXRpb24oMCkpO1xuXHRcdC8vIH1cblx0XHQvLyAvLyBicnVzaC5leHRlbnQoWzE5NzAsMjAwMF0pO1xuXHRcdC8vIHZhciBtaW5FeHRlbnQgPSBicnVzaC5leHRlbnQoKVswXSxcblx0XHQvLyBcdG1heEV4dGVudCA9IGJydXNoLmV4dGVudCgpWzFdO1xuXHRcdC8vIHZhciBkZXN0aW5hdGlvbkV4dGVudCA9IDE5OTg7XG5cdFx0Ly8gdmFyIGkgPSBtYXhFeHRlbnQ7XG5cdFx0Ly8gdmFyIHJlZnJlc2hJbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG5cdFx0Ly8gXHQgICBcdGkgPSBpICsgMC4yO1xuXHRcdC8vIFx0XHRicnVzaC5leHRlbnQoW21pbkV4dGVudCwgaV0pO1xuXHRcdC8vIFx0XHRicnVzaFRyYW5zaXRpb24oZGx5KTtcblx0XHQvLyBcdFx0aWYgKGkgPj0gZGVzdGluYXRpb25FeHRlbnQpIHtcblx0XHQvLyBcdFx0XHRjbGVhckludGVydmFsKHJlZnJlc2hJbnRlcnZhbElkKTtcblx0XHQvLyBcdFx0fVxuXHRcdC8vIFx0fSwgZGx5KTtcblxuXHRcdC8vIC8vIGF0dGVtcHQgdG8gdXNlIHR3ZWVuIGZ1bmN0aW9uIHRvIGRvIGl0LiBub3QgcmVhbGx5IHdvcmtpbmdcblx0XHQvLyBicnVzaC5leHRlbnQoWzE5NzAsIDIwMDVdKTtcblx0XHQvLyBicnVzaChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMDApXG5cdFx0Ly8gXHRcdC50d2VlbihcInNpZGUtZWZmZWN0c1wiLCBmdW5jdGlvbigpIHsgcmV0dXJuIGZ1bmN0aW9uKHQsIHR0LCB0dHQpIHsgY29uc29sZS5sb2coYnJ1c2guZXh0ZW50KClbMF0pO1xuXHRcdC8vIFx0XHRcdGJydXNoLmV2ZW50KGQzLnNlbGVjdChcIi5icnVzaFwiKS50cmFuc2l0aW9uKCkuZGVsYXkodCkuZHVyYXRpb24oMCkpO1xuXHRcdC8vIFx0XHR9O30pKTtcblx0XHQvLyBicnVzaChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApKTtcblx0XHQvLyBicnVzaC5ldmVudChkMy5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmRlbGF5KDEwMDApLmR1cmF0aW9uKDApKTtcblxuXG5cdFx0ZnVuY3Rpb24gY2hhbmdlRXh0ZW50KHllYXIxLCB5ZWFyMiwgZHVyYXRpb24sIGVhc2UsIGRlbGF5KSB7XG5cdFx0XHRpZiAoZHVyYXRpb24gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRkdXJhdGlvbiA9IDEwMDA7XG5cdFx0XHR9XG5cdFx0XHRpZiAoZWFzZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGVhc2UgPSBcImN1YmljLWluLW91dFwiO1xuXHRcdFx0fVxuXHRcdFx0aWYgKGRlbGF5ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0ZGVsYXkgPSAwO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHllYXIxIDwgdGltZUJlZ2luKSB7XG5cdFx0XHRcdHllYXIxID0gdGltZUJlZ2luO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHllYXIyID4gdGltZUVuZCkge1xuXHRcdFx0XHR5ZWFyMiA9IHRpbWVFbmQ7XG5cdFx0XHR9XG5cdFx0XHRicnVzaC5ldmVudChtaW5pLnNlbGVjdChcIi5icnVzaFwiKS50cmFuc2l0aW9uKCkuZGVsYXkoZGVsYXkpLmR1cmF0aW9uKGR1cmF0aW9uKS5lYXNlKGVhc2UpLmNhbGwoYnJ1c2guZXh0ZW50KFt5ZWFyMSwgeWVhcjJdKSkpO1xuXG5cdFx0fVxuXHRcdC8vXG5cdFx0Ly8gVGhpcyB3b3JrcyEgKGFmdGVyIG1vZGlmeWluZyB0aGUgZGlzcGxheSgpIGZ1bmN0aW9uLiBzZWUgdGhlIG5vdGUgYXQgdGhlIHRvcCBvZiBkaXNwbGF5KCkpXG5cdFx0Ly8gYnJ1c2guZXZlbnQobWluaS5zZWxlY3QoXCIuYnJ1c2hcIikudHJhbnNpdGlvbigpLmRlbGF5KDEwMDApLmR1cmF0aW9uKDEwMDApLmNhbGwoYnJ1c2guZXh0ZW50KFsxOTcwLCAyMDAwXSkpXG5cdFx0Ly8gXHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge2NvbnNvbGUubG9nKFwiaW5pdGlhbGl6ZWRcIik7fSkpO1xuXHRcdC8vIHZhciBpbml0RHVyYXRpb24gPSAxMDAwLFxuXHRcdC8vIFx0aW5pdERlbGF5ID0gMTAwMDtcblx0XHQvLyBjaGFuZ2VFeHRlbnQoMTk3MCwgMjAwMCwgaW5pdER1cmF0aW9uLCBcImN1YmljLWluLW91dFwiLCBpbml0RGVsYXkpO1xuXHRcdC8vIGQzLnRyYW5zaXRpb24oXCJpbml0RGVtb1RyYW5zaXRpb25cIikuZGVsYXkoaW5pdERlbGF5ICsgaW5pdER1cmF0aW9uKVxuXHRcdC8vIFx0LmVhY2goXCJlbmRcIiwgZGVtb0V4cGFuZCk7XG5cdFx0Ly8gZGVtb0luaXQoKTtcblxuXHRcdC8vIG5vdCB1c2luZyB0aGlzIGN1cnJlbnRseVxuXHRcdGZ1bmN0aW9uIGV4cGFuZEFsbCgpIHtcblx0XHRcdGV4cGFuZChwYXBlckl0ZW1zKTtcblx0XHR9XG5cdFx0dmFyIG1heEVGID0gZDMubWF4KGRhdGFfdG90YWwsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5laWdlbmZhY3Rvcjt9KTtcblxuXHRcdGZ1bmN0aW9uIGNsZWFyQnJ1c2goKSB7XG5cdFx0XHR2YXIgbWlkID0gKGJydXNoLmV4dGVudCgpWzFdICsgYnJ1c2guZXh0ZW50KClbMF0pIC8gMjtcblx0XHRcdGNoYW5nZUV4dGVudChtaWQsIG1pZCwgMCk7XG5cdFx0fVxuXHRcdFxuXHRcdGZ1bmN0aW9uIGRpc3BsYXkoKSB7XG5cdFx0XHQvLyBub3RlOiBjYWxjdWxhdGluZyB0aGUgYnJ1c2ggZXh0ZW50IHVzaW5nIGJydXNoLmV4dGVudCgpIGRvZXNuJ3QgcmVhbGx5IHdvcmsgaGVyZSAod2l0aCB0cmFuc2l0aW9uIHRpY2tzKVxuXHRcdFx0Ly8gYmVjYXVzZSBpdCBnb2VzIHRoZSBmaW5hbCBleHRlbnQgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHRyYW5zaXRpb24uXG5cdFx0XHQvLyBTbyBpbnN0ZWFkLCBnZXQgdGhlIG1lYXN1cmVtZW50cyBvZiB0aGUgYnJ1c2ggZWxlbWVudCBhbmQgY2FsY3VsYXRlIHRoZSBleHRlbnQgdXNpbmcgdGhlIHNjYWxlICh4LmludmVydCgpKVxuXHRcdFx0dmFyIGV4dGVudFNlbGVjdCA9IG1pbmkuc2VsZWN0KFwiLmJydXNoXCIpLnNlbGVjdChcIi5leHRlbnRcIik7XG5cdFx0XHR2YXIgbWluRXh0ZW50U2NyZWVuID0gK2V4dGVudFNlbGVjdC5hdHRyKFwieFwiKTtcblx0XHRcdHZhciBtYXhFeHRlbnRTY3JlZW4gPSBtaW5FeHRlbnRTY3JlZW4gKyAoK2V4dGVudFNlbGVjdC5hdHRyKFwid2lkdGhcIikpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coeC5pbnZlcnQobWF4RXh0ZW50U2NyZWVuKSk7XG5cdFx0XHQvLyB2YXIgbWluRXh0ZW50ID0gYnJ1c2guZXh0ZW50KClbMF0sXG5cdFx0XHQvLyBcdG1heEV4dGVudCA9IGJydXNoLmV4dGVudCgpWzFdLFxuXHRcdFx0bWluRXh0ZW50ID0geC5pbnZlcnQobWluRXh0ZW50U2NyZWVuKTtcblx0XHRcdG1heEV4dGVudCA9IHguaW52ZXJ0KG1heEV4dGVudFNjcmVlbik7XG5cblxuXG5cdFx0XHQvLyBoaWRlIGFycm93cyBpZiB5b3UgY2FuJ3QgZ28gYW55IGZ1cnRoZXJcblx0XHRcdGlmIChtaW5FeHRlbnQgPD0gdGltZUJlZ2luKSB7XG5cdFx0XHRcdGQzLnNlbGVjdChcIi5sZWZ0QXJyb3dcIikuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGQzLnNlbGVjdChcIi5sZWZ0QXJyb3dcIikuc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG1heEV4dGVudCA+PSB0aW1lRW5kKSB7XG5cdFx0XHRcdGQzLnNlbGVjdChcIi5yaWdodEFycm93XCIpLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkMy5zZWxlY3QoXCIucmlnaHRBcnJvd1wiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJcIik7XG5cdFx0XHR9XG5cdFx0XHQvLyBoaWRlIHRoZSB6b29tSW4gYnV0dG9uIGlmIHdlJ3JlIHpvb21lZCBpbiB0b28gZmFyXG5cdFx0XHRpZiAobWF4RXh0ZW50IC0gbWluRXh0ZW50IDw9IDIpIHtcblx0XHRcdFx0Ly8gZDMuc2VsZWN0KFwiLnpvb21JblwiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRkMy5zZWxlY3QoXCIuem9vbUluXCIpLmNsYXNzZWQoXCJoaWRkZW5cIiwgdHJ1ZSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBkMy5zZWxlY3QoXCIuem9vbUluXCIpLnN0eWxlKFwiZGlzcGxheVwiLCBcIlwiKTtcblx0XHRcdFx0ZDMuc2VsZWN0KFwiLnpvb21JblwiKS5jbGFzc2VkKFwiaGlkZGVuXCIsIGZhbHNlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGJydXNoLmVtcHR5KCkpIHtcblx0XHRcdFx0Y2xlYXJCcnVzaEljb24uc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblx0XHRcdFx0ZDMuc2VsZWN0KFwiLmxlZnRBcnJvd1wiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRkMy5zZWxlY3QoXCIucmlnaHRBcnJvd1wiKS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y2xlYXJCcnVzaEljb24uc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpXG5cdFx0XHRcdFx0LnN0eWxlKFwib3BhY2l0eVwiLCAwKVxuXHRcdFx0XHRcdC8vIC5zdHlsZShcInotaW5kZXhcIiwgLTk5KVxuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIGNvbnN0cnVjdFRyYW5zbGF0ZShtYXhFeHRlbnRTY3JlZW4tMiwgMTUpKVxuXHRcdFx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMzAwKVxuXHRcdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgLjQpO1xuXHRcdFx0XHRjbGVhckJydXNoSWNvbi5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGNsZWFyQnJ1c2goKTtcblx0XHRcdFx0XHRjb250cmFjdCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXG5cblx0XHRcdC8vIEhpZGUgbWFpbiBpdGVtcyBpZiB0aGUgYnJ1c2ggaXMgZW1wdHlcblx0XHRcdGlmIChicnVzaC5lbXB0eSgpKSB7XG5cdFx0XHRcdC8vIHllYXJJdGVtcy5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHQvLyBjaGFuZ2VFeHRlbnQodGltZUJlZ2luLCB0aW1lRW5kLCAwKTtcblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gc2hvdyBhbGwgbWFpbiBpdGVtcywgYnV0IGtlZXAgdGhlIGJydXNoIGhpZGRlblxuXHRcdFx0XHR1cGRhdGVNYWluKHRpbWVCZWdpbix0aW1lRW5kKTtcblx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlbW92ZSB0aGUgZXh0ZW50IGxpbmVzOlxuXHRcdFx0XHR1cGRhdGVFeHRlbnRMaW5lcygpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gZDMuc2VsZWN0KFwiLmJydXNoXCIpLmF0dHIoXCJkaXNwbGF5XCIsIFwiXCIpO1xuXHRcdFx0XHR1cGRhdGVNYWluKG1pbkV4dGVudCwgbWF4RXh0ZW50KTtcblx0XHRcdFx0dXBkYXRlRXh0ZW50TGluZXMobWluRXh0ZW50U2NyZWVuLCBtYXhFeHRlbnRTY3JlZW4pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHVwZGF0ZU1haW4obWluRXh0ZW50LCBtYXhFeHRlbnQpIHtcblx0XHRcdFxuXHRcdFx0c3dpdGNoIChtYXJrVHlwZSkge1xuXHRcdFx0XHRjYXNlICdjaXJjbGUnOlxuXHRcdFx0XHRcdHZhciB2aXNJdGVtcyA9IHllYXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXIgPCBtYXhFeHRlbnQgJiYgZC55ZWFyID4gbWluRXh0ZW50O30pXG5cdFx0XHRcdFx0dmFyIG5vdFZpc0l0ZW1zID0geWVhckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQueWVhcj49IG1heEV4dGVudCB8fCBkLnllYXIgPD0gbWluRXh0ZW50O30pO1xuXHRcdFx0XHRcdHZpc0l0ZW1zLnN0eWxlKFwiZGlzcGxheVwiLCBcIlwiKTtcblx0XHRcdFx0XHRub3RWaXNJdGVtcy5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKGJydXNoLmV4dGVudCgpKTtcblxuXHRcdFx0XHRcdC8vIG1pbmkuc2VsZWN0KFwiLmJydXNoXCIpXG5cdFx0XHRcdFx0Ly8gXHQuY2FsbChicnVzaC5leHRlbnQoW21pbkV4dGVudCwgbWF4RXh0ZW50XSkpO1xuXHRcdFx0XHRcdC8vIGNvbnNvbGUubG9nKG1heEV4dGVudC1taW5FeHRlbnQpO1xuXG5cdFx0XHRcdFx0eDEuZG9tYWluKFttaW5FeHRlbnQsIG1heEV4dGVudF0pO1xuXG5cdFx0XHRcdFx0Ly8gdXBkYXRlIHN0eWxlcyBvZiBtaW5pIGl0ZW1zIHRoYXQgYXJlIHZpc2libGUgaW4gdGhlIG1haW4gZGlzcGxheS5cblx0XHRcdFx0XHQvLyByZXNldCBhbGwgdG8gbm9ybWFsLCB0aGVuIHN0eWxlIGp1c3QgdGhlIHZpc2libGUgb25lc1xuXHRcdFx0XHRcdC8vIG1pbmlJdGVtcy5zdHlsZShzdHlsZXNCYXNlKTtcblx0XHRcdFx0XHRtaW5pSXRlbXMuc3R5bGUoc3R5bGVzVmlzaWJsZSk7XG5cdFx0XHRcdFx0bWluaUl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhtaW5FeHRlbnQpO1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR2aXNJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGRkKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChkLmlkPT1kZC5maXJzdFRpdGxlKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdFx0XHRcdH0pLnN0eWxlKHN0eWxlc1Zpc2libGUpO1xuXG5cdFx0XHRcdFx0Ly91cGRhdGUgbWFpbiBpdGVtIG1hcmtzXG5cdFx0XHRcdFx0dmlzSXRlbXMuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRkLnggPSB4MShkLnllYXIpO1xuXHRcdFx0XHRcdFx0ZC55ID0geTEoZC5sYW5lKSArIG1haW5NaW5SYWQ7XG5cdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0eWVhck1hcmtzLmF0dHIoXCJyXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC5yYWRpdXM7fSk7XG5cblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRjYXNlICdpY29uJzpcblx0XHRcdFx0XHR2YXIgdmlzSXRlbXMgPSB5ZWFySXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyIDwgbWF4RXh0ZW50ICYmIGQueWVhciA+IG1pbkV4dGVudDt9KVxuXHRcdFx0XHRcdHZhciBub3RWaXNJdGVtcyA9IHllYXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI+PSBtYXhFeHRlbnQgfHwgZC55ZWFyIDw9IG1pbkV4dGVudDt9KTtcblx0XHRcdFx0XHR2aXNJdGVtcy5zdHlsZShcImRpc3BsYXlcIiwgXCJcIik7XG5cdFx0XHRcdFx0bm90VmlzSXRlbXMuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhicnVzaC5leHRlbnQoKSk7XG5cblx0XHRcdFx0XHQvLyBtaW5pLnNlbGVjdChcIi5icnVzaFwiKVxuXHRcdFx0XHRcdC8vIFx0LmNhbGwoYnJ1c2guZXh0ZW50KFttaW5FeHRlbnQsIG1heEV4dGVudF0pKTtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhtYXhFeHRlbnQtbWluRXh0ZW50KTtcblx0XHRcdFx0XHQvLyB1cGRhdGVFeHRlbnRMaW5lcyhtaW5FeHRlbnRTY3JlZW4sIG1heEV4dGVudFNjcmVlbik7XG5cblx0XHRcdFx0XHR4MS5kb21haW4oW21pbkV4dGVudCwgbWF4RXh0ZW50XSk7XG5cblx0XHRcdFx0XHQvLyB1cGRhdGUgc3R5bGVzIG9mIG1pbmkgaXRlbXMgdGhhdCBhcmUgdmlzaWJsZSBpbiB0aGUgbWFpbiBkaXNwbGF5LlxuXHRcdFx0XHRcdC8vIHJlc2V0IGFsbCB0byBub3JtYWwsIHRoZW4gc3R5bGUganVzdCB0aGUgdmlzaWJsZSBvbmVzXG5cdFx0XHRcdFx0bWluaUl0ZW1zLnN0eWxlKHN0eWxlc0Jhc2UpO1xuXHRcdFx0XHRcdG1pbmlJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0dmFyIG1hdGNoID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR2aXNJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGRkKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChkLmlkPT1kZC5maXJzdFRpdGxlKSB7XG5cdFx0XHRcdFx0XHRcdFx0bWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdHJldHVybiBtYXRjaDtcblx0XHRcdFx0XHRcdH0pLnN0eWxlKHN0eWxlc1Zpc2libGUpO1xuXG5cdFx0XHRcdFx0Ly91cGRhdGUgbWFpbiBpdGVtIG1hcmtzXG5cdFx0XHRcdFx0dmlzSXRlbXMuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHQvLyBkLnggPSB4MShkLnllYXIpIC0gMTA7XG5cdFx0XHRcdFx0XHRkLnggPSB4MShkLnllYXIpO1xuXHRcdFx0XHRcdFx0ZC55ID0geTEoZC5sYW5lKSArIDIwO1xuXHRcdFx0XHRcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjtcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdHBhcGVyTWFya3MuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC5pZHgvMiArIFwiLFwiICsgZC5pZHgqMyArIFwiKVwiO1xuXHRcdFx0XHRcdFx0XHRcdC8vIHJldHVybiBcInRyYW5zbGF0ZShcIiArIFwiMFwiICsgXCIsXCIgKyBkLmlkeCozICsgXCIpXCI7XG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQuc3R5bGUoXCJmaWxsXCIsIFwiYmxhY2tcIilcblx0XHRcdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcblx0XHRcdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjEuNWVtXCIpO1xuXHRcdFx0XHRcdFx0Ly8gLnN0eWxlKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uKGQpIHtyZXR1cm4gKGQucmFkaXVzLzEwKSArIFwiZW1cIjt9KTtcblxuXHRcdFx0XHRcdHBhcGVySXRlbXMuZWFjaChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHR2YXIgaXRlbSA9IGQzLnNlbGVjdCh0aGlzKTtcblx0XHRcdFx0XHRcdHZhciBtID0gaXRlbS5zZWxlY3QoXCIucGFwZXJNYXJrXCIpO1xuXHRcdFx0XHRcdFx0dmFyIGJib3ggPSBtLm5vZGUoKS5nZXRCQm94KCk7XG5cdFx0XHRcdFx0XHRpdGVtLnNlbGVjdChcInJlY3RcIilcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ4XCIsIGJib3gueClcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ5XCIsIGJib3gueSlcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoKVxuXHRcdFx0XHRcdFx0XHQuYXR0cihcImhlaWdodFwiLCBiYm94LmhlaWdodClcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgbS5hdHRyKFwidHJhbnNmb3JtXCIpKVxuXHRcdFx0XHRcdFx0XHQuc3R5bGUoXCJmaWxsXCIsIFwid2hpdGVcIik7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhtLmF0dHIoXCJ0cmFuc2Zvcm1cIikpO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFxuXHRcdFx0fVxuXG5cblx0XHRcdC8vdXBkYXRlIHRoZSBpdGVtIGxhYmVsc1xuXHRcdFx0Ly8gdmFyIHJvdGF0ZSA9IC0yMDtcblx0XHRcdGZ1bmN0aW9uIF9yb3RhdGUocm90YXRpb24pIHtcblx0XHRcdFx0bGFiZWxzLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyBcblx0XHRcdFx0XHRyZXR1cm4gXCJyb3RhdGUoXCIgKyByb3RhdGlvbiArIFwiLFwiICsgZC54ICsgXCIsXCIgKyBkLnkgKyBcIilcIjsgXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdFx0Ly8gY29uc3RyYWludCByZWxheGF0aW9uXG5cdFx0XHQvLyBodHRwOi8vYmwub2Nrcy5vcmcvc3ludGFnbWF0aWMvNDA1MzA5NlxuXHRcdFx0dmFyIGFscGhhID0gMTtcblx0XHRcdHZhciBzcGFjaW5nID0gMTU7XG5cdFx0XHRmdW5jdGlvbiByZWxheChsYWJlbHMpIHtcblx0XHRcdFx0Ly8gTW92ZSB0ZXh0IGlmIG92ZXJsYXBwaW5nIChyZWN1cnNpdmVseSlcblx0XHRcdFx0dmFyIGFnYWluID0gZmFsc2U7XG5cdFx0XHRcdGxhYmVscy5lYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkMy5zZWxlY3QodGhpcykuYXR0cihcInhcIikpO1xuXHRcdFx0XHRcdHZhciBhID0gdGhpcztcblx0XHRcdFx0XHR2YXIgZGEgPSBkMy5zZWxlY3QoYSk7XG5cdFx0XHRcdFx0dmFyIGF4ID0gZGEuYXR0cihcInhcIik7XG5cdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coYXgpO1xuXHRcdFx0XHRcdGxhYmVscy5lYWNoKGZ1bmN0aW9uKGRkKSB7XG5cdFx0XHRcdFx0XHR2YXIgYiA9IHRoaXM7XG5cdFx0XHRcdFx0XHQvLyBpZiAoYSA9PSBiKSB7XG5cdFx0XHRcdFx0XHQvLyBcdHJldHVybjtcblx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdHZhciBkYiA9IGQzLnNlbGVjdChiKTtcblx0XHRcdFx0XHRcdHZhciBieCA9IGRiLmF0dHIoXCJ4XCIpO1xuXHRcdFx0XHRcdFx0dmFyIGRlbHRhWCA9IGF4IC0gYng7XG5cdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkZWx0YVgpO1xuXHRcdFx0XHRcdFx0Ly8gaWYgKE1hdGguYWJzKGRlbHRhWCkgPiBzcGFjaW5nKSB7XG5cdFx0XHRcdFx0XHQvLyBcdHJldHVybjtcblx0XHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRcdGlmICggKGEgIT0gYikgJiYgTWF0aC5hYnMoZGVsdGFYKSA8IHNwYWNpbmcpIHtcblx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGVsdGFYKTtcblx0XHRcdFx0XHRcdFx0Ly8gY29sbGlzaW9uIGRldGVjdGVkXG5cdFx0XHRcdFx0XHRcdGFnYWluID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0dmFyIHNpZ24gPSBkZWx0YVggPiAwID8gMSA6IC0xO1xuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhhKTtcblx0XHRcdFx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGIuYXR0cihcInhcIikpO1xuXHRcdFx0XHRcdFx0XHRkLnggPSArYXggKyAoc2lnbiphbHBoYSk7XG5cdFx0XHRcdFx0XHRcdGRkLnggPSArYnggLSAoc2lnbiphbHBoYSk7XG5cdFx0XHRcdFx0XHRcdGRhLmF0dHIoXCJ4XCIsIGQueCk7XG5cdFx0XHRcdFx0XHRcdGRiLmF0dHIoXCJ4XCIsIGRkLngpO1xuXHRcdFx0XHRcdFx0XHQvLyBkMy5zZWxlY3QodGhpcykuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSg1MDAsIDApXCIpO1xuXHRcdFx0XHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkYi5hdHRyKFwieFwiKSk7XG5cdFx0XHRcdFx0XHRcdC8vIGQueCArPSBzaWduKmFscGhhO1xuXHRcdFx0XHRcdFx0XHQvLyBhLnggKz0gMTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmIChhZ2Fpbikge1xuXHRcdFx0XHRcdC8vIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0Ly8gXHRyZWxheChsYWJlbHMpO1xuXHRcdFx0XHRcdC8vIH0sIDIpO1xuXHRcdFx0XHRcdHJlbGF4KGxhYmVscyk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0X3JvdGF0ZSgtMjApO1xuXHRcdFx0XHRcdC8vXG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdFx0Ly8gbGFiZWxzID0gaXRlbVJlY3RzLnNlbGVjdEFsbChcIi55ZWFySXRlbUxhYmVsXCIpXG5cdFx0XHQvLyBcdC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7ZC54ID0geDEoTWF0aC5tYXgoZC5rZXksIG1pbkV4dGVudCkpOyByZXR1cm4gZC54O30pXG5cdFx0XHQvLyBcdC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7ZC55ID0gZC5jeTsgcmV0dXJuIGQueTt9KVxuXHRcdFx0Ly8gXHQuZGF0YSh2aXNJdGVtcyk7XG5cdFx0XHQvLyBcdC8vIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIHgxKE1hdGgubWF4KGQuc3RhcnQsIG1pbkV4dGVudCkgKyAyKTt9KTtcblx0XHRcdC8vIFx0Ly8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gXCJyb3RhdGUoXCIgKyByb3RhdGUgKyBcIixcIiArIGQueCArIFwiLFwiICsgZC55ICsgXCIpXCI7IH0pO1xuXHRcdFx0Ly9cblx0XHRcdC8vIGxhYmVscy5lbnRlcigpLmFwcGVuZChcInRleHRcIilcblx0XHRcdC8vIFx0LnRleHQoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXIgKyBcIjogXCIgKyBkLnZhbHVlcy5sZW5ndGggKyBcIiBwYXBlcnNcIjt9KVxuXHRcdFx0Ly8gXHQuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkge2QueCA9IHgxKE1hdGgubWF4KGQua2V5LCBtaW5FeHRlbnQpKTsgcmV0dXJuIGQueDt9KVxuXHRcdFx0Ly8gXHQvLyAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge2QueSA9IHkxKGQubGFuZSArIC41KTsgcmV0dXJuIGQueTt9KVxuXHRcdFx0Ly8gXHQvLyAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge2QueSA9IHkxKGQubGFuZSkrcmFkOyByZXR1cm4gZC55O30pXG5cdFx0XHQvLyBcdC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7ZC55ID0gZC5jeTsgcmV0dXJuIGQueTt9KVxuXHRcdFx0Ly8gXHQuYXR0cihcImNsYXNzXCIsIFwieWVhckl0ZW1MYWJlbFwiKVxuXHRcdFx0Ly8gXHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cdFx0XHQvLyBcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIFwicm90YXRlKFwiICsgcm90YXRlICsgXCIsXCIgKyBkLnggKyBcIixcIiArIGQueSArIFwiKVwiOyB9KVxuXHRcdFx0Ly8gXHQub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdC8vIFx0XHRcdGNvbnNvbGUubG9nKGQueCk7XG5cdFx0XHQvLyBcdFx0fSk7XG5cdFx0XHQvL1xuXHRcdFx0Ly9cblx0XHRcdC8vIGxhYmVscy5leGl0KCkucmVtb3ZlKCk7XG5cblx0XHRcdC8vdXBkYXRlIGF4aXNcblx0XHRcdHhBeGlzTWFpbk9iai5jYWxsKHhBeGlzTWFpbik7XG5cblx0XHRcdC8vIC8vIG9ubHkgdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIChvciBub25lKVxuXHRcdFx0Ly8gX3JvdGF0ZSgtMjApO1xuXHRcdFx0Ly8gcmVsYXgobGFiZWxzKTtcblx0XHRcdC8vXG5cdFx0XHQvLyBjb25zb2xlLmxvZygkKCcubWFpbkNsaXBQYXRoJylbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coJCgnLmNoYXJ0JylbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuXHRcdFx0bGFiZWxzQ29sbGlzaW9uRGV0ZWN0KCk7XG5cblx0XHR9XG5cdFx0XG5cdFx0dmFyIGFmdGVyVHJhbnNpdGlvblggPSBmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHQvLyByZXR1cm4geDEoK2QueWVhcikgKyAoKGkqaSkqMyk7XG5cdFx0XHRyZXR1cm4gKGkqaSkqMztcblx0XHR9O1xuXHRcdHZhciBhZnRlclRyYW5zaXRpb25ZID0gZnVuY3Rpb24oZCwgaSkge1xuXHRcdFx0Ly8gcmV0dXJuIHkxKGQubGFuZSkgKyAyLjIqcmFkKmkrNSpyYWQ7XG5cdFx0XHRyZXR1cm4gMi4xKm1haW5NaW5SYWQqaSszKm1haW5NaW5SYWQ7XG5cdFx0fTtcblx0XHQvLyBmdW5jdGlvbiBleHBhbmQoeWVhckRhdGEpIHtcblx0XHRmdW5jdGlvbiBleHBhbmQoc2VsLCB5ZWFySXRlbSkge1xuXHRcdFx0dmFyIHRoaXNZZWFyID0gc2VsLmF0dHIoXCJkYXRhLXllYXJcIik7XG5cdFx0XHR2YXIgdGhpc1llYXJJdGVtID0geWVhckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQueWVhcj09dGhpc1llYXJ9KTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKHRoaXNZZWFySXRlbSk7XG5cdFx0XHQvLyBjb250cmFjdCgpO1xuXHRcdFx0dmFyIGR1ciA9IDUwMDtcblx0XHRcdC8vIHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkKSB7cmV0dXJuIGQueWVhcj09PXllYXJEYXRhLnllYXJ9KTtcblx0XHRcdHZhciB0cmFuc2l0aW9uU3RhcnRTdHlsZSA9IHsncG9pbnRlci1ldmVudHMnOiAnbm9uZScsICdjdXJzb3InOiAnZGVmYXVsdCd9LFxuXHRcdFx0XHR0cmFuc2l0aW9uRW5kU3R5bGUgPSB7J3BvaW50ZXItZXZlbnRzJzogJ2F1dG8nLCAnY3Vyc29yJzogJ3BvaW50ZXInfTtcblx0XHRcdC8vIHNlbC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKVxuXHRcdFx0dmFyIGxpbmUgPSBkMy5zdmcubGluZSgpLngoZnVuY3Rpb24oZCkge3JldHVybiBkWzBdfSkueShmdW5jdGlvbihkKSB7cmV0dXJuIGRbMV19KTtcblx0XHRcdC8vIGxpbmVkYXRhIHdpbGwgYmUgYW4gYXJyYXkgb2YgW3gsIHldIHZhbHVlcyB0aGF0IHN0YXJ0IGF0IHRoZSB5ZWFyIGNpcmNsZSBhbmQgdHJhY2sgdGhlIHBhcGVyIGNpcmNsZXNcblx0XHRcdHZhciBsaW5lZGF0YSA9IFtdO1xuXHRcdFx0bGluZWRhdGEucHVzaChbMCwwXSk7XG5cdFx0XHRzZWwuc3R5bGUodHJhbnNpdGlvblN0YXJ0U3R5bGUpXG5cdFx0XHRcdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdFx0bGluZWRhdGEucHVzaChbYWZ0ZXJUcmFuc2l0aW9uWChkLCBpKSwgYWZ0ZXJUcmFuc2l0aW9uWShkLCBpKV0pO1xuXHRcdFx0XHRcdHJldHVybiBcInRyYW5zbGF0ZShcIiArIGFmdGVyVHJhbnNpdGlvblgoZCwgaSkgKyBcIixcIiArIGFmdGVyVHJhbnNpdGlvblkoZCwgaSkgKyBcIilcIjtcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVhY2goXCJzdGFydFwiLCBmdW5jdGlvbigpIHtkMy5zZWxlY3QodGhpcykuY2xhc3NlZChcImV4cGFuZGVkXCIsIHRydWUpfSlcblx0XHRcdFx0Ly8gLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7ZDMuc2VsZWN0KHRoaXMpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJhdXRvXCIpO30pO1xuXHRcdFx0XHQuZWFjaChcImVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRkMy5zZWxlY3QodGhpcykuc3R5bGUodHJhbnNpdGlvbkVuZFN0eWxlKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyAuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLCBcImF1dG9cIik7XG5cdFx0XHRzZWwuc2VsZWN0QWxsKFwiLnBhcGVyTWFya1wiKS50cmFuc2l0aW9uKCkuZHVyYXRpb24oZHVyKVxuXHRcdFx0XHRcdFx0XHQvLyAuc3R5bGUoXCJmb250LXNpemVcIiwgZnVuY3Rpb24oZCkge3JldHVybiAoZC5yYWRpdXMvMTApICsgXCJlbVwiO30pXG5cdFx0XHRcdC5zdHlsZVR3ZWVuKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZDMuaW50ZXJwb2xhdGUoXG5cdFx0XHRcdFx0XHRcdHRoaXMuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSxcblx0XHRcdFx0XHRcdFx0KGQucmFkaXVzLzEwKSArIFwiZW1cIik7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5hdHRyKFwiclwiLCBmdW5jdGlvbihkKSB7cmV0dXJuIGQucmFkaXVzO30pO1xuXG5cdFx0XHQvL21ha2UgbGFiZWxzIGFwcGVhclxuXHRcdFx0c2VsLnNlbGVjdEFsbChcIi5wYXBlckxhYmVsXCIpXG5cdFx0XHRcdC8vIC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKVxuXHRcdFx0XHQuc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpXG5cdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgMClcblx0XHRcdFx0LnRyYW5zaXRpb24oKVxuXHRcdFx0XHQuZGVsYXkoZnVuY3Rpb24oZCkge3JldHVybiBkdXIvMiArIGQuaWR4Kjc1O30pXG5cdFx0XHRcdC5kdXJhdGlvbihkdXIpXG5cdFx0XHRcdC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XG5cdFx0XHQvLyBsYWJlbHNDb2xsaXNpb25EZXRlY3QoKTtcblx0XHRcdGQzLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoaXNZZWFySXRlbS5hcHBlbmQoXCJwYXRoXCIpLmRhdHVtKGxpbmVkYXRhKS5hdHRyKFwiY2xhc3NcIiwgXCJqb2luTGluZVwiKS5hdHRyKFwiZFwiLCBsaW5lKTtcblx0XHRcdFx0ZGlzcGxheSgpXG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0Ly8gZnVuY3Rpb24gY29udHJhY3QoeWVhckRhdGEpIHtcblx0XHRmdW5jdGlvbiBjb250cmFjdCgpIHtcblx0XHRcdGQzLnNlbGVjdEFsbChcIi5qb2luTGluZVwiKS5yZW1vdmUoKTtcblx0XHRcdHZhciBkdXIgPSA1MDA7XG5cdFx0XHQvLyB2YXIgc2VsID0gcGFwZXJJdGVtcy5maWx0ZXIoZnVuY3Rpb24oZCkge3JldHVybiBkLnllYXI9PT15ZWFyRGF0YS55ZWFyfSk7XG5cdFx0XHR2YXIgc2VsID0gZDMuc2VsZWN0QWxsKFwiLmV4cGFuZGVkXCIpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coc2VsLmVtcHR5KCkpO1xuXHRcdFx0c2VsLnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpXG5cdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsMClcIilcblx0XHRcdFx0LmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0ZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoXCJleHBhbmRlZFwiLCBmYWxzZSlcblx0XHRcdFx0XHRcdC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwiXCIpO1xuXHRcdFx0XHR9KVxuXHRcdFx0c2VsLnNlbGVjdEFsbChcIi5wYXBlck1hcmtcIikudHJhbnNpdGlvbigpLmR1cmF0aW9uKGR1cioxLjUpXG5cdFx0XHRcdC5zdHlsZVR3ZWVuKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZDMuaW50ZXJwb2xhdGUoXG5cdFx0XHRcdFx0XHRcdHRoaXMuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSxcblx0XHRcdFx0XHRcdFx0XCIxLjVlbVwiKVxuXHRcdFx0XHR9KVxuXHRcdFx0XHQuYXR0cihcInJcIiwgMCk7XG5cdFx0XHRzZWwuc2VsZWN0QWxsKFwiLnBhcGVyTGFiZWxcIikuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblx0XHR9XG5cdFx0Ly8gZnVuY3Rpb24gZXhwYW5kKHllYXJEYXRhKSB7XG5cdFx0Ly8gXHRjb25zb2xlLmxvZyh5ZWFyRGF0YSk7XG5cdFx0Ly8gXHRpZiAoIXllYXJEYXRhLmV4cGFuZGVkKSB7XG5cdFx0Ly8gXHRcdFxuXHRcdC8vIFx0XHQvLyBkMy5zZWxlY3RBbGwoXCIueWVhckl0ZW1MYWJlbFwiKS5jbGFzc2VkKFwiaGlkZGVuXCIpO1xuXHRcdC8vIFx0XHQkKCAnLnllYXJJdGVtTGFiZWwnICkuaGlkZSgpO1xuXHRcdC8vIFx0XHR2YXIgZHVyID0gNTAwO1xuXHRcdC8vIFx0XHQvLyB2YXIgcmFkID0geWVhckRhdGEucmFkaXVzO1xuXHRcdC8vIFx0XHR2YXIgcmFkID0gMTA7XG5cdFx0Ly8gXHRcdHZhciBwYXJlbnRZID0geWVhckRhdGEuY3k7XG5cdFx0Ly8gXHRcdHZhciBtYXJrcyA9IG1haW5DbGlwUGF0aC5zZWxlY3RBbGwoXCIucGFwZXJJdGVtXCIpXG5cdFx0Ly8gXHRcdFx0XHRcdC8vIC5kYXRhKHZpc0l0ZW1zLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLmlkOyB9KVxuXHRcdC8vIFx0XHRcdFx0XHQuZGF0YSh5ZWFyRGF0YS52YWx1ZXMpO1xuXHRcdC8vIFx0XHRtYXJrcy5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdC8vIFx0XHRcdFx0Ly8gLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7cmV0dXJuIFwibWFpbkl0ZW0gbWluaUl0ZW1cIiArIGQubGFuZTt9KVxuXHRcdC8vIFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVySXRlbVwiKVxuXHRcdC8vIFx0XHRcdFx0Lm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbihkKSB7Y29uc29sZS5sb2coZCk7fSkuYXBwZW5kKCd0ZXh0JykudGV4dCgnZCcpO1xuXHRcdC8vIFx0XHQvLyBtYXJrcy5leGl0KCkudHJhbnNpdGlvbigpLmR1cmF0aW9uKDEwMDApLmF0dHIoXCJjeVwiLCBwYXJlbnRZKS5yZW1vdmUoKTtcblx0XHQvLyBcdFx0Ly8gaXRlbVJlY3RzLnNlbGVjdEFsbCgndGV4dCcpLmRhdGEoeWVhckRhdGEudmFsdWVzKS5lbnRlcigpLmFwcGVuZCgndGV4dCcpLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHtjb25zb2xlLmxvZyhkKTsgcmV0dXJuIGQuY3g7fSkuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge3JldHVybiBkLmN5O30pLnRleHQoZnVuY3Rpb24oZCkge3JldHVybiBkLnRpdGxlO30pO1xuXHRcdC8vIFx0XHRtYXJrcy5leGl0KCkucmVtb3ZlKCk7XG5cdFx0Ly9cblx0XHQvLyBcdFx0dmFyIGxhYmVscyA9IG1haW5DbGlwUGF0aC5zZWxlY3RBbGwoXCIucGFwZXJJdGVtTGFiZWxcIilcblx0XHQvLyBcdFx0XHQuZGF0YSh5ZWFyRGF0YS52YWx1ZXMpO1xuXHRcdC8vIFx0XHRsYWJlbHMuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0Ly8gXHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInBhcGVySXRlbUxhYmVsXCIpXG5cdFx0Ly8gXHRcdFx0LmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKTtcblx0XHQvLyBcdFx0bGFiZWxzLmV4aXQoKS5yZW1vdmUoKTtcblx0XHQvL1xuXHRcdC8vIFx0XHRtYXJrcy5hdHRyKFwiY3hcIiwgYmVmb3JlVHJhbnNpdGlvblgpXG5cdFx0Ly8gXHRcdFx0XHQuYXR0cigncicsIGZ1bmN0aW9uKGQpIHtcblx0XHQvLyBcdFx0XHRcdFx0XHQvLyBkLnJhZGl1cyA9IHJhZCArICgyICogZWZTdW1TY2FsZShkLnN1bV9laWdlbmZhY3RvcikpO1xuXHRcdC8vIFx0XHRcdFx0XHRcdGQucmFkaXVzID0gcmFkICsgKDIgKiBlZlNjYWxlKGQuZWlnZW5mYWN0b3Jfc2NvcmUpKTtcblx0XHQvLyBcdFx0XHRcdFx0XHRyZXR1cm4gZC5yYWRpdXM7XG5cdFx0Ly8gXHRcdFx0XHRcdH0pXG5cdFx0Ly8gXHRcdFx0XHQuYXR0cihcImN5XCIsIGJlZm9yZVRyYW5zaXRpb25ZKVxuXHRcdC8vIFx0XHRcdFx0LnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpXG5cdFx0Ly8gXHRcdFx0XHQuYXR0cihcImN4XCIsIGFmdGVyVHJhbnNpdGlvblgpXG5cdFx0Ly8gXHRcdFx0XHQuYXR0cihcImN5XCIsIGFmdGVyVHJhbnNpdGlvblkpXG5cdFx0Ly8gXHRcdFx0XHQuc3R5bGUoc3R5bGVzVmlzaWJsZSk7XG5cdFx0Ly8gXHRcdGxhYmVscy5hdHRyKFwieFwiLCBiZWZvcmVUcmFuc2l0aW9uWClcblx0XHQvLyBcdFx0XHQudGV4dChmdW5jdGlvbihkKSB7cmV0dXJuIGQudGl0bGU7fSlcblx0XHQvLyBcdFx0XHQuYXR0cihcInlcIiwgYmVmb3JlVHJhbnNpdGlvblkpXG5cdFx0Ly8gXHRcdFx0LnRyYW5zaXRpb24oKS5kdXJhdGlvbihkdXIpXG5cdFx0Ly8gXHRcdFx0LmF0dHIoXCJ4XCIsIGFmdGVyVHJhbnNpdGlvblgpXG5cdFx0Ly8gXHRcdFx0LmF0dHIoXCJ5XCIsIGFmdGVyVHJhbnNpdGlvblkpO1xuXHRcdC8vIFx0eWVhckRhdGEuZXhwYW5kZWQgPSB0cnVlO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblx0XHQvL1xuXHRcdC8vIGZ1bmN0aW9uIGNvbnRyYWN0KGQpIHtcblx0XHQvLyBcdHZhciBkdXIgPSA1MDA7XG5cdFx0Ly8gXHRpZiAoZC5leHBhbmRlZCkge1xuXHRcdC8vIFx0XHR2YXIgbWFya3MgPSBtYWluQ2xpcFBhdGguc2VsZWN0QWxsKFwiLnBhcGVySXRlbVwiKVxuXHRcdC8vIFx0XHRcdC5pbnRlcnJ1cHQoXCJjb250cmFjdFwiKVxuXHRcdC8vIFx0XHRcdC50cmFuc2l0aW9uKFwiY29udHJhY3RcIikuZGVsYXkoMjAwMCkuZHVyYXRpb24oZHVyKVxuXHRcdC8vIFx0XHRcdC5hdHRyKFwiY3hcIiwgYmVmb3JlVHJhbnNpdGlvblgpXG5cdFx0Ly8gXHRcdFx0LmF0dHIoXCJjeVwiLCAwKVxuXHRcdC8vIFx0XHRcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKF8sIGkpIHtcblx0XHQvLyBcdFx0XHRcdGlmIChpID09PSAwKSBkLmV4cGFuZGVkID0gZmFsc2U7XG5cdFx0Ly8gXHRcdFx0XHR9KVxuXHRcdC8vIFx0XHRcdC5yZW1vdmUoKTtcblx0XHQvLyBcdFx0dmFyIGxhYmVscyA9IG1haW5DbGlwUGF0aC5zZWxlY3RBbGwoXCIucGFwZXJJdGVtTGFiZWxcIilcblx0XHQvLyBcdFx0XHQuaW50ZXJydXB0KFwiY29udHJhY3RcIilcblx0XHQvLyBcdFx0XHQudHJhbnNpdGlvbihcImNvbnRyYWN0XCIpLmRlbGF5KDIwMDApLmR1cmF0aW9uKGR1cilcblx0XHQvLyBcdFx0XHQuYXR0cihcInhcIiwgYmVmb3JlVHJhbnNpdGlvblgpXG5cdFx0Ly8gXHRcdFx0LmF0dHIoXCJ5XCIsIDApXG5cdFx0Ly8gXHRcdFx0LnJlbW92ZSgpO1xuXHRcdC8vIFx0fVxuXHRcdC8vIH1cblxuXHRcdGZ1bmN0aW9uIGxhYmVsc0NvbGxpc2lvbkRldGVjdCgpIHtcblx0XHRcdC8vIGRldGVjdCBpZiBsYWJlbHMgZ28gb2ZmIHNjcmVlblxuXG5cdFx0XHQvLyBmdW5jdGlvbiBjaGVja1NpbmdsZUxhYmVsKGQpIHtcblx0XHRcdC8vIFx0dmFyIGJvdW5kaW5nUmVjdCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHQvLyBcdGNvbnNvbGUubG9nKGJvdW5kaW5nUmVjdC53aWR0aCArICQoIHRoaXMgKS5wb3NpdGlvbigpLmxlZnQpO1xuXHRcdFx0Ly8gXHRpZiAoJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdDwwKSB7XG5cdFx0XHQvLyBcdFx0ZDMuc2VsZWN0KHRoaXMpLnNlbGVjdChcIi5wYXBlckxhYmVsXCIpLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXHRcdFx0Ly8gXHR9IGVsc2Uge1xuXHRcdFx0Ly8gXHRcdGQzLnNlbGVjdCh0aGlzKS5zZWxlY3QoXCIucGFwZXJMYWJlbFwiKS5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIik7XG5cdFx0XHQvLyBcdH1cblx0XHRcdC8vIH1cblx0XHRcdGZ1bmN0aW9uIGNoZWNrU2luZ2xlTGFiZWwoZCkge1xuXHRcdFx0XHRmdW5jdGlvbiB3cmFwSW5BbmNob3Ioc3RhYmxlX3VybCwgdGV4dCkge1xuXHRcdFx0XHRcdC8vIHJldHVybiAnPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImh0dHA6Ly9sYWJzLmpzdG9yLm9yZycgKyBzdGFibGVfdXJsICsgJ1wiPicgKyB0ZXh0ICsgJzwvYT4nXG5cdFx0XHRcdFx0cmV0dXJuICc8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJyArIHN0YWJsZV91cmwgKyAnXCI+JyArIHRleHQgKyAnPC9hPidcblx0XHRcdFx0fVxuXHRcdFx0XHQvLyB2YXIgYm91bmRpbmdSZWN0ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0dmFyIHRoaXNMYWJlbCA9IGQzLnNlbGVjdCh0aGlzKS5zZWxlY3QoXCIucGFwZXJMYWJlbFwiKTtcblx0XHRcdFx0Ly8gdmFyIHdvcmRzID0gdGhpc0xhYmVsLnRleHQoKS5zcGxpdChcIiBcIik7XG5cdFx0XHRcdC8vIHRoaXNMYWJlbC50ZXh0KGQudGl0bGUpO1xuXHRcdFx0XHR0aGlzTGFiZWwuaHRtbCh3cmFwSW5BbmNob3IoZC51cmwsIGQudGl0bGUpKTtcblx0XHRcdFx0dmFyIHdvcmRzID0gZC50aXRsZS5zcGxpdChcIiBcIik7XG5cdFx0XHRcdHZhciBnaXZlVXBUaHJlc2hvbGQgPSAyMDtcblx0XHRcdFx0dmFyIGkgPSAwO1xuXHRcdFx0XHR2YXIgdmlld0xlZnRFZGdlID0gJCggJyN0aW1lbGluZSBzdmcnICkucG9zaXRpb24oKS5sZWZ0ICsgbVszXTtcblx0XHRcdFx0d2hpbGUgKHRydWUpIHtcblx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0aWYgKGk+Z2l2ZVVwVGhyZXNob2xkKSB7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dmFyIGxlZnRQb3MgPSAkKCB0aGlzICkucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdC8vIGlmIChsZWZ0UG9zIDwgMjApIHtcblx0XHRcdFx0XHQvLyBpZiAobGVmdFBvcyA8IG1bM10pIHtcblx0XHRcdFx0XHRpZiAobGVmdFBvcyA8IHZpZXdMZWZ0RWRnZSkge1xuXHRcdFx0XHRcdFx0dmFyIG51bVdvcmRzID0gd29yZHMubGVuZ3RoO1xuXHRcdFx0XHRcdFx0d29yZHMgPSB3b3Jkcy5zbGljZSgwLCBudW1Xb3Jkcy0yKTtcblx0XHRcdFx0XHRcdHZhciBzaG9ydGVuZWRUaXRsZSA9IHdvcmRzLmpvaW4oXCIgXCIpK1wiLi4uXCI7XG5cdFx0XHRcdFx0XHQvLyB0aGlzTGFiZWwudGV4dCh3b3Jkcy5qb2luKFwiIFwiKStcIi4uLlwiKTtcblx0XHRcdFx0XHRcdHRoaXNMYWJlbC5odG1sKHdyYXBJbkFuY2hvcihkLnVybCwgc2hvcnRlbmVkVGl0bGUpKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIHZhciBsZWZ0UG9zID0gJCggdGhpcyApLnBvc2l0aW9uKCkubGVmdDtcblx0XHRcdFx0Ly9cblx0XHRcdFx0Ly8gaWYgKGxlZnRQb3M8MCkge1xuXHRcdFx0XHQvLyBcdGQzLnNlbGVjdCh0aGlzKS5zZWxlY3QoXCIucGFwZXJMYWJlbFwiKVxuXHRcdFx0XHQvLyBcdFx0LnRleHQoZC50aXRsZS5zbGljZSgwLCAxMCkpO1xuXHRcdFx0XHQvLyBcdGNoZWNrU2luZ2xlTGFiZWwoZCk7XG5cdFx0XHRcdC8vIH0gZWxzZSB7XG5cdFx0XHRcdC8vIFx0Y29uc29sZS5sb2coJ2xlYXZpbmcgcmVjdXJzaXZlIGZ1bmN0aW9uJylcblx0XHRcdFx0Ly8gfVxuXHRcdFx0XHQvLyByZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRkMy5zZWxlY3RBbGwoXCIucGFwZXJJdGVtLmV4cGFuZGVkXCIpXG5cdFx0XHRcdC5lYWNoKGNoZWNrU2luZ2xlTGFiZWwpO1xuXHRcdH1cblx0XHRcblx0XHRmdW5jdGlvbiBkZW1vSW5pdCgpIHtcblx0XHRcdGNoYXJ0LmNsYXNzZWQoXCJkZW1vSW5Qcm9ncmVzc1wiLCB0cnVlKTtcblx0XHRcdGNsZWFyQnJ1c2goKTtcblx0XHRcdGNvbnRyYWN0KCk7XG5cdFx0XHRkaXNhYmxlSW50ZXJhY3Rpb24oKTtcblx0XHRcdG1pbmkub24oXCJtb3VzZWRvd25cIiwgZGVtb1F1aXQpO1xuXHRcdFx0ZnVuY3Rpb24gZGVtb1F1aXQoKSB7XG5cdFx0XHRcdGNoYXJ0LmNsYXNzZWQoXCJkZW1vSW5Qcm9ncmVzc1wiLCBmYWxzZSk7XG5cdFx0XHRcdGN1cnNvckljb24udHJhbnNpdGlvbigwKS5yZW1vdmUoKTtcblx0XHRcdH1cblx0XHRcdHZhciB0cmFuc2l0aW9uVGltZXMgPSBbXG5cdFx0XHRcdFx0NzUwLCAgLy8gMDogaW5pdGlhbCBkZWxheSBiZWZvcmUgYW55dGhpbmcgaGFwcGVuc1xuXHRcdFx0XHRcdDEwMDAsICAvLyAxOiB0aW1lIHRvIG1vdmUgdGhlIGN1cnNvciB0byB0aGUgbWluaSBhcmVhXG5cdFx0XHRcdFx0MjAwMCwgIC8vIDI6IHRpbWUgdG8gZHJhdyB0aGUgaW5pdGlhbCBicnVzaFxuXHRcdFx0XHRcdDIwMCwgICAvLyAzOiBkZWxheSBhZnRlciBicnVzaFxuXHRcdFx0XHRcdDIwMDAsICAvLyA0OiB0aW1lIHRvIG1vdmUgdGhlIGN1cnNvciB0byBhIG1haW4gaXRlbVxuXHRcdFx0XHRcdDMwMDAsICAvLyA1OiBkZWxheSB0byByZW1vdmUgYW5kIGVuZCB0aGUgZGVtb1xuXHRcdFx0XHRdO1xuXHRcdFx0dmFyIGN1cnNvckljb24gPSBjaGFydC5hcHBlbmQoXCJ0ZXh0XCIpXG5cdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJjdXJzb3JJY29uXCIpXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcblx0XHRcdFx0LnN0eWxlKFwiZm9udC1zaXplXCIsIFwiMWVtXCIpXG5cdFx0XHRcdC50ZXh0KFwiXFx1ZjI0NVwiKVxuXHRcdFx0XHQvLyAuYXR0cihcInhcIiwgMTAwKVxuXHRcdFx0XHQvLyAuYXR0cihcInlcIiwgMzAwKTtcblx0XHRcdFx0Ly8gLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTAwLDMwMClcIik7XG5cdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdyArIFwiLFwiICsgbWFpbkhlaWdodCArIFwiKVwiKTtcblx0XHRcdC8vIHZhciBpbml0RHVyYXRpb24gPSAxMDAwLFxuXHRcdFx0Ly8gXHRpbml0RGVsYXkgPSAxMDAwO1xuXHRcdFx0Ly8gY2hhbmdlRXh0ZW50KDE5NzAsIDIwMDAsIGluaXREdXJhdGlvbiwgXCJjdWJpYy1pbi1vdXRcIiwgaW5pdERlbGF5KTtcblx0XHRcdC8vIGQzLnRyYW5zaXRpb24oXCJpbml0RGVtb1RyYW5zaXRpb25cIikuZGVsYXkoaW5pdERlbGF5ICsgaW5pdER1cmF0aW9uKVxuXHRcdFx0Ly8gXHQuZWFjaChcImVuZFwiLCBkZW1vRXhwYW5kKTtcblx0XHRcdHZhciBleHRlbnRTZWxlY3QgPSBtaW5pLnNlbGVjdChcIi5icnVzaFwiKS5zZWxlY3QoXCIuZXh0ZW50XCIpO1xuXHRcdFx0Ly8gdmFyIGluaXRCcnVzaFJhbmdlID0gWzE5NzAsIDIwMDBdO1xuXHRcdFx0dmFyIHllYXJSYW5nZSA9IHRpbWVFbmQgLSB0aW1lQmVnaW47XG5cdFx0XHRpZiAoeWVhclJhbmdlIDwgNikge1xuXHRcdFx0XHR2YXIgaW5pdEJydXNoUmFuZ2UgPSBbdGltZUJlZ2luLCB0aW1lRW5kXTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHZhciBpbml0QnJ1c2hSYW5nZSA9IFt0aW1lQmVnaW4gKyBNYXRoLmZsb29yKHllYXJSYW5nZSouMyksIHRpbWVFbmQgLSBNYXRoLmZsb29yKHllYXJSYW5nZSouMildO1xuXHRcdFx0fVxuXHRcdFx0Y2hhbmdlRXh0ZW50KGluaXRCcnVzaFJhbmdlWzBdLCBpbml0QnJ1c2hSYW5nZVswXSwgMCk7XG5cdFx0XHQvLyB2YXIgaW5pdEJydXNoUG9zaXRpb24gPSArZXh0ZW50U2VsZWN0LmF0dHIoXCJ4XCIpO1xuXHRcdFx0dmFyIGluaXRCcnVzaFBvc2l0aW9uID0geChicnVzaC5leHRlbnQoKVsxXSkgKyBtWzNdO1xuXG5cdFx0XHQvLyBzZWxlY3QgYSB5ZWFySXRlbSB0byBleHBhbmQgZm9yIHRoZSBkZW1vXG5cdFx0XHR2YXIgdmlzSXRlbXMgPSB5ZWFySXRlbXMuZmlsdGVyKGZ1bmN0aW9uKGQpIHtyZXR1cm4gZC55ZWFyIDwgaW5pdEJydXNoUmFuZ2VbMV0gJiYgZC55ZWFyID4gaW5pdEJydXNoUmFuZ2VbMF07fSksXG5cdFx0XHRcdG51bVZpc0l0ZW1zID0gdmlzSXRlbXMuc2l6ZSgpO1xuXHRcdFx0aWYgKG51bVZpc0l0ZW1zID09PSAwKSB7XG5cdFx0XHRcdC8vIGlmIHRoZXJlIGFyZSBubyB2aXNpYmxlIGl0ZW1zIGluIHRoZSByYW5nZSwganVzdCBnaXZlIHVwXG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSBpZiAobnVtVmlzSXRlbXMgPT09IDEpIHtcblx0XHRcdFx0Ly8gaWYgdGhlcmUgaXMgb25seSBvbmUgdmlzaWJsZSBpdGVtLCB1c2UgaXRcblx0XHRcdFx0dmFyIHNlbEluZGV4ID0gMDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGVsc2UsIHVzZSBhbiBpdGVtIGEgbGl0dGxlIHRvIHRoZSByaWdodCBvZiBjZW50ZXJcblx0XHRcdFx0dmFyIHNlbEluZGV4ID0gTWF0aC5jZWlsKG51bVZpc0l0ZW1zKi41NSk7XG5cdFx0XHR9O1xuXHRcdFx0dmFyIGRlbW9ZZWFySXRlbSA9IHZpc0l0ZW1zLmZpbHRlcihmdW5jdGlvbihkLCBpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gaSA9PT0gc2VsSW5kZXg7XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdGlmICghY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdC8vIHF1aXRcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cblx0XHRcdGN1cnNvckljb24udHJhbnNpdGlvbigpLmRlbGF5KHRyYW5zaXRpb25UaW1lc1swXSlcblx0XHRcdFx0LmR1cmF0aW9uKHRyYW5zaXRpb25UaW1lc1sxXSlcblx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXG5cdFx0XHRcdFx0XHQvLyBjb25zdHJ1Y3RUcmFuc2xhdGUoaW5pdEJydXNoUG9zaXRpb24rMTUsIG1haW5IZWlnaHQrbVswXSsobWluaUhlaWdodC8yKSlcblx0XHRcdFx0XHRcdGNvbnN0cnVjdFRyYW5zbGF0ZShpbml0QnJ1c2hQb3NpdGlvbiwgbWFpbkhlaWdodCttWzBdKyhtaW5pSGVpZ2h0LzIpKVxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHQuZWFjaChcImVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdFx0XHRkZW1vRHJhd0JydXNoKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlbW9FbmQoMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0ZnVuY3Rpb24gZGVtb0RyYXdCcnVzaCgpIHtcblx0XHRcdFx0Y2hhbmdlRXh0ZW50KGluaXRCcnVzaFJhbmdlWzBdLCBpbml0QnJ1c2hSYW5nZVsxXSwgdHJhbnNpdGlvblRpbWVzWzJdKTtcblx0XHRcdFx0dmFyIG1pbkV4dGVudFNjcmVlbiA9ICtleHRlbnRTZWxlY3QuYXR0cihcInhcIik7XG5cdFx0XHRcdHZhciBtYXhFeHRlbnRTY3JlZW4gPSBtaW5FeHRlbnRTY3JlZW4gKyAoK2V4dGVudFNlbGVjdC5hdHRyKFwid2lkdGhcIikpO1xuXHRcdFx0XHR4MS5kb21haW4oYnJ1c2guZXh0ZW50KCkpO1xuXHRcdFx0XHRjdXJzb3JJY29uLnRyYW5zaXRpb24oKVxuXHRcdFx0XHRcdC5kdXJhdGlvbih0cmFuc2l0aW9uVGltZXNbMl0pXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHR2YXIgeFBvcyA9IHgoYnJ1c2guZXh0ZW50KClbMV0pICsgbVszXTtcblx0XHRcdFx0XHRcdHJldHVybiBjb25zdHJ1Y3RUcmFuc2xhdGUoeFBvcywgbWFpbkhlaWdodCttWzBdKyhtaW5pSGVpZ2h0LzIpKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHQuZWFjaChcImVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRpZiAoY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdFx0XHRkZW1vRXhwYW5kKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRlbW9FbmQoMCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0ZnVuY3Rpb24gZGVtb0V4cGFuZCgpIHtcblx0XHRcdFx0Ly8gdmFyIGRlbW9UcmFuc2l0aW9uVGltZSA9IDIwMDA7XG5cdFx0XHRcdC8vIHZhciBkZW1vRGVsYXlUb1JlbW92ZSA9IDIwMDA7XG5cdFx0XHRcdC8vIHZhciBjdXJzb3JJY29uID0gbWFpbkNsaXBQYXRoLmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0Ly8gXHQuYXR0cihcImNsYXNzXCIsIFwiY3Vyc29ySWNvblwiKVxuXHRcdFx0XHQvLyBcdC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcblx0XHRcdFx0Ly8gXHQuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxZW1cIilcblx0XHRcdFx0Ly8gXHQudGV4dChcIlxcdWYyNDVcIilcblx0XHRcdFx0Ly8gXHQvLyAuYXR0cihcInhcIiwgMTAwKVxuXHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwieVwiLCAzMDApO1xuXHRcdFx0XHQvLyBcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDEwMCwzMDApXCIpO1xuXHRcdFx0XHQvLyBcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdyArIFwiLFwiICsgbWFpbkhlaWdodCArIFwiKVwiKTtcblxuXHRcdFx0XHR2YXIgZGVtb1llYXJNYXJrID0gZGVtb1llYXJJdGVtLnNlbGVjdChcIi55ZWFyTWFya1wiKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGVtb1llYXJJdGVtKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGVtb1llYXJNYXJrKTtcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGVtb1llYXJNYXJrLmF0dHIoXCJyXCIpKTtcblx0XHRcdFx0dmFyIHRyYW5zbGF0ZVN0ciA9IGRlbW9ZZWFySXRlbS5hdHRyKFwidHJhbnNmb3JtXCIpO1xuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyh0cmFuc2xhdGVTdHIpO1xuXHRcdFx0XHR2YXIgdHJhbnNsYXRlQ29vcmQgPSBkZWNvbnN0cnVjdFRyYW5zbGF0ZSh0cmFuc2xhdGVTdHIpO1xuXHRcdFx0XHR0cmFuc2xhdGVDb29yZC54ID0gdHJhbnNsYXRlQ29vcmQueCArIG1bM107XG5cdFx0XHRcdHRyYW5zbGF0ZUNvb3JkLnkgPSB0cmFuc2xhdGVDb29yZC55ICsgbVswXSArICgrZGVtb1llYXJNYXJrLmF0dHIoXCJyXCIpKTtcblx0XHRcdFx0dmFyIHRyYW5zbGF0ZSA9IGNvbnN0cnVjdFRyYW5zbGF0ZSh0cmFuc2xhdGVDb29yZC54LCB0cmFuc2xhdGVDb29yZC55KTtcblx0XHRcdFx0Ly8gbW92ZSB0aGUgY3Vyc29yIHRvIGEgeWVhciwgdGhlbiBtYW51YWxseSBleHBhbmQgdGhlIHllYXJcblx0XHRcdFx0Y3Vyc29ySWNvbi50cmFuc2l0aW9uKFwiZGVtb0V4cGFuZFwiKS5kZWxheSh0cmFuc2l0aW9uVGltZXNbM10pXG5cdFx0XHRcdFx0LmR1cmF0aW9uKHRyYW5zaXRpb25UaW1lc1s0XSlcblx0XHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCB0cmFuc2xhdGUpXG5cdFx0XHRcdFx0LmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRpZiAoY2hhcnQuY2xhc3NlZChcImRlbW9JblByb2dyZXNzXCIpKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBzZWwgPSBwYXBlckl0ZW1zLmZpbHRlcihmdW5jdGlvbihkZCkge3JldHVybiBkZC55ZWFyPT1kZW1vWWVhckl0ZW1bMF1bMF0uX19kYXRhX18ueWVhcn0pO1xuXHRcdFx0XHRcdFx0XHRleHBhbmQoc2VsKTtcblx0XHRcdFx0XHRcdFx0ZGVtb0VuZCh0cmFuc2l0aW9uVGltZXNbNV0pO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZGVtb0VuZCgwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0Ly8gY3Vyc29ySWNvbi50cmFuc2l0aW9uKFwiZGVtb0VuZFwiKS5kZWxheShkZW1vVHJhbnNpdGlvblRpbWUpXG5cdFx0XHRcdC8vIFx0LmR1cmF0aW9uKGRlbW9EZWxheVRvUmVtb3ZlKVxuXHRcdFx0XHQvLyBcdC5lYWNoKFwiZW5kXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHQvLyBcdFx0Y3Vyc29ySWNvbi5yZW1vdmUoKTtcblx0XHRcdFx0Ly8gXHRcdGNvbnRyYWN0KCk7XG5cdFx0XHRcdC8vIFx0fSk7XG5cdFx0XHR9XG5cblx0XHRcdGZ1bmN0aW9uIGRlbW9FbmQoZGVsYXkpIHtcblx0XHRcdFx0Y3Vyc29ySWNvbi50cmFuc2l0aW9uKFwiZGVtb0VuZFwiKVxuXHRcdFx0XHRcdC5kZWxheShkZWxheSlcblx0XHRcdFx0XHQuZHVyYXRpb24oMClcblx0XHRcdFx0XHQucmVtb3ZlKClcblx0XHRcdFx0XHQuZWFjaChcImVuZFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdGNvbnRyYWN0KCk7XG5cdFx0XHRcdFx0XHRlbmFibGVJbnRlcmFjdGlvbigpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcblx0XHRcdH1cblx0XHR9XG5cblxuXHRcdGZ1bmN0aW9uIHRlc3RQbGFjZUN1cnNvcigpIHtcblx0XHRcdHZhciBleHRlbnRTZWxlY3QgPSBtaW5pLnNlbGVjdChcIi5icnVzaFwiKS5zZWxlY3QoXCIuZXh0ZW50XCIpO1xuXHRcdFx0Ly8gY29uc29sZS5sb2coZXh0ZW50U2VsZWN0KTtcblx0XHRcdHZhciBtaW5FeHRlbnRTY3JlZW4gPSArZXh0ZW50U2VsZWN0LmF0dHIoXCJ4XCIpO1xuXHRcdFx0dmFyIGN1cnNvckljb24gPSBtYWluQ2xpcFBhdGguYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHQuYXR0cihcImNsYXNzXCIsIFwiY3Vyc29ySWNvblwiKVxuXHRcdFx0XHQuc3R5bGUoXCJmb250LWZhbWlseVwiLCBcIkZvbnRBd2Vzb21lXCIpXG5cdFx0XHRcdC5zdHlsZShcImZvbnQtc2l6ZVwiLCBcIjFlbVwiKVxuXHRcdFx0XHQudGV4dChcIlxcdWYyNDVcIilcblx0XHRcdFx0Ly8gLmF0dHIoXCJ4XCIsIDEwMClcblx0XHRcdFx0Ly8gLmF0dHIoXCJ5XCIsIDMwMCk7XG5cdFx0XHRcdC8vIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDEwMCwzMDApXCIpO1xuXHRcdFx0XHQuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1pbkV4dGVudFNjcmVlbiArIFwiLFwiICsgKG1haW5IZWlnaHQtMjApICsgXCIpXCIpO1xuXHRcdFx0XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gdGVzdENoYW5nZUhlaWdodCgpIHtcblx0XHRcdC8vIGNoYW5nZUV4dGVudChNYXRoLnJvdW5kKG1pbkV4dGVudCsxKSwgTWF0aC5yb3VuZChtYXhFeHRlbnQrMSksIDI1MCwgXCJsaW5lYXJcIik7XG5cdFx0XHR2YXIgY2hhcnRIZWlnaHQgPSArY2hhcnQuYXR0cihcImhlaWdodFwiKTtcblx0XHRcdHZhciBjdXJyTWFpbkhlaWdodCA9ICttYWluLmF0dHIoXCJoZWlnaHRcIik7XG5cdFx0XHRjaGFydC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkuYXR0cihcImhlaWdodFwiLCBjaGFydEhlaWdodCsxMDApO1xuXHRcdFx0bWFpbi50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMCkuYXR0cihcImhlaWdodFwiLCBjdXJyTWFpbkhlaWdodCsxMDApO1xuXHRcdFx0bWluaS50cmFuc2l0aW9uKCkuZHVyYXRpb24oMTAwMClcblx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtWzNdICsgXCIsXCIgKyAoY3Vyck1haW5IZWlnaHQrMTAwICsgbVswXSkgKyBcIilcIik7XG5cdFx0XHRkMy5zZWxlY3QoXCIjY2xpcCByZWN0XCIpLmF0dHIoXCJoZWlnaHRcIiwgY3Vyck1haW5IZWlnaHQrMTAwKTtcblx0XHRcdGRpc3BsYXkoKTtcblx0XHRcdC8vIGNvbnNvbGUubG9nKGQzLnNlbGVjdChcIiNjbGlwXCIpLmF0dHIoXCJoZWlnaHRcIikpO1xuXHRcdH1cblxuXHRcdC8vIHZhciB0ZXN0QnV0dG9uID0gZDMuc2VsZWN0KFwiYm9keVwiKS5hcHBlbmQoXCJidXR0b25cIilcblx0XHQvLyBcdFx0XHRcdFx0LmF0dHIoXCJpZFwiLCBcInRlc3RCdXR0b25cIilcblx0XHQvLyBcdFx0XHRcdFx0Lmh0bWwoXCJ0ZXN0QnV0dG9uXCIpXG5cdFx0Ly8gXHRcdFx0XHRcdC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuXHRcdC8vIFx0XHRcdFx0XHRcdC8vIG1pbmltaXplVGltZWxpbmUoKTtcblx0XHQvLyBcdFx0XHRcdFx0XHRkZW1vSW5pdCgpO1xuXHRcdC8vIFx0XHRcdFx0XHR9KTtcblx0XHRkMy5zZWxlY3QoXCIuY2xpY2tGb3JEZW1vXCIpXG5cdFx0XHQub24oXCJjbGlja1wiLCBkZW1vSW5pdCk7XG5cblx0XHRmdW5jdGlvbiBkaXNhYmxlSW50ZXJhY3Rpb24oKSB7XG5cdFx0XHRkMy5zZWxlY3QoXCIjdGltZWxpbmUgc3ZnXCIpLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGVuYWJsZUludGVyYWN0aW9uKCkge1xuXHRcdFx0ZDMuc2VsZWN0KFwiI3RpbWVsaW5lIHN2Z1wiKS5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIG51bGwpO1xuXHRcdH1cblxuXHRcdCQoIGRvY3VtZW50ICkub24oXCJ0aW1lbGluZVZpczpjb250cmFjdFwiLCBmdW5jdGlvbigpIHtcblx0XHRcdGNvbnRyYWN0KCk7XG5cdFx0fSk7XG5cblx0XHQkKCBkb2N1bWVudCApLm9uKFwidGltZWxpbmVWaXM6ZGlzcGxheVwiLCBmdW5jdGlvbigpIHtcblx0XHRcdGRpc3BsYXkoKTtcblx0XHR9KTtcblxuXHRcdCQoIGRvY3VtZW50ICkub24oXCJ0aW1lbGluZVZpczpjbGVhckJydXNoXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0Y2xlYXJCcnVzaCgpO1xuXHRcdH0pO1xuXG5cdH0pO1xuXG5cbn0oKSk7XG4iXSwic291cmNlUm9vdCI6IiJ9