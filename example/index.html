<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width">
		<title>D3 Timeline Test</title>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
		<script type="text/javascript" charset="utf-8">
			$( function() {
				$( document ).tooltip({
					track: true,
					// position: { my: "left+10 bottom" }
					content: function() {
						return $( this ).attr( 'title' );
					}
				});
			} );
		</script>
		<script src="https://d3js.org/d3.v5.min.js" charset="utf-8"></script>
		<!-- <script src="d3.v3.js" charset="utf&#45;8"></script> -->
		<!-- <script src="d3&#45;textwrap.min.js" charset="utf&#45;8"></script> -->
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
		<link rel="stylesheet" href="font-awesome-4.6.3/css/font-awesome.min.css" type="text/css">
		<link rel="stylesheet" href="timeline_style.css" type="text/css" charset="utf-8">
		<style type="text/css" media="screen">
			body {
				font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;
				}

		</style>
	</head>
	<body>
		<h1 id="timelineHeading">Article timeline for topic: Climate Change</h1>
		<h5 class="clickForDemo" title="Click here for a quick demo." style="cursor: pointer;"><a>How does this work?</a></h5>
		<div id="timeline">
		</div>
		<div class="mobileAlt">
			<h3>Timeline is not displayed on small screens.</h3>
		</div>
		<a href="?m=circle">Circles</a> <br>
		<a href="?m=icon">Icons</a>
		<script type="text/javascript" charset="utf-8">
			var json_endpoint = 'Climate_change.json';
			
			// http://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript
			function getParameterByName(name, url) {
				if (!url) url = window.location.href;
				name = name.replace(/[\[\]]/g, "\\$&");
				var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
					results = regex.exec(url);
				if (!results) return null;
				if (!results[2]) return '';
				return decodeURIComponent(results[2].replace(/\+/g, " "));
			}

			var urlTopicName = getParameterByName('topic');
			if (urlTopicName) {
				json_endpoint = urlTopicName + ".json";
				$( '#timelineHeading' ).text("Article timeline for topic: " + urlTopicName);
			}
		</script>
		<script src="../lib/d3_article_timeline.js" charset="utf-8"></script>
		<script src="./example.js" charset="utf-8"></script>
	</body>
</html>
